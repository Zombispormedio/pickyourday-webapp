var __extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},Blaze;!function(e){var t;!function(e){function t(e){for(var t=null,i=["webgl","experimental-webgl","webkit-3d","moz-webgl"],n=0;n<i.length;++n){try{t=e.getContext(i[n])}catch(r){}if(t)break}return null===t?(alert("Could not initialise WebGL"),null):(t.viewportWidth=e.width,t.viewportHeight=e.height,t)}function i(t,i,n,r){var o=t.createBuffer();switch(t.bindBuffer(t.ARRAY_BUFFER,o),r){case e.BUFFER_DRAW.STATIC:t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.STATIC_DRAW);break;case e.BUFFER_DRAW.DYNAMIC:t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.DYNAMIC_DRAW);break;case e.BUFFER_DRAW.STREAM:t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.STREAM_DRAW);break;default:t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.STATIC_DRAW)}return t.bindBuffer(t.ARRAY_BUFFER,null),n?(o.itemSize=2,o.numItems=i.length/2):(o.itemSize=3,o.numItems=i.length/3),o}function n(t,i,n){var r=t.createBuffer(t.ELEMENT_ARRAY_BUFFER);switch(t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r),n){case e.BUFFER_DRAW.STATIC:t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),t.STATIC_DRAW);break;case e.BUFFER_DRAW.DYNAMIC:t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),t.DYNAMIC_DRAW);break;case e.BUFFER_DRAW.STREAM:t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),t.STREAM_DRAW);break;default:t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),t.STATIC_DRAW)}return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),r.itemSize=1,r.numItems=i.length,r}function r(e,t){var i=e.createTexture();return e.bindTexture(e.TEXTURE_2D,i),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.bindTexture(e.TEXTURE_2D,null),i}function o(e,t,i){var n=e.createShader(t);return e.shaderSource(n,i),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:(console.log(e.getShaderInfoLog(n)),null)}function a(e,t){return o(e,e.FRAGMENT_SHADER,t)}function u(e,t){return o(e,e.VERTEX_SHADER,t)}function s(e,t){var i=a(e,t.fragment),n=u(e,t.vertex),r=e.createProgram();return e.attachShader(r,n),e.attachShader(r,i),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS)||console.log(e.getProgramInfoLog(r)),r}e.getGLContext=t,function(e){e[e.STATIC=0]="STATIC",e[e.STREAM=1]="STREAM",e[e.DYNAMIC=2]="DYNAMIC"}(e.BUFFER_DRAW||(e.BUFFER_DRAW={}));e.BUFFER_DRAW;e.createBuffer=i,e.createIndexBuffer=n,e.createTexture=r,e.createShader=o,e.createFragmentShader=a,e.createVertexShader=u,e.createProgram=s}(t=e.WebGLUtils||(e.WebGLUtils={}));var i;!function(e){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function i(e){var i=t()+t();return e?e+i:i}function n(e){return e.map(function(e){return Number.isNaN(e)&&(e=0),e})}function r(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.addEventListener("load",function(){t(i.responseText)}),i.send()}function o(e){var t=e.split(".");return t[t.length-1]}function a(){return(new Date).getTime()}function u(e){return e*Math.PI/180}function s(e,t){for(var i=0,n=1,r=2,o=[],a=0;a<e.length;a++)o[a]=0;for(var a=0;a<t.length;a+=3){var u=[],s=[],f=[];u[i]=e[3*t[a+1]+i]-e[3*t[a]+i],u[n]=e[3*t[a+1]+n]-e[3*t[a]+n],u[r]=e[3*t[a+1]+r]-e[3*t[a]+r],s[i]=e[3*t[a+2]+i]-e[3*t[a+1]+i],s[n]=e[3*t[a+2]+n]-e[3*t[a+1]+n],s[r]=e[3*t[a+2]+r]-e[3*t[a+1]+r],f[i]=u[n]*s[r]-u[r]*s[n],f[n]=u[r]*s[i]-u[i]*s[r],f[r]=u[i]*s[n]-u[n]*s[i];for(var c=0;3>c;c++)o[3*t[a+c]+i]=o[3*t[a+c]+i]+f[i],o[3*t[a+c]+n]=o[3*t[a+c]+n]+f[n],o[3*t[a+c]+r]=o[3*t[a+c]+r]+f[r]}for(var a=0;a<e.length;a+=3){var l=[];l[i]=o[a+i],l[n]=o[a+n],l[r]=o[a+r];var h=Math.sqrt(l[i]*l[i]+l[n]*l[n]+l[r]*l[r]);0==h&&(h=1e-5),l[i]=l[i]/h,l[n]=l[n]/h,l[r]=l[r]/h,o[a+i]=l[i],o[a+n]=l[n],o[a+r]=l[r]}return o}e.s4=t,e.uuid=i,e.normalizeNaN=n,e.load=r,e.getExtension=o,e.nowInMilliseconds=a,e.degToRad=u,e.calculateNormals=s}(i=e.utils||(e.utils={})),function(e){e[e.ORBITING=0]="ORBITING",e[e.TRACKING=1]="TRACKING"}(e.CAMERA_TYPE||(e.CAMERA_TYPE={}));var n=e.CAMERA_TYPE,r=function(){function e(){}return e.setCanvasToContext=function(i,n){var r=t.getGLContext(n);e.setContext(i,r)},e.setContext=function(t,i){e._views[t].context=i},e.getContext=function(t){return e._views[t].context},e.createProgram=function(i,n){var r=e.getContext(i),o=t.createProgram(r,n);e.setProgram(i,o)},e.setProgram=function(t,i){e._views[t].program=i},e.getProgram=function(t){return e._views[t].program},e.useProgram=function(t){var i=e._views[t],n=i.context,r=i.program;n.useProgram(r)},e.createView=function(t){e._views[t]={}},e.setAttributeLocations=function(t,i){var n=e._views[t],r=n.context,o=n.program;n.attribs=i.reduce(function(e,t){return e[t]=r.getAttribLocation(o,t),e},{})},e.getAttrib=function(t,i){return e._views[t].attribs[i]},e.getUniform=function(t,i){return e._views[t].uniforms[i]},e.setUniformLocations=function(t,i){var n=e._views[t],r=n.context,o=n.program;n.uniforms=i.reduce(function(e,t){return e[t]=r.getUniformLocation(o,t),e},{})},e.enableAttrib=function(t,i,n){var r=e.getAttrib(t,i),o=e.getContext(t);o.enableVertexAttribArray(r),n?o.vertexAttribPointer(r,n.size||3,o.FLOAT,n.normalized||!1,n.stride||0,n.offset||0):o.vertexAttribPointer(r,3,o.FLOAT,!1,0,0)},e.disableAttrib=function(t,i){var n=e.getAttrib(t,i),r=e.getContext(t);r.disableVertexAttribArray(n)},e.renderLoop=function(e){setInterval(e,30)},e.addTexture=function(t,i){var n=e._views[t];n.textures=n.textures||[],n.textures.push(i)},e.removeTexture=function(t,i){var n=e._views[t];n.textures=n.textures||[];var r=n.textures.indexOf(i);n.textures.splice(r,1)},e.activeTexture=function(t,i,n){var r=e._views[t],o=r.context,a=(r.program,r.textures.indexOf(i));if(a>-1){o.activeTexture(0===a?o.TEXTURE0:o.TEXTURE0+a),o.bindTexture(o.TEXTURE_2D,n);var u=e.getUniform(t,"uSampler");o.uniform1i(u,a)}},e.isOffScreen=function(t){return e._views[t].offscreen},e.enableOffScreen=function(t){e._views[t].offscreen=!0},e.disableOffScreen=function(t){e._views[t].offscreen=!0},e.fillSelectorBuffer=function(t,i){var n=e._views[t];n.selectObjects=n.selectObjects||[],n.selectObjects.push(i)},e.clearSelectorBuffer=function(t){var i=e._views[t];i.selectObjects=[]},e.getSelectByColor=function(t,i){var n=e._views[t];return n.selectObjects=n.selectObjects||[],_.find(n.selectObjects,function(e){return _.isEqual(e.color,i)})},e._views={},e}();e.Ketch=r;var o=function(){function e(e){this._graph_id=e}return Object.defineProperty(e.prototype,"graphID",{get:function(){return this._graph_id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gl",{get:function(){return r.getContext(this.graphID)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"program",{get:function(){return r.getProgram(this.graphID)},enumerable:!0,configurable:!0}),e.prototype.getUniform=function(e){return r.getUniform(this.graphID,e)},e}();e.Renderable=o;var a=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype.beginDraw=function(e){},t.prototype.endDraw=function(e){},t}(o);e.Entity=a;var u=function(e){function t(t){e.call(this,t),this._stack=[],this._mvMatrix=mat4.create(),this._pMatrix=mat4.create(),this._nMatrix=mat4.create()}return __extends(t,e),t.prototype.push=function(){var e=mat4.create();mat4.set(this._mvMatrix,e),this._stack.push(e)},t.prototype.pop=function(){if(0==this._stack.length)throw"invalid popMatrix";this._mvMatrix=this._stack.pop()},t.prototype.ModelView=function(){this._camera?this._mvMatrix=this._camera.modelView:mat4.identity(this._mvMatrix)},Object.defineProperty(t.prototype,"mvMatrix",{get:function(){return this._mvMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pMatrix",{get:function(){return this._pMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nMatrix",{get:function(){return this._nMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MainCamera",{set:function(e){this._camera=e},enumerable:!0,configurable:!0}),t.prototype.Perspective=function(){var e=this.gl;mat4.identity(this._pMatrix),mat4.perspective(45,e.viewportWidth/e.viewportHeight,.1,1e3,this._pMatrix)},t.prototype.Normal=function(){mat4.identity(this._nMatrix),mat4.set(this._mvMatrix,this._nMatrix),mat4.inverse(this._nMatrix),mat4.transpose(this._nMatrix)},t.prototype.init=function(){this.ModelView(),this.Perspective(),this.Normal()},t.prototype.setUp=function(){var e=this.gl;this.Normal();var t=this.getUniform("uMVMatrix");t&&e.uniformMatrix4fv(t,!1,this._mvMatrix);var i=this.getUniform("uPMatrix");i&&e.uniformMatrix4fv(i,!1,this._pMatrix);var n=this.getUniform("uNMatrix");n&&e.uniformMatrix4fv(n,!1,this._nMatrix)},t}(o);e.MatrixStack=u;var s;!function(e){var n=function(e){function n(t){e.call(this,t)}return __extends(n,e),Object.defineProperty(n.prototype,"onload",{set:function(e){this._onload=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"src",{set:function(e){var t=this,n=this,r=i.getExtension(e);i.load(e,function(e){var i;switch(r){case"obj":i=n.parseOBJ(e);break;case"json":i=n.parseJSON(e)}n.createBuffers(i),t._onload&&t._onload()})},enumerable:!0,configurable:!0}),n.prototype.parseJSON=function(e){var t={};try{t=JSON.parse(e)}catch(i){console.log(i)}return t},n.prototype.parseOBJ=function(e){var t={v:[],vn:[],vt:[],iv:[],"in":[],it:[]},i=e.split("\n"),n=i.filter(function(e){return"v"===e[0]}),r=i.filter(function(e){return"f"===e[0]});n.forEach(function(e){var i=e.replace("\r","").split(" "),n=i[0];t[n]=t[n].concat(i.slice(1).filter(function(e){return""!==e}))});var o=[];return r.forEach(function(e){var t=e.replace("\r","").replace("f","").split(" ");o=o.concat(t.slice(1).filter(function(e){return""!==e}))}),o.forEach(function(e){var i=e.split("/");t.iv.push(parseInt(i[0])-1),t["in"].push(parseInt(i[1])-1),t.it.push(parseInt(i[2])-1)}),t},n.prototype.createBuffers=function(e){function n(e){return t.createBuffer(o,e)}function r(e){return t.createIndexBuffer(o,e)}var o=this.gl;_.defaults(e,{v:[],vn:[],vt:[],iv:[],"in":[],it:[]}),e.v.length>0&&(this._vbo=n(e.v)),e.v.length>0&&e.iv.length>0&&(this._nbo=n(i.calculateNormals(e.v,e.iv))),e.vt.length>0&&(this._tbo=t.createBuffer(o,e.vt,!0)),e.iv.length>0&&(this._ivbo=r(e.iv)),e["in"].length>0&&(this._inbo=r(e["in"])),e.it.length>0&&(this._itbo=r(e.it))},Object.defineProperty(n.prototype,"vbo",{get:function(){return this._vbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nbo",{get:function(){return this._nbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tbo",{get:function(){return this._tbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ivbo",{get:function(){return this._ivbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inbo",{get:function(){return this._inbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itbo",{get:function(){return this._itbo},enumerable:!0,configurable:!0}),n}(o);e.MeshBuffers=n;var a=function(e){function n(t){e.call(this,t),this._image=new Image,this._oid=i.uuid(this.constructor.name)}return __extends(n,e),Object.defineProperty(n.prototype,"onload",{set:function(e){this._onload=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"src",{set:function(e){this._image.onload=this.loadTextureImage(this._onload),this._image.src=e},enumerable:!0,configurable:!0}),n.prototype.loadTextureImage=function(e){var i=this,n=this;return function(){i._texture=t.createTexture(n.gl,n._image),r.addTexture(n.graphID,n._oid),e&&e()}},Object.defineProperty(n.prototype,"content",{get:function(){return this._texture},enumerable:!0,configurable:!0}),n}(o);e.MeshTexture=a;var u=function(e){function t(t,i,n,r,o){e.call(this,t),this._ambient=i?vec4.create(i):vec4.create(),this._diffuse=n?vec4.create(n):void 0,this._specular=r?vec4.create(r):vec4.create(),this._shininess=o||200}return __extends(t,e),Object.defineProperty(t.prototype,"onload",{set:function(e){this._onload=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"src",{set:function(e){var t=this,n=this;i.load(e,function(e){var i=n.parse(e);t._ambient=i.Ka,t._diffuse=i.Kd,t._specular=i.Ks,t.shininess=i.Ns,t._onload&&t._onload()})},enumerable:!0,configurable:!0}),t.prototype.parse=function(e){var t={},i=["Ka","Kd","Ks","Ns"],n=e.split("\n");return n.forEach(function(e){var n=e.split(" "),r=n[0];if(i.indexOf(r)>-1)switch(r){case"Ns":t.Ns=Number(n[1]);break;default:var o=n.slice(1).map(function(e){return Number(e)});o.push(1),t[r]=o}}),t},Object.defineProperty(t.prototype,"ambient",{get:function(){return this._ambient},set:function(e){this._ambient=i.normalizeNaN(vec4.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"diffuse",{get:function(){return this._diffuse},set:function(e){this._diffuse=i.normalizeNaN(vec4.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"specular",{get:function(){return this._specular},set:function(e){this._specular=i.normalizeNaN(vec4.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shininess",{get:function(){return this._shininess},set:function(e){this._shininess=e},enumerable:!0,configurable:!0}),t}(o);e.MeshMaterial=u}(s=e.Resources||(e.Resources={}));var f;!function(e){var t=function(){function e(){}return e.All_effect="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform sampler2D uSampler;\nuniform float uTime;\nuniform sampler2D uNoiseSampler;\nuniform vec2 uInverseTextureSize;\n\nvarying vec2 vTextureCoord;\n\nconst float speed = 15.0;\nconst float magnitude = 0.015;\n\nconst float grainIntensity = 0.1;\nconst float scrollSpeed = 4000.0;\n\nvec4 offsetLookup(float xOff, float yOff) {\n    return texture2D(uSampler, vec2(vTextureCoord.x + xOff*uInverseTextureSize.x, vTextureCoord.y + yOff*uInverseTextureSize.y));\n}\n\nvoid main(){\n\n     vec4 frameColor = offsetLookup(-4.0, 0.0) * 0.05;\n    frameColor += offsetLookup(-3.0, 0.0) * 0.09;\n    frameColor += offsetLookup(-2.0, 0.0) * 0.12;\n    frameColor += offsetLookup(-1.0, 0.0) * 0.15;\n    frameColor += offsetLookup(0.0, 0.0) * 0.16;\n    frameColor += offsetLookup(1.0, 0.0) * 0.15;\n    frameColor += offsetLookup(2.0, 0.0) * 0.12;\n    frameColor += offsetLookup(3.0, 0.0) * 0.09;\n    frameColor += offsetLookup(4.0, 0.0) * 0.05;\n    \n    vec4 grain=texture2D(uNoiseSampler, vTextureCoord*2.0+uTime*scrollSpeed*uInverseTextureSize);\n     \n      frameColor +=texture2D(uSampler, vTextureCoord)-(grain*grainIntensity);\n          vec2 wavyCoord;\n    wavyCoord.s=vTextureCoord.s+(sin(uTime+vTextureCoord.t*speed)*magnitude);\n    wavyCoord.t=vTextureCoord.t+(sin(uTime+vTextureCoord.s*speed)*magnitude);\n    \n    frameColor+=texture2D(uSampler, wavyCoord);\n    gl_FragColor=frameColor;\n}",e.Blur_effect="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform sampler2D uSampler;\nuniform vec2 uInverseTextureSize;\n\nvarying vec2 vTextureCoord;\n\nvec4 offsetLookup(float xOff, float yOff) {\n    return texture2D(uSampler, vec2(vTextureCoord.x + xOff*uInverseTextureSize.x, vTextureCoord.y + yOff*uInverseTextureSize.y));\n}\n\nvoid main(void)\n{\n    vec4 frameColor = offsetLookup(-4.0, 0.0) * 0.05;\n    frameColor += offsetLookup(-3.0, 0.0) * 0.09;\n    frameColor += offsetLookup(-2.0, 0.0) * 0.12;\n    frameColor += offsetLookup(-1.0, 0.0) * 0.15;\n    frameColor += offsetLookup(0.0, 0.0) * 0.16;\n    frameColor += offsetLookup(1.0, 0.0) * 0.15;\n    frameColor += offsetLookup(2.0, 0.0) * 0.12;\n    frameColor += offsetLookup(3.0, 0.0) * 0.09;\n    frameColor += offsetLookup(4.0, 0.0) * 0.05;\n\n    gl_FragColor = frameColor;\n}",e.Film_effect="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform sampler2D uSampler;\nuniform sampler2D uNoiseSampler;\nuniform vec2 uInverseTextureSize;\nuniform float uTime;\n\nvarying vec2 vTextureCoord;\n\nconst float grainIntensity = 0.1;\nconst float scrollSpeed = 4000.0;\n\n\nvoid main()\n{\n    vec4 frameColor=texture2D(uSampler, vTextureCoord);\n    vec4 grain=texture2D(uNoiseSampler, vTextureCoord*2.0+uTime*scrollSpeed*uInverseTextureSize);\n    gl_FragColor=frameColor-(grain*grainIntensity);\n\n}",e.Grey_effect="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform sampler2D uSampler;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    vec4 frameColor = texture2D(uSampler, vTextureCoord);\n    float luminance = frameColor.r * 0.3 + frameColor.g * 0.59 + frameColor.b * 0.11;\n    gl_FragColor = vec4(luminance, luminance, luminance, frameColor.a);\n}",e.Invert_effect="#ifdef GL_ES\nprecision mediump float;\n#endif\nuniform sampler2D uSampler;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    vec4 frameColor = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = vec4(1.0-frameColor.r, 1.0-frameColor.g, 1.0-frameColor.b, frameColor.a);\n}",e.No_effect="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform sampler2D uSampler;\nvarying vec2 vTextureCoord;\n\nvoid main(){\n    vec4 frameColor=texture2D(uSampler, vTextureCoord);\n    \n    gl_FragColor=frameColor;\n\n}\n",e.Particle="#ifdef GL_ES\nprecision mediump float;\n#endif\nuniform bool uWireframe;\n\nuniform sampler2D uSampler;\n\nvarying vec4 vColor;\n\n\nbool isBlack(vec4 color){\nreturn color.r==0.0 &&color.g==0.0&&color.b==0.0;\n}\nvoid main(void) { \n     if(uWireframe){\n         gl_FragColor = vColor;\n        }else{\n    gl_FragColor = texture2D(uSampler, gl_PointCoord);\n    if(gl_FragColor.a < 0.5 || isBlack(gl_FragColor)) discard;\n    }\n}",e.Phong="#ifdef GL_ES\nprecision mediump float;\n#endif\nuniform float uShininess;\nuniform vec3 uLightDirection;\n\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\nuniform vec4 uLightSpecular;\n\nuniform bool uWireframe;\n\nuniform bool uOffscreen;\nuniform vec4 uSelectColor;\n\nuniform vec4 uMaterialAmbient;\nuniform vec4 uMaterialDiffuse;\nuniform vec4 uMaterialSpecular;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec4 vColor;\n\nvoid main(){\n\n        if(uWireframe){\n            gl_FragColor = vColor;\n            return;\n        }\n      \n\n        if(uOffscreen){\n            gl_FragColor=uSelectColor;\n            return;\n        }\n\n       \n        vec3 L= normalize(uLightDirection);\n        vec3 N= normalize(vNormal);\n        float lambertTerm=dot(N, -L);\n        \n        vec4 Ia= uLightAmbient*uMaterialAmbient;\n        \n        vec4 Id=vec4(0.0,0.0,0.0,1.0);\n        \n        vec4 Is=vec4(0.0,0.0,0.0,1.0);\n        \n        if(lambertTerm>0.0)\n        {\n            Id=uLightDiffuse*uMaterialDiffuse*lambertTerm;\n            \n            vec3 E= normalize(vEyeVec);\n            vec3 R= reflect(L, N);\n            float specular=pow(max(dot(R,E),0.0), uShininess);\n            Is=uLightSpecular*uMaterialSpecular*specular;\n        }\n        \n        vec4 finalColor=Ia+Id+Is;\n        finalColor.a=1.0;\n    \n        gl_FragColor =finalColor;\n        \n        \n}\n\n\n",e.Phong_lights="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nconst int NumLights=16;\n\nuniform float uShininess;\nuniform vec3 uLightDirection[NumLights];\nuniform float uCutOff[NumLights];\n\nuniform vec4 uLightAmbient[NumLights];\nuniform vec4 uLightDiffuse[NumLights];\nuniform vec4 uLightSpecular[NumLights];\n\nuniform bool uWireframe;\n\nuniform bool uOffscreen;\nuniform vec4 uSelectColor;\n\nuniform vec4 uMaterialAmbient;\nuniform vec4 uMaterialDiffuse;\nuniform vec4 uMaterialSpecular;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec4 vColor;\n\nvoid main(){\n\n        if(uWireframe){\n            gl_FragColor = vColor;\n            return;\n        }\n      \n\n        if(uOffscreen){\n            gl_FragColor=uSelectColor;\n            return;\n        }\n\n        vec4 finalColor=vec4(0.0,0.0,0.0,1.0);\n        for(int i=0; i<NumLights;i++){\n        \n        vec3 L= normalize(uLightDirection[i]);\n        vec3 N= normalize(vNormal);\n        float lambertTerm=dot(N, -L);\n        \n        vec4 Ia= uLightAmbient[i]*uMaterialAmbient;\n        \n        vec4 Id=vec4(0.0,0.0,0.0,1.0);\n        \n        vec4 Is=vec4(0.0,0.0,0.0,1.0);\n        \n        if(lambertTerm>uCutOff[i])\n        {\n            Id=uLightDiffuse[i]*uMaterialDiffuse*lambertTerm;\n            \n            vec3 E= normalize(vEyeVec);\n            vec3 R= reflect(L, N);\n            float specular=pow(max(dot(R,E),0.0), uShininess);\n            Is=uLightSpecular[i]*uMaterialSpecular*specular;\n        }\n        \n        finalColor+=Ia+Id+Is;\n        \n        }\n        finalColor.a=1.0;\n    \n        gl_FragColor =finalColor;\n        \n        \n}\n\n\n",e.Phong_positional="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform float uShininess;\n\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\n\n\nuniform bool uWireframe;\n\nuniform bool uOffscreen;\nuniform vec4 uSelectColor;\n\n\nuniform vec4 uMaterialDiffuse;\n\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec3 vLightDir;\nvarying vec4 vColor;\n\nvoid main(){\n\n        if(uWireframe){\n            gl_FragColor = vColor;\n            return;\n        }\n      \n\n        if(uOffscreen){\n            gl_FragColor=uSelectColor;\n            return;\n        }\n\n       \n        vec3 L= normalize(vLightDir);\n        vec3 N= normalize(vNormal);\n        float lambertTerm=dot(N, -L);\n        \n        vec4 Ia= uLightAmbient;\n        \n        vec4 Id=vec4(0.0,0.0,0.0,1.0);\n        \n        vec4 Is=vec4(0.0,0.0,0.0,1.0);\n        \n        if(lambertTerm>0.0)\n        {\n            Id=uMaterialDiffuse*lambertTerm;\n            \n            vec3 E= normalize(vEyeVec);\n            vec3 R= reflect(L, N);\n            float specular=pow(max(dot(R,E),0.0), uShininess);\n            Is=uLightDiffuse*specular;\n        }\n        \n        vec4 finalColor=Ia+Id+Is;\n        finalColor.a=1.0;\n    \n        gl_FragColor =finalColor;\n        \n        \n}\n\n\n",e.Toon="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform float uShininess;\nuniform vec3 uLightDirection;\n\nuniform mat4 uMVMatrix;\n\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\nuniform vec4 uMaterialDiffuse;\n\nuniform bool uWireframe;\n\nuniform bool uOffscreen;\nuniform vec4 uSelectColor;\n\nvarying vec4 vColor;\n\nvarying vec3 vNormal;\nvarying vec3 vVertex;\n\nvoid main(){\n\n       if(uWireframe){\n            gl_FragColor = vColor;\n            return;\n        }\n      \n\n        if(uOffscreen){\n            gl_FragColor=uSelectColor;\n            return;\n        }\n\n        vec4 color0=vec4(uMaterialDiffuse.rgb,1.0);\n        vec4 color1=vec4(0.0,0.0,0.0, 1.0);\n        vec4 color2=vec4(uMaterialDiffuse.rgb, 1.0);\n        \n        vec3 N= vNormal;\n        vec3 L = normalize(uLightDirection);\n        \n        vec4 eyePos= uMVMatrix*vec4(0.0,0.0,0.0,1.0);\n        \n        vec3 EyeVert = normalize(-eyePos.xyz);\n        \n        vec3 EyeLight=normalize(L+EyeVert);\n        \n        float sil= max(dot(N, EyeVert), 0.0);\n        \n        if( sil<0.4){\n            gl_FragColor=color1;\n        }else{\n             gl_FragColor=color0;\n             \n             float spec=pow(max(dot(N, EyeLight), 0.0), uShininess);\n             \n             if(spec<0.2) gl_FragColor*=0.8;\n             else gl_FragColor=color2;\n             \n             float diffuse=max(dot(N, L), 0.0);\n             if(diffuse<0.5)gl_FragColor*=0.8;\n        }\n\n\n\n\n\n}\n\n\n\n",e.Wavy_effect="#ifdef GL_ES\nprecision mediump float;\n#endif\n\n\nuniform sampler2D uSampler;\nuniform float uTime;\n\nvarying vec2 vTextureCoord;\n\nconst float speed = 15.0;\nconst float magnitude = 0.015;\n\nvoid main(){\n    \n    vec2 wavyCoord;\n    wavyCoord.s=vTextureCoord.s+(sin(uTime+vTextureCoord.t*speed)*magnitude);\n    wavyCoord.t=vTextureCoord.t+(sin(uTime+vTextureCoord.s*speed)*magnitude);\n    \n    vec4 frameColor=texture2D(uSampler, wavyCoord);\n    gl_FragColor=frameColor;\n\n\n}",e}();e.Fragment=t;var i=function(){function e(){}return e.Effect="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec2 a_position;\nattribute vec2 a_texture_coords;\n\nvarying vec2 vTextureCoord;\n\nvoid main(){\n    vTextureCoord=a_texture_coords;\n\n    gl_Position=vec4(a_position, 0.0,1.0);\n    \n}",e.Particle="#ifdef GL_ES\nprecision mediump float;\n#endif\nattribute vec3 a_position;\nattribute vec4 a_color;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform float uPointSize;\n\nuniform bool uWireframe;\nuniform bool uPerVertexColor;\nuniform vec4 uMaterialDiffuse;\n\n\nvarying vec4 vColor;\n\nvoid main(void) {\n\n if(uWireframe){\n	 \n	 	if(uPerVertexColor){\n	 		 vColor=a_color;\n	 	}else{\n	 		vColor=uMaterialDiffuse;\n	 	}\n	 \n	\n	 }\n    \n    gl_Position = uPMatrix * uMVMatrix * vec4(a_position.xyz, 1.0);\n    gl_PointSize = uPointSize;\n}",e.Phong="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec4 a_color;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform mat4 uNMatrix;\n\nuniform bool uWireframe;\nuniform bool uPerVertexColor;\nuniform vec4 uMaterialDiffuse;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec4 vColor;\n\nvoid main(){\n\n    vec4 vertex = uMVMatrix * vec4(a_position, 1.0);\n	\n	\n	 if(uWireframe){\n	 \n	 	if(uPerVertexColor){\n	 		 vColor=a_color;\n	 	}else{\n	 		vColor=uMaterialDiffuse;\n	 	}\n	 \n	\n	 }else{\n	\n	vNormal = vec3(uNMatrix * vec4(a_normal, 1.0));\n	vEyeVec=-vec3(vertex.xyz);  \n	\n	}\n	 \n	gl_Position =uPMatrix * vertex;\n\n}\n\n\n",e.Phong_lights="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec4 a_color;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform mat4 uNMatrix;\n\nuniform bool uWireframe;\nuniform bool uPerVertexColor;\nuniform vec4 uMaterialDiffuse;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec4 vColor;\n\nvoid main(){\n\n    vec4 vertex = uMVMatrix * vec4(a_position, 1.0);\n	\n	\n	 if(uWireframe){\n	 \n	 	if(uPerVertexColor){\n	 		 vColor=a_color;\n	 	}else{\n	 		vColor=uMaterialDiffuse;\n	 	}\n	 \n	\n	 }else{\n	\n	vNormal = vec3(uNMatrix * vec4(a_normal, 1.0));\n	vEyeVec=-vec3(vertex.xyz);  \n	\n	}\n	 \n	gl_Position =uPMatrix * vertex;\n\n}\n\n\n",e.Phong_positional="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec4 a_color;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform mat4 uNMatrix;\n\nuniform vec3 uLightPosition;\n\nuniform bool uWireframe;\nuniform bool uPerVertexColor;\nuniform vec4 uMaterialDiffuse;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec3 vLightDir;\n\nvarying vec4 vColor;\n\nvoid main(){\n\n    vec4 vertex = uMVMatrix * vec4(a_position, 1.0);\n	\n	\n	 if(uWireframe){\n	 \n	 	if(uPerVertexColor){\n	 		 vColor=a_color;\n	 	}else{\n	 		vColor=uMaterialDiffuse;\n	 	}\n	 \n	\n	 }else{\n	\n	vNormal = vec3(uNMatrix * vec4(a_normal, 1.0));\n    vLightDir=vertex.xyz-uLightPosition;  \n	vEyeVec=-vec3(vertex.xyz);  \n	\n	}\n	 \n	gl_Position =uPMatrix * vertex;\n\n}\n\n\n",e.Toon="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec4 a_color;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform mat4 uNMatrix;\n\nuniform bool uWireframe;\nuniform bool uPerVertexColor;\nuniform vec4 uMaterialDiffuse;\n\nvarying vec3 vNormal;\nvarying vec3 vVertex;\nvarying vec4 vColor;\n\nvoid main(){\n    \n    vec4 normal= uNMatrix * vec4(a_normal,1.0);\n    \n     if(uWireframe){\n	 \n	 	if(uPerVertexColor){\n	 		 vColor=a_color;\n	 	}else{\n	 		vColor=uMaterialDiffuse;\n	 	}\n	 \n	\n	 }else{\n    \n    vNormal=normal.xyz;\n    vVertex=a_position;\n    }\n    \n    gl_Position=uPMatrix*uMVMatrix*vec4(a_position, 1.0);\n    \n    \n    \n    \n\n}",e}();e.Vertex=i}(f=e.Shaders||(e.Shaders={}));var c=function(e){function t(t,i,n,r){e.call(this,t),this._frequency=i,this._interval_id=null,this._callback=r}return __extends(t,e),t.prototype.onFrame=function(){if(t.ElapseTime=i.nowInMilliseconds(),!(t.ElapseTime<5)){for(var e=Math.floor(t.ElapseTime/this._frequency);e>0&&t.Count!=this._times;)this._callback(),e--,t.Count++;t.Count===this._times&&this.stop()}},t.prototype.start=function(){this._intime=i.nowInMilliseconds(),this._interval_id=setInterval(this.onFrame,this._frequency/1e3)},t.prototype.stop=function(){this._interval_id&&clearInterval(this._interval_id)},t.prototype.beginDraw=function(){},t.prototype.endDraw=function(){},t.Count=0,t}(a);e.AnimationEntity=c;var l=function(e){function t(t,i,n,r){e.call(this,t),this._material=null,this._texture=null,this._buffers=null,this._meshfile=i||null,this._materialfile=n||null,this._texturefile=r||null}return __extends(t,e),t.prototype.loadBuffers=function(e,t){this._buffers=new s.MeshBuffers(this.graphID),this._buffers.onload=t,this._buffers.src=e},t.prototype.loadTexture=function(e,t){this._texture=new s.MeshTexture(this.graphID),this._texture.onload=t,this._texture.src=e},Object.defineProperty(t.prototype,"material",{set:function(e){this._material=e},enumerable:!0,configurable:!0}),t.prototype.loadMaterial=function(e,t){this._material=new s.MeshMaterial(this.graphID),this._material.onload=t,this._material.src=e},t.prototype.loadMesh=function(e){var t=this,i=this;async.waterfall([function(e){return i._meshfile?(console.log("Loading Buffers"),void i.loadBuffers(i._meshfile,function(){console.log("Loaded Buffers"),e()})):e()},function(e){return t._texturefile?(console.log("Loading Texture"),void i.loadTexture(i._texturefile,function(){console.log("Loaded Texture"),e()})):e()},function(e){return i._materialfile?(console.log("Loading Material"),void i.loadMaterial(i._materialfile,function(){console.log("Loaded Material"),e()})):e()}],function(t){return t?console.log(t):void(e&&e())})},t.prototype.loadMeshByObject=function(e){this._buffers=new s.MeshBuffers(this.graphID),this._buffers.createBuffers(e)},t.prototype.loadMaterialByObject=function(e){this._material=new s.MeshMaterial(this.graphID),e.ambient&&(this._material.ambient=e.ambient),e.specular&&(this._material.specular=e.specular),e.diffuse&&(this._material.diffuse=e.diffuse),e.shininess&&(this._material.shininess=e.shininess)},t.prototype.setMaterialUniforms=function(){if(this._material){var e=this.gl;if(this._material.ambient){var t=this.getUniform("uMaterialAmbient");t&&e.uniform4fv(t,this._material.ambient)}if(this._material.diffuse){var i=this.getUniform("uMaterialDiffuse");i&&e.uniform4fv(i,this._material.diffuse)}if(this._material.specular){var n=this.getUniform("uMaterialSpecular");n&&e.uniform4fv(n,this._material.specular)}if(this._material.shininess){var r=this.getUniform("uShininess");r&&e.uniform1f(r,this._material.shininess)}}},t.prototype.beginDraw=function(){var e=this.gl;this.setMaterialUniforms(),e.bindBuffer(e.ARRAY_BUFFER,this._buffers.vbo),r.enableAttrib(this.graphID,"a_position"),e.bindBuffer(e.ARRAY_BUFFER,this._buffers.nbo),r.enableAttrib(this.graphID,"a_normal");var t=this._buffers.ivbo;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),e.drawElements(e.TRIANGLES,t.numItems,e.UNSIGNED_SHORT,0)},t.prototype.endDraw=function(){var e=this.gl;r.disableAttrib(this.graphID,"a_position"),r.disableAttrib(this.graphID,"a_normal"),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)},t}(a);e.MeshEntity=l;var h=function(e){function t(t,i,n,r){e.call(this,t),this._matrix=mat4.create(),this._position=i||vec3.create(),this._size=n||vec3.create([1,1,1]),this._rotation=r||{angle:0,axis:vec3.create()}}return __extends(t,e),t.prototype.identity=function(){mat4.identity(this._matrix)},t.prototype.setMatrix=function(e){this._matrix=e},t.prototype.transpose=function(){mat4.transpose(this._matrix,this._matrix);
},Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){this._position=e},enumerable:!0,configurable:!0}),t.prototype.setAbsolutePosition=function(e,t,i){this._position=[e,t,i]},t.prototype.translate=function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0);var n=this._position,r=vec3.create([e,t,i]);vec3.add(n,r,this._position)},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(e){this._size=e},enumerable:!0,configurable:!0}),t.prototype.setSize=function(e,t,i){this._size=[e,t,i]},t.prototype.scale=function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0);var n=this._size,r=vec3.create([e,t,i]);vec3.add(n,r,this._size)},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation=e},enumerable:!0,configurable:!0}),t.prototype.setRotation=function(e,t){e&&(this._rotation.angle=e),t&&(this._rotation.axis=t)},t.prototype.setAngle=function(e){this._rotation.angle=e},t.prototype.setAxis=function(e){this._rotation.axis=e},t.prototype.rotateAngle=function(e){void 0===e&&(e=0),this._rotation.angle+=e},t.prototype.moveAxis=function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0);var n=this._rotation.axis,r=vec3.create([e,t,i]);vec3.add(n,r,this._rotation.axis)},t.prototype.beginDraw=function(e){if(e.push(),e.ModelView(),this._matrix=e.mvMatrix,void 0!=this._position&&mat4.translate(this._matrix,this._position),void 0!=this._size&&mat4.scale(this._matrix,this._size),void 0!=this._rotation){var t=this._rotation.angle*Math.PI/180;mat4.rotate(this._matrix,t,this._rotation.axis)}e.setUp()},t.prototype.endDraw=function(e){e.pop()},t}(a);e.TransformEntity=h;var m=function(e){function t(t,i,n,r,o,a,u){e.call(this,t),this._ambient=i?vec4.create(i):null,this._diffuse=n?vec4.create(n):null,this._position=r?vec3.create(r):null,this._specular=o?vec4.create(o):null,this._direction=a?vec3.create(a):null,this._cutoff=u||0}return __extends(t,e),Object.defineProperty(t.prototype,"ambient",{get:function(){return this._ambient},set:function(e){this._ambient=i.normalizeNaN(vec4.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"diffuse",{get:function(){return this._diffuse},set:function(e){this._diffuse=i.normalizeNaN(vec4.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"specular",{get:function(){return this._specular},set:function(e){this._specular=i.normalizeNaN(vec4.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._diffuse},set:function(e){this._position=i.normalizeNaN(vec3.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},set:function(e){this._direction=i.normalizeNaN(vec3.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cutOff",{get:function(){return this._cutoff},set:function(e){this._cutoff=e},enumerable:!0,configurable:!0}),t.prototype.beginDraw=function(){var e=this.gl;if(this._ambient){var t=this.getUniform("uLightAmbient");t&&e.uniform4fv(t,this._ambient)}if(this._diffuse){var i=this.getUniform("uLightDiffuse");i&&e.uniform4fv(i,this._diffuse)}if(this._specular){var n=this.getUniform("uLightSpecular");n&&e.uniform4fv(n,this._specular)}if(this._position){var r=this.getUniform("uLightPosition");r&&e.uniform3fv(r,this._position)}if(this._direction){var o=this.getUniform("uLightDirection");o&&e.uniform3fv(o,this._direction)}if(this._cutoff){var a=this.getUniform("uCutOff");a&&e.uniform1f(a,this._cutoff)}},t.prototype.endDraw=function(){},t}(a);e.LightEntity=m;var p=function(e){function t(t,i){e.call(this,t),this._value=i}return __extends(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e},enumerable:!0,configurable:!0}),t.prototype.beginDraw=function(){var e=this.gl,t=this.getUniform("uMaterialDiffuse");t&&e.uniform4fv(t,this._value)},t.prototype.endDraw=function(){},t}(a);e.DiffuseEntity=p;var d=function(e){function n(t,i){e.call(this,t),this._pointSize=i||1,this._buffer=null,this._texture_id=""}return __extends(n,e),n.prototype.configure=function(e,n){var o=this.gl;this._buffer=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,this._buffer),o.bufferData(o.ARRAY_BUFFER,new Float32Array(e),o.STATIC_DRAW),o.bindBuffer(o.ARRAY_BUFFER,null),this._numItems=e.length,this._texture_id=i.uuid("Texture"),this._texture=t.createTexture(o,n),r.addTexture(this.graphID,this._texture_id)},n.prototype.update=function(e){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,this._buffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array(e),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),this._numItems=e.length},Object.defineProperty(n.prototype,"textureID",{get:function(){return this._texture_id},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pointSize",{set:function(e){this._pointSize=e},enumerable:!0,configurable:!0}),n.prototype.beginDraw=function(){var e=this.gl,t=this.getUniform("uPointSize");t&&e.uniform1f(t,this._pointSize),e.bindBuffer(e.ARRAY_BUFFER,this._buffer),r.enableAttrib(this.graphID,"a_position"),r.activeTexture(this.graphID,this._texture_id,this._texture),e.drawArrays(e.POINTS,0,this._numItems/3)},n.prototype.endDraw=function(){var e=this.gl;r.disableAttrib(this.graphID,"a_position"),e.bindBuffer(e.ARRAY_BUFFER,null)},n}(a);e.ParticleEntity=d;var v=function(e){function t(t){e.call(this,t),this._lights=[]}return __extends(t,e),t.prototype.addLight=function(e){this._lights.push(e)},t.prototype.removeLights=function(){this._lights=[]},t.prototype.getArraysObject=function(){return this._lights.reduce(function(e,t){var i=Array.prototype.slice.call(t.ambient),n=Array.prototype.slice.call(t.diffuse),r=Array.prototype.slice.call(t.specular),o=Array.prototype.slice.call(t.direction);return e.ambient=e.ambient.concat(i),e.diffuse=e.diffuse.concat(n),e.specular=e.specular.concat(r),e.direction=e.direction.concat(o),e.cutoff=e.cutoff.concat(t.cutoff),e},{ambient:[],diffuse:[],specular:[],direction:[],cutoff:[]})},t.prototype.beginDraw=function(){var e=this.gl;if(this._lights.length>0){var t=this.getArraysObject();if(t.ambient){var i=this.getUniform("uLightAmbient");i&&e.uniform4fv(i,t.ambient)}if(t.diffuse){var n=this.getUniform("uLightDiffuse");n&&e.uniform4fv(n,t.diffuse)}if(t.specular){var r=this.getUniform("uLightSpecular");r&&e.uniform4fv(r,t.specular)}if(t.direction){var o=this.getUniform("uLightDirection");o&&e.uniform3fv(o,t.direction)}if(t.cutoff){var a=this.getUniform("uCutOff");a&&e.uniform1f(a,t.cutoff)}}},t}(a);e.LightArrayEntity=v;var g=function(e){function t(t,i){e.call(this,t),this._type=i||n.ORBITING,this._cmatrix=mat4.create(),mat4.identity(this._cmatrix),this._up=vec3.create(),this._right=vec3.create(),this._normal=vec3.create(),this._position=vec3.create(),this._azimuth=0,this._elevation=0,this._steps=0}return __extends(t,e),Object.defineProperty(t.prototype,"type",{set:function(e){this._type=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){this._position=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"azimuth",{get:function(){return this._azimuth},set:function(e){var t=e-this._azimuth;this.changeAzimuth(t)},enumerable:!0,configurable:!0}),t.prototype.changeAzimuth=function(e){this._azimuth+=e,(this._azimuth>360||this._azimuth<-360)&&(this._azimuth=this._azimuth%360)},Object.defineProperty(t.prototype,"elevation",{get:function(){return this._elevation},set:function(e){var t=e-this._elevation;this.changeElevation(t)},enumerable:!0,configurable:!0}),t.prototype.changeElevation=function(e){this._elevation+=e,(this._elevation>360||this._elevation<-360)&&(this._elevation=this._elevation%360)},Object.defineProperty(t.prototype,"zoom",{get:function(){return this._steps},set:function(e){var t=vec3.create(),i=vec3.create();t=this.position;var r=e-this._steps;vec3.normalize(this._normal,i);var o=vec3.create();this._type===n.TRACKING?(o[0]=t[0]-r*i[0],o[1]=t[1]-r*i[1],o[2]=t[2]-r*i[2]):(o[0]=t[0],o[1]=t[1],o[2]=t[2]-r),this.position=o,this._steps=e},enumerable:!0,configurable:!0}),t.prototype.calculateOrientation=function(){var e=this._cmatrix;mat4.multiplyVec4(e,[1,0,0,0],this._right),mat4.multiplyVec4(e,[0,1,0,0],this._up),mat4.multiplyVec4(e,[0,0,1,0],this._normal)},t.prototype.beginDraw=function(){mat4.identity(this._cmatrix),this.calculateOrientation(),this._type===n.TRACKING?(mat4.translate(this._cmatrix,this._position),mat4.rotateY(this._cmatrix,this._azimuth*Math.PI/180),mat4.rotateX(this._cmatrix,this._elevation*Math.PI/180)):(mat4.rotateY(this._cmatrix,this._azimuth*Math.PI/180),mat4.rotateX(this._cmatrix,this._elevation*Math.PI/180),mat4.translate(this._cmatrix,this._position)),this.calculateOrientation(),this._type===n.TRACKING&&mat4.multiplyVec4(this._cmatrix,[0,0,0,1],this._position)},Object.defineProperty(t.prototype,"modelView",{get:function(){var e=mat4.create();return mat4.inverse(this._cmatrix,e),e},enumerable:!0,configurable:!0}),t.prototype.endDraw=function(){},t}(a);e.CameraEntity=g;var b=function(e){function t(t,i){e.call(this,t),i=i||100,this._vertices=[0,0,0,i,0,0,0,0,0,0,i,0,0,0,0,0,0,i],this._indices=[0,1,2,3,4,5],this._colors=[1,1,0,1,1,1,0,1,0,1,0,1,0,1,0,1,0,0,1,1,0,0,1,1]}return __extends(t,e),t.prototype.init=function(){var e=this.gl;this._vbo=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._vbo),e.bufferData(e.ARRAY_BUFFER,new Float32Array(this._vertices),e.STATIC_DRAW),this._ibo=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._ibo),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(this._indices),e.STATIC_DRAW),this._cbo=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._cbo),e.bufferData(e.ARRAY_BUFFER,new Float32Array(this._colors),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)},t.prototype.beginDraw=function(){var e=this.gl,t=this.getUniform("uWireframe");t&&e.uniform1i(t,!0);var i=this.getUniform("uPerVertexColor");i&&e.uniform1i(i,!0),e.bindBuffer(e.ARRAY_BUFFER,this._vbo),r.enableAttrib(this.graphID,"a_position"),e.bindBuffer(e.ARRAY_BUFFER,this._cbo),r.enableAttrib(this.graphID,"a_color",{size:4}),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._ibo),e.drawElements(e.LINES,this._indices.length,e.UNSIGNED_SHORT,0)},t.prototype.endDraw=function(){var e=this.gl,t=this.getUniform("uWireframe");t&&e.uniform1i(t,!1);var i=this.getUniform("uPerVertexColor");i&&e.uniform1i(i,!1),r.disableAttrib(this.graphID,"a_position"),r.disableAttrib(this.graphID,"a_color"),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)},t}(a);e.AxisEntity=b;var y=function(e){function t(t,i,n){e.call(this,t),this._dimesions={dim:i||50,lines:n||50}}return __extends(t,e),t.prototype.init=function(){var e=this.gl;this.build(),this._vbo=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._vbo),e.bufferData(e.ARRAY_BUFFER,new Float32Array(this._vertices),e.STATIC_DRAW),this._ibo=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._ibo),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(this._indices),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)},t.prototype.build=function(){for(var e=2*this._dimesions.dim/this._dimesions.lines,t=[],i=[],n=0;n<=this._dimesions.lines;n++)t[6*n]=-this._dimesions.dim,t[6*n+1]=-.5,t[6*n+2]=-this._dimesions.dim+n*e,t[6*n+3]=this._dimesions.dim,t[6*n+4]=-.5,t[6*n+5]=-this._dimesions.dim+n*e,t[6*(this._dimesions.lines+1)+6*n]=-this._dimesions.dim+n*e,t[6*(this._dimesions.lines+1)+6*n+1]=-.5,t[6*(this._dimesions.lines+1)+6*n+2]=-this._dimesions.dim,t[6*(this._dimesions.lines+1)+6*n+3]=-this._dimesions.dim+n*e,t[6*(this._dimesions.lines+1)+6*n+4]=-.5,t[6*(this._dimesions.lines+1)+6*n+5]=this._dimesions.dim,i[2*n]=2*n,i[2*n+1]=2*n+1,i[2*(this._dimesions.lines+1)+2*n]=2*(this._dimesions.lines+1)+2*n,i[2*(this._dimesions.lines+1)+2*n+1]=2*(this._dimesions.lines+1)+2*n+1;this._vertices=t,this._indices=i},t.prototype.beginDraw=function(){var e=this.gl,t=this.getUniform("uWireframe");t&&e.uniform1i(t,!0);var i=this.getUniform("uMaterialDiffuse");i&&e.uniform4fv(i,[.7,.7,.7,1]),e.bindBuffer(e.ARRAY_BUFFER,this._vbo),r.enableAttrib(this.graphID,"a_position"),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._ibo),e.drawElements(e.LINES,this._indices.length,e.UNSIGNED_SHORT,0)},t.prototype.endDraw=function(){var e=this.gl,t=this.getUniform("uWireframe");t&&e.uniform1i(t,!1),r.disableAttrib(this.graphID,"a_position"),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)},t}(a);e.GridEntity=y;var E=function(e){function t(t,i){e.call(this,t),this._color=this.generateUniqueColor(),this._data=i}return __extends(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),t.prototype.generateUniqueColor=function(){for(var e,t=function(e){return void 0!=r.getSelectByColor(this.graphID,e)}.bind(this),i=!0;i;)e=[Number(Math.random().toFixed(2)),Number(Math.random().toFixed(2)),Number(Math.random().toFixed(2)),1],i=t(e);return e},t.prototype.beginDraw=function(){if(r.isOffScreen(this.graphID)){var e=this.gl,t=this.getUniform("uSelectColor");t&&e.uniform4fv(t,this._color)}},t.prototype.endDraw=function(){},t}(a);e.SelectEntity=E;var x=function(e){function t(t,i){e.call(this,t),this._dimensions=i,this._framebuffer=null,this._renderbuffer=null,this._texture=null,this.configure()}return __extends(t,e),t.prototype.configure=function(){var e=this.gl;this._texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this._texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this._dimensions.width,this._dimensions.height,0,e.RGBA,e.UNSIGNED_BYTE,null),this._renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this._renderbuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,this._dimensions.width,this._dimensions.height),this._framebuffer=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this._texture,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,this._renderbuffer),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null)},t.prototype.fill=function(e){r.fillSelectorBuffer(this.graphID,e)},t.prototype.clear=function(){r.clearSelectorBuffer(this.graphID)},t.prototype.find=function(e){var t=this.gl,i=new Uint8Array(4);t.bindFramebuffer(t.FRAMEBUFFER,this._framebuffer),t.readPixels(e.x,e.y,1,1,t.RGBA,t.UNSIGNED_BYTE,i),t.bindFramebuffer(t.FRAMEBUFFER,null);var n=[].slice.call(i).map(function(e){return parseFloat((e/255).toFixed(2))}),o=r.getSelectByColor(this.graphID,n);return o?o.data:void 0},t.prototype.render=function(e){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this._framebuffer);var i=this.getUniform("uOffscreen");t.uniform1i(i,!0),r.enableOffScreen(this.graphID),e(),t.uniform1i(i,!1),r.disableOffScreen(this.graphID),t.bindFramebuffer(t.FRAMEBUFFER,null)},t}(o);e.Selector=x;var R=function(e){function i(t,i,n){e.call(this,t),this._texture=null,this._framebuffer=null,this._renderbuffer=null,this._vbo=null,this._tbo=null,this._shader=null,this._uniforms=null,this._attribs=null,this._noisetexture=null,this._start=Date.now(),this._canvas=i,this._type=n||"no",this.configure(),this.Geometry(),this.setEffect()}return __extends(i,e),i.prototype.configure=function(){var e=this.gl,t=this._canvas.width,i=this._canvas.height;this._texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this._texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,i,0,e.RGBA,e.UNSIGNED_BYTE,null),this._renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this._renderbuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,t,i),this._framebuffer=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this._texture,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,this._renderbuffer),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null)},i.prototype.Geometry=function(){var e=this.gl,t=[-1,-1,1,-1,-1,1,-1,1,1,-1,1,1],i=[0,0,1,0,0,1,0,1,1,0,1,1];this._vbo=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._vbo),e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW),this._tbo=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._tbo),e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null)},Object.defineProperty(i.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),i.prototype.setEffect=function(e){this._type=e||this._type;var i=this.gl,n={};switch(n.vertex=f.Vertex.Effect,this._type){case"all":n.fragment=f.Fragment.All_effect;break;case"invert":n.fragment=f.Fragment.Invert_effect;break;case"grey":n.fragment=f.Fragment.Grey_effect;break;case"blur":n.fragment=f.Fragment.Blur_effect;break;case"film":n.fragment=f.Fragment.Film_effect;break;case"wavy":n.fragment=f.Fragment.Wavy_effect;break;case"no":default:n.fragment=f.Fragment.No_effect}this._shader&&i.deleteProgram(this._shader),this._shader=t.createProgram(i,n);var r;this._attribs={},r=i.getProgramParameter(this._shader,i.ACTIVE_ATTRIBUTES);for(var o=0;r>o;o++){var a=i.getActiveAttrib(this._shader,o);this._attribs[a.name]=i.getAttribLocation(this._shader,a.name)}this._uniforms={},r=i.getProgramParameter(this._shader,i.ACTIVE_UNIFORMS);for(var o=0;r>o;o++){var u=i.getActiveUniform(this._shader,o);this._uniforms[u.name]=i.getUniformLocation(this._shader,u.name)}},i.prototype.Size=function(){var e=this.gl,t=this._canvas.width,i=this._canvas.height;e.bindTexture(e.TEXTURE_2D,this._texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,i,0,e.RGBA,e.UNSIGNED_BYTE,null),e.bindRenderbuffer(e.RENDERBUFFER,this._renderbuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,t,i),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null)},i.prototype.setNoiseTexture=function(e){var i=this.gl;this._noisetexture=t.createTexture(i,e)},i.prototype.Bind=function(){var e=this.gl,t=this._canvas.width,i=this._canvas.height;e.useProgram(this._shader),e.enableVertexAttribArray(this._attribs.a_position),e.bindBuffer(e.ARRAY_BUFFER,this._vbo),e.vertexAttribPointer(this._attribs.a_position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(this._attribs.a_texture_coords),e.bindBuffer(e.ARRAY_BUFFER,this._tbo),e.vertexAttribPointer(this._attribs.a_texture_coords,2,e.FLOAT,!1,0,0),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this._texture),e.uniform1i(this._uniforms.uSampler,0),this._uniforms.uTime&&e.uniform1f(this._uniforms.uTime,(Date.now()-this._start)/1e3),this._uniforms.uInverseTextureSize&&e.uniform2f(this._uniforms.uInverseTextureSize,1/t,1/i),this._uniforms.uNoiseSampler&&this._noisetexture&&(e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this._noisetexture),e.uniform1i(this._uniforms.uNoiseSampler,1))},i.prototype.bindFrameBuffer=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer)},i.prototype.unbindFrameBuffer=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null)},i.prototype.draw=function(){var e=this.gl;e.drawArrays(e.TRIANGLES,0,6),e.bindBuffer(e.ARRAY_BUFFER,null),e.disableVertexAttribArray(this._attribs.a_position),e.disableVertexAttribArray(this._attribs.a_texture_coords)},i}(o);e.Effects=R;var A=function(){function e(e,t,n){this._parentNode=e,this._parentNode&&this._parentNode.addChildNode(this),this._childNodes=[],this._type=t,this._oid=i.uuid(this._type||this.constructor.name),this._entity=n}return Object.defineProperty(e.prototype,"oid",{get:function(){return this._oid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parentNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"entity",{get:function(){return this._entity},set:function(e){this._entity=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this._childNodes},enumerable:!0,configurable:!0}),e.prototype.addChildNode=function(e){this._childNodes.push(e)},e.prototype.removeChildNode=function(e){var t=this.indexOf(e);t>-1&&this._childNodes.splice(t,1)},e.prototype.getChildNodeByIndex=function(e){return this._childNodes[e]||void 0},e.prototype.existsChildNode=function(e){return void 0!==this._childNodes[e]},e.prototype["delete"]=function(){this._parentNode.removeChildNode(this)},e.prototype.createChildNode=function(t,i){return new e(this,t,i)},e.prototype.isRoot=function(){return void 0===this._parentNode},e.prototype.indexOf=function(e){var t=e.oid;return _.findIndex(this._childNodes,function(e){return e.oid===t})},e.prototype.indexInParent=function(){var e=-1;return this.isRoot()||(e=this._parentNode.indexOf(this)),e},e.prototype.hasSibling=function(e){var t=!1;if(!this.isRoot()){var i=this._parentNode.indexOf(this);i>-1&&(e?this._parentNode.getChildNodeByIndex(i-1)&&(t=!0):this._parentNode.getChildNodeByIndex(i+1)&&(t=!0))}return t},e.prototype.nextSibling=function(){var e=null;if(!this.isRoot()&&this.hasSibling()){var t=this._parentNode.indexOf(this);e=this._parentNode.getChildNodeByIndex(t+1)}return e},e.prototype.previousSibling=function(){var e=null;if(!this.isRoot()&&this.hasSibling(!0)){var t=this._parentNode.indexOf(this);e=this._parentNode.getChildNodeByIndex(t-1)}return e},e.prototype.firstChild=function(){return this.getChildNodeByIndex(0)},e.prototype.lastChild=function(){return this.getChildNodeByIndex(this._childNodes.length-1)},e.prototype.removeChildNodes=function(){this._childNodes=[]},e.prototype.draw=function(e){this._entity&&this._entity.beginDraw(e);for(var t=0;t<this._childNodes.length;t++){var i=this._childNodes[t];i.draw(e)}this._entity&&this._entity.endDraw(e)},e}();e.NodeElement=A;var T=function(e){function t(){var t=i.uuid();e.call(this,t),this._oid=t,this._scene=new A(void 0,"Scene"),this._matrixStack=new u(this._oid),this._loaderBuffer=[],r.createView(this._oid),this._selector=null,this._effects=null,this._useSelector=!1}return __extends(t,e),Object.defineProperty(t.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),t.prototype.Environment=function(e){var t=this.gl;e=e||[],t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),t.clearColor(e[0]||0,e[1]||0,e[2]||0,1),t.clearDepth(1)},t.prototype.render=function(){this._effects&&"no"!==this._effects.type?this.drawWithEffects():this.drawScene()},t.prototype.drawScene=function(){var e=this.gl;this.useProgram();var t=function(){e.viewport(0,0,e.viewportWidth,e.viewportHeight),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this._scene.draw(this._matrixStack)}.bind(this);this._selector&&this._useSelector&&this._selector.render(t),t()},t.prototype.drawWithEffects=function(){this._effects.Size(),this._effects.bindFrameBuffer(),this.drawScene(),this._effects.unbindFrameBuffer(),this._effects.Bind(),this._effects.draw()},t.prototype.useProgram=function(){r.useProgram(this.oid)},t.prototype.createMainChildNode=function(e,t){return this._scene.createChildNode(e,t)},t.prototype.removeMainChildNode=function(e){this._scene.removeChildNode(e)},Object.defineProperty(t.prototype,"oid",{get:function(){return this._oid},enumerable:!0,configurable:!0}),t.prototype.setContext=function(e){r.setCanvasToContext(this.oid,e)},t.prototype.Program=function(e){e=e||"Phong",r.createProgram(this._oid,{fragment:f.Fragment[e]||f.Fragment.Phong,vertex:f.Vertex[e]||f.Vertex.Phong})},t.prototype.createMesh=function(e){var t=new l(this.oid);return e.mesh&&t.loadMeshByObject(e.mesh),e.material&&t.loadMaterialByObject(e.material),t},t.prototype.createDiffuse=function(e){return new p(this.oid,e)},t.prototype.createMeshByLoader=function(e){var t=new l(this.oid,e.mesh,e.material,e.texture);return this._loaderBuffer.push(t),t},t.prototype.createTransform=function(e,t,i){return new h(this.oid,e,t,i)},t.prototype.createLight=function(e){return new m(this.oid,e.ambient,e.diffuse,e.position,e.specular,e.direction,e.cutoff)},t.prototype.createCamera=function(e){return new g(this.oid,e)},t.prototype.createParticle=function(e){return new d(this.oid,e)},t.prototype.createAxis=function(e){return new b(this.oid,e)},t.prototype.createGrid=function(e,t){return new y(this.oid,e,t)},t.prototype.createSelect=function(e){return new E(this.oid,e)},t.prototype.createSelector=function(e){this._selector=new x(this.oid,e),this._useSelector=!0},Object.defineProperty(t.prototype,"useSelector",{set:function(e){this._useSelector=e},enumerable:!0,configurable:!0}),t.prototype.fillSelector=function(e){this._selector&&this._selector.fill(e)},t.prototype.clearSelector=function(e){this._selector&&this._selector.clear()},t.prototype.select=function(e){return this._selector?this._selector.find(e):void 0},t.prototype.createEffects=function(e,t){this._effects=new R(this.oid,e,t)},t.prototype.setNoiseEffect=function(e){this._effects&&this._effects.setNoiseTexture(e)},t.prototype.setEffect=function(e){this._effects&&this._effects.setEffect(e)},t.prototype.createLightArray=function(){return new v(this.oid)},Object.defineProperty(t.prototype,"MainCamera",{set:function(e){this._matrixStack.MainCamera=e},enumerable:!0,configurable:!0}),t.prototype.removeTexture=function(e){r.removeTexture(this.oid,e)},t.prototype.startLoader=function(e){async.eachSeries(this._loaderBuffer,function(e,t){e.loadMesh(function(){console.log(e),t()})},e)},t.prototype.configure=function(e){var i=this;e=e||{},i.Environment(e.background),i.Program(e.typeShader),r.setAttributeLocations(i._oid,t.ATTRIBUTES),r.setUniformLocations(i._oid,t.UNIFORMS),this._matrixStack.init()},t.prototype.configureWithLoader=function(e){var t=this;t.configure(),t.startLoader(e)},t.UNIFORMS=["uPMatrix","uMVMatrix","uNMatrix","uLightPosition","uLightDirection","uCutOff","uLightAmbient","uMaterialAmbient","uLightDiffuse","uMaterialDiffuse","uLightSpecular","uMaterialSpecular","uShininess","uPointSize","uSampler","uWireframe","uPerVertexColor","uSelectColor","uOffscreen","uInverseTextureSize","uNoiseSampler","uTime"],t.ATTRIBUTES=["a_position","a_normal","a_color","a_texture_coords"],t}(o);e.SceneGraph=T}(Blaze||(Blaze={}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsYXplLmpzIl0sIm5hbWVzIjpbIl9fZXh0ZW5kcyIsInRoaXMiLCJkIiwiYiIsIl9fIiwiY29uc3RydWN0b3IiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJCbGF6ZSIsIldlYkdMVXRpbHMiLCJnZXRHTENvbnRleHQiLCJjYW52YXMiLCJjdHgiLCJuYW1lcyIsImkiLCJsZW5ndGgiLCJnZXRDb250ZXh0IiwiZSIsImFsZXJ0Iiwidmlld3BvcnRXaWR0aCIsIndpZHRoIiwidmlld3BvcnRIZWlnaHQiLCJoZWlnaHQiLCJjcmVhdGVCdWZmZXIiLCJnbCIsImRhdGEiLCJpczJEIiwidHlwZV9kcmF3IiwiYnVmZmVyIiwiYmluZEJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsIkJVRkZFUl9EUkFXIiwiU1RBVElDIiwiYnVmZmVyRGF0YSIsIkZsb2F0MzJBcnJheSIsIlNUQVRJQ19EUkFXIiwiRFlOQU1JQyIsIkRZTkFNSUNfRFJBVyIsIlNUUkVBTSIsIlNUUkVBTV9EUkFXIiwiaXRlbVNpemUiLCJudW1JdGVtcyIsImNyZWF0ZUluZGV4QnVmZmVyIiwiaW5kZXhCdWZmZXIiLCJFTEVNRU5UX0FSUkFZX0JVRkZFUiIsIlVpbnQxNkFycmF5IiwiY3JlYXRlVGV4dHVyZSIsInRleHR1cmUiLCJiaW5kVGV4dHVyZSIsIlRFWFRVUkVfMkQiLCJ0ZXhJbWFnZTJEIiwiUkdCQSIsIlVOU0lHTkVEX0JZVEUiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwiTElORUFSIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwiY3JlYXRlU2hhZGVyIiwidHlwZSIsInNoYWRlclNvdXJjZSIsInNoYWRlciIsImNvbXBpbGVTaGFkZXIiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImNvbnNvbGUiLCJsb2ciLCJnZXRTaGFkZXJJbmZvTG9nIiwiY3JlYXRlRnJhZ21lbnRTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJjcmVhdGVWZXJ0ZXhTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwiY3JlYXRlUHJvZ3JhbSIsInNoYWRlcnMiLCJmcmFnbWVudFNoYWRlciIsImZyYWdtZW50IiwidmVydGV4U2hhZGVyIiwidmVydGV4IiwicHJvZ3JhbSIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJ1dGlscyIsInM0IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJ1dWlkIiwibmFtZSIsImlkIiwibm9ybWFsaXplTmFOIiwidmVjIiwibWFwIiwiYSIsIk51bWJlciIsImlzTmFOIiwibG9hZCIsInVybCIsImNhbGxiYWNrIiwicmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZXNwb25zZVRleHQiLCJzZW5kIiwiZ2V0RXh0ZW5zaW9uIiwic3RyIiwiZWxlbXMiLCJzcGxpdCIsIm5vd0luTWlsbGlzZWNvbmRzIiwiRGF0ZSIsImdldFRpbWUiLCJkZWdUb1JhZCIsIlBJIiwiY2FsY3VsYXRlTm9ybWFscyIsInZzIiwiaW5kIiwieCIsInkiLCJ6IiwibnMiLCJ2MSIsInYyIiwibm9ybWFsIiwiaiIsIm5uIiwibGVuIiwic3FydCIsIkNBTUVSQV9UWVBFIiwiS2V0Y2giLCJzZXRDYW52YXNUb0NvbnRleHQiLCJrZXkiLCJjb250ZXh0Iiwic2V0Q29udGV4dCIsIl92aWV3cyIsInNldFByb2dyYW0iLCJnZXRQcm9ncmFtIiwidXNlUHJvZ3JhbSIsInZpZXciLCJwcmciLCJjcmVhdGVWaWV3Iiwic2V0QXR0cmlidXRlTG9jYXRpb25zIiwiYXR0cmlic19uYW1lcyIsImF0dHJpYnMiLCJyZWR1Y2UiLCJwcmV2IiwiYXR0ciIsImdldEF0dHJpYkxvY2F0aW9uIiwiZ2V0QXR0cmliIiwidmlld19rZXkiLCJhdHRyX2tleSIsImdldFVuaWZvcm0iLCJ1bmlmb3JtX2tleSIsInVuaWZvcm1zIiwic2V0VW5pZm9ybUxvY2F0aW9ucyIsInVuaWZvcm1fbmFtZXMiLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJlbmFibGVBdHRyaWIiLCJwb2ludGVyIiwiaW5kZXgiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJzaXplIiwiRkxPQVQiLCJub3JtYWxpemVkIiwic3RyaWRlIiwib2Zmc2V0IiwiZGlzYWJsZUF0dHJpYiIsImRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheSIsInJlbmRlckxvb3AiLCJjYiIsInNldEludGVydmFsIiwiYWRkVGV4dHVyZSIsInRleHR1cmVfaWQiLCJ0ZXh0dXJlcyIsInB1c2giLCJyZW1vdmVUZXh0dXJlIiwiaW5kZXhPZiIsInNwbGljZSIsImFjdGl2ZVRleHR1cmUiLCJURVhUVVJFMCIsInVTYW1wbGVyIiwidW5pZm9ybTFpIiwiaXNPZmZTY3JlZW4iLCJvZmZzY3JlZW4iLCJlbmFibGVPZmZTY3JlZW4iLCJkaXNhYmxlT2ZmU2NyZWVuIiwiZmlsbFNlbGVjdG9yQnVmZmVyIiwib2JqIiwic2VsZWN0T2JqZWN0cyIsImNsZWFyU2VsZWN0b3JCdWZmZXIiLCJnZXRTZWxlY3RCeUNvbG9yIiwiY29sb3IiLCJfIiwiZmluZCIsIm8iLCJpc0VxdWFsIiwiUmVuZGVyYWJsZSIsImdyYXBoX2lkIiwiX2dyYXBoX2lkIiwiZGVmaW5lUHJvcGVydHkiLCJnZXQiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiZ3JhcGhJRCIsIkVudGl0eSIsIl9zdXBlciIsImNhbGwiLCJiZWdpbkRyYXciLCJtYXRyaXhTdGFjayIsImVuZERyYXciLCJNYXRyaXhTdGFjayIsIl9zdGFjayIsIl9tdk1hdHJpeCIsIm1hdDQiLCJfcE1hdHJpeCIsIl9uTWF0cml4IiwiY29weSIsInNldCIsInBvcCIsIk1vZGVsVmlldyIsIl9jYW1lcmEiLCJtb2RlbFZpZXciLCJpZGVudGl0eSIsImNhbWVyYSIsIlBlcnNwZWN0aXZlIiwicGVyc3BlY3RpdmUiLCJOb3JtYWwiLCJpbnZlcnNlIiwidHJhbnNwb3NlIiwiaW5pdCIsInNldFVwIiwibXZNYXRyaXgiLCJ1bmlmb3JtTWF0cml4NGZ2IiwicE1hdHJpeCIsIm5NYXRyaXgiLCJSZXNvdXJjZXMiLCJNZXNoQnVmZmVycyIsIl9vbmxvYWQiLCJzcmMiLCJfdGhpcyIsInNlbGYiLCJleHQiLCJwYXJzZU9CSiIsInBhcnNlSlNPTiIsImNyZWF0ZUJ1ZmZlcnMiLCJKU09OIiwicGFyc2UiLCJ2Iiwidm4iLCJ2dCIsIml2IiwiaW4iLCJpdCIsImxpbmVzIiwiZmlsdGVyIiwiZm9yRWFjaCIsIml0ZW0iLCJyZXBsYWNlIiwiY29uY2F0Iiwic2xpY2UiLCJ0ZW1wSW5kZXgiLCJwYXJzZUludCIsImRlZmF1bHRzIiwiX3ZibyIsIl9uYm8iLCJfdGJvIiwiX2l2Ym8iLCJfaW5ibyIsIl9pdGJvIiwiTWVzaFRleHR1cmUiLCJfaW1hZ2UiLCJJbWFnZSIsIl9vaWQiLCJmaWxlbmFtZSIsIm9ubG9hZCIsImxvYWRUZXh0dXJlSW1hZ2UiLCJfdGV4dHVyZSIsIk1lc2hNYXRlcmlhbCIsImFtYmllbnQiLCJkaWZmdXNlIiwic3BlY3VsYXIiLCJzaGluaW5lc3MiLCJfYW1iaWVudCIsInZlYzQiLCJfZGlmZnVzZSIsIl9zcGVjdWxhciIsIl9zaGluaW5lc3MiLCJ0ZW1wIiwiS2EiLCJLZCIsIktzIiwiTnMiLCJrZXlzIiwibGluZSIsIlNoYWRlcnMiLCJGcmFnbWVudCIsIkFsbF9lZmZlY3QiLCJCbHVyX2VmZmVjdCIsIkZpbG1fZWZmZWN0IiwiR3JleV9lZmZlY3QiLCJJbnZlcnRfZWZmZWN0IiwiTm9fZWZmZWN0IiwiUGFydGljbGUiLCJQaG9uZyIsIlBob25nX2xpZ2h0cyIsIlBob25nX3Bvc2l0aW9uYWwiLCJUb29uIiwiV2F2eV9lZmZlY3QiLCJWZXJ0ZXgiLCJFZmZlY3QiLCJBbmltYXRpb25FbnRpdHkiLCJmcmVxdWVuY3kiLCJ0aW1lcyIsIl9mcmVxdWVuY3kiLCJfaW50ZXJ2YWxfaWQiLCJfY2FsbGJhY2siLCJvbkZyYW1lIiwiRWxhcHNlVGltZSIsInN0ZXBzIiwiQ291bnQiLCJfdGltZXMiLCJzdG9wIiwic3RhcnQiLCJfaW50aW1lIiwiY2xlYXJJbnRlcnZhbCIsIk1lc2hFbnRpdHkiLCJtZXNoZmlsZSIsIm1hdGVyaWFsZmlsZSIsInRleHR1cmVmaWxlIiwiX21hdGVyaWFsIiwiX2J1ZmZlcnMiLCJfbWVzaGZpbGUiLCJfbWF0ZXJpYWxmaWxlIiwiX3RleHR1cmVmaWxlIiwibG9hZEJ1ZmZlcnMiLCJsb2FkVGV4dHVyZSIsImxvYWRNYXRlcmlhbCIsImxvYWRNZXNoIiwiYXN5bmMiLCJ3YXRlcmZhbGwiLCJuZXh0IiwiZXJyIiwibG9hZE1lc2hCeU9iamVjdCIsImxvYWRNYXRlcmlhbEJ5T2JqZWN0Iiwic2V0TWF0ZXJpYWxVbmlmb3JtcyIsInVNYXRlcmlhbEFtYmllbnQiLCJ1bmlmb3JtNGZ2IiwidU1hdGVyaWFsRGlmZnVzZSIsInVNYXRlcmlhbFNwZWN1bGFyIiwidVNoaW5pbmVzcyIsInVuaWZvcm0xZiIsInZibyIsIm5ibyIsIml2Ym8iLCJkcmF3RWxlbWVudHMiLCJUUklBTkdMRVMiLCJVTlNJR05FRF9TSE9SVCIsIlRyYW5zZm9ybUVudGl0eSIsInBvc2l0aW9uIiwicm90YXRpb24iLCJfbWF0cml4IiwiX3Bvc2l0aW9uIiwidmVjMyIsIl9zaXplIiwiX3JvdGF0aW9uIiwiYW5nbGUiLCJheGlzIiwic2V0TWF0cml4IiwibmV3X21hdHJpeCIsInNldEFic29sdXRlUG9zaXRpb24iLCJ0cmFuc2xhdGUiLCJvcGVyYW5kMSIsIm9wZXJhbmQyIiwiYWRkIiwic2V0U2l6ZSIsInNjYWxlIiwic2V0Um90YXRpb24iLCJzZXRBbmdsZSIsInNldEF4aXMiLCJyb3RhdGVBbmdsZSIsIm1vdmVBeGlzIiwicmFkIiwicm90YXRlIiwiTGlnaHRFbnRpdHkiLCJkaXJlY3Rpb24iLCJjdXRvZmYiLCJfZGlyZWN0aW9uIiwiX2N1dG9mZiIsInVMaWdodEFtYmllbnQiLCJ1TGlnaHREaWZmdXNlIiwidUxpZ2h0U3BlY3VsYXIiLCJ1TGlnaHRQb3NpdGlvbiIsInVuaWZvcm0zZnYiLCJ1RGlyZWN0aW9uIiwidUN1dE9mZiIsIkRpZmZ1c2VFbnRpdHkiLCJfdmFsdWUiLCJQYXJ0aWNsZUVudGl0eSIsInBvaW50U2l6ZSIsIl9wb2ludFNpemUiLCJfYnVmZmVyIiwiX3RleHR1cmVfaWQiLCJjb25maWd1cmUiLCJkYXRhX21lc2giLCJkYXRhX3RleHR1cmUiLCJfbnVtSXRlbXMiLCJ1cGRhdGUiLCJ1UG9pbnRTaXplIiwiZHJhd0FycmF5cyIsIlBPSU5UUyIsIkxpZ2h0QXJyYXlFbnRpdHkiLCJfbGlnaHRzIiwiYWRkTGlnaHQiLCJsaWdodCIsInJlbW92ZUxpZ2h0cyIsImdldEFycmF5c09iamVjdCIsIkFycmF5IiwibGlnaHRzIiwiQ2FtZXJhRW50aXR5IiwiX3R5cGUiLCJPUkJJVElORyIsIl9jbWF0cml4IiwiX3VwIiwiX3JpZ2h0IiwiX25vcm1hbCIsIl9hemltdXRoIiwiX2VsZXZhdGlvbiIsIl9zdGVwcyIsInBvcyIsImF6IiwidGVtcF9heiIsImNoYW5nZUF6aW11dGgiLCJlbCIsInRlbXBfZWwiLCJjaGFuZ2VFbGV2YXRpb24iLCJuIiwic3RlcCIsIm5vcm1hbGl6ZSIsIm5ld19wb3NpdGlvbiIsIlRSQUNLSU5HIiwiY2FsY3VsYXRlT3JpZW50YXRpb24iLCJtIiwibXVsdGlwbHlWZWM0Iiwicm90YXRlWSIsInJvdGF0ZVgiLCJBeGlzRW50aXR5IiwiX3ZlcnRpY2VzIiwiX2luZGljZXMiLCJfY29sb3JzIiwiX2libyIsIl9jYm8iLCJ1V2lyZWZyYW1lIiwidVBlclZlcnRleENvbG9yIiwiTElORVMiLCJHcmlkRW50aXR5IiwiX2RpbWVzaW9ucyIsImRpbSIsImJ1aWxkIiwiaW5jIiwibCIsIlNlbGVjdEVudGl0eSIsIl9jb2xvciIsImdlbmVyYXRlVW5pcXVlQ29sb3IiLCJfZGF0YSIsImNvbnRhaW5zIiwiYmluZCIsImZvdW5kIiwidG9GaXhlZCIsInVTZWxlY3RDb2xvciIsIlNlbGVjdG9yIiwiZGltZW5zaW9ucyIsIl9kaW1lbnNpb25zIiwiX2ZyYW1lYnVmZmVyIiwiX3JlbmRlcmJ1ZmZlciIsImNyZWF0ZVJlbmRlcmJ1ZmZlciIsImJpbmRSZW5kZXJidWZmZXIiLCJSRU5ERVJCVUZGRVIiLCJyZW5kZXJidWZmZXJTdG9yYWdlIiwiREVQVEhfQ09NUE9ORU5UMTYiLCJjcmVhdGVGcmFtZWJ1ZmZlciIsImJpbmRGcmFtZWJ1ZmZlciIsIkZSQU1FQlVGRkVSIiwiZnJhbWVidWZmZXJUZXh0dXJlMkQiLCJDT0xPUl9BVFRBQ0hNRU5UMCIsImZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyIiwiREVQVEhfQVRUQUNITUVOVCIsImZpbGwiLCJjbGVhciIsInJlYWRvdXQiLCJVaW50OEFycmF5IiwicmVhZFBpeGVscyIsImZpeGVkIiwicGFyc2VGbG9hdCIsInJlbmRlciIsImRyYXciLCJ1T2Zmc2NyZWVuIiwiRWZmZWN0cyIsIl9zaGFkZXIiLCJfdW5pZm9ybXMiLCJfYXR0cmlicyIsIl9ub2lzZXRleHR1cmUiLCJfc3RhcnQiLCJub3ciLCJfY2FudmFzIiwiR2VvbWV0cnkiLCJzZXRFZmZlY3QiLCJORUFSRVNUIiwiVEVYVFVSRV9XUkFQX1MiLCJDTEFNUF9UT19FREdFIiwiVEVYVFVSRV9XUkFQX1QiLCJ2ZXJ0aWNlcyIsInRleHR1cmVDb29yZHMiLCJzb3VyY2UiLCJkZWxldGVQcm9ncmFtIiwiY291bnQiLCJBQ1RJVkVfQVRUUklCVVRFUyIsImF0dHJpYiIsImdldEFjdGl2ZUF0dHJpYiIsIkFDVElWRV9VTklGT1JNUyIsInVuaWZvcm0iLCJnZXRBY3RpdmVVbmlmb3JtIiwiU2l6ZSIsInNldE5vaXNlVGV4dHVyZSIsIkJpbmQiLCJhX3Bvc2l0aW9uIiwiYV90ZXh0dXJlX2Nvb3JkcyIsInVUaW1lIiwidUludmVyc2VUZXh0dXJlU2l6ZSIsInVuaWZvcm0yZiIsInVOb2lzZVNhbXBsZXIiLCJURVhUVVJFMSIsImJpbmRGcmFtZUJ1ZmZlciIsInVuYmluZEZyYW1lQnVmZmVyIiwiTm9kZUVsZW1lbnQiLCJwYXJlbnQiLCJlbnRpdHkiLCJfcGFyZW50Tm9kZSIsImFkZENoaWxkTm9kZSIsIl9jaGlsZE5vZGVzIiwiX2VudGl0eSIsImNoaWxkIiwicmVtb3ZlQ2hpbGROb2RlIiwiZ2V0Q2hpbGROb2RlQnlJbmRleCIsImV4aXN0c0NoaWxkTm9kZSIsImNyZWF0ZUNoaWxkTm9kZSIsImlzUm9vdCIsIm9pZCIsImZpbmRJbmRleCIsInMiLCJpbmRleEluUGFyZW50IiwiaGFzU2libGluZyIsIl9oYXZlIiwibmV4dFNpYmxpbmciLCJzaWJsaW5nIiwicHJldmlvdXNTaWJsaW5nIiwiZmlyc3RDaGlsZCIsImxhc3RDaGlsZCIsInJlbW92ZUNoaWxkTm9kZXMiLCJTY2VuZUdyYXBoIiwiX3NjZW5lIiwiX21hdHJpeFN0YWNrIiwiX2xvYWRlckJ1ZmZlciIsIl9zZWxlY3RvciIsIl9lZmZlY3RzIiwiX3VzZVNlbGVjdG9yIiwiRW52aXJvbm1lbnQiLCJlbmFibGUiLCJERVBUSF9URVNUIiwiZGVwdGhGdW5jIiwiTEVRVUFMIiwiQkxFTkQiLCJibGVuZEZ1bmMiLCJTUkNfQUxQSEEiLCJPTkVfTUlOVVNfU1JDX0FMUEhBIiwicGl4ZWxTdG9yZWkiLCJVTlBBQ0tfRkxJUF9ZX1dFQkdMIiwiY2xlYXJDb2xvciIsImNsZWFyRGVwdGgiLCJkcmF3V2l0aEVmZmVjdHMiLCJkcmF3U2NlbmUiLCJ2aWV3cG9ydCIsIkNPTE9SX0JVRkZFUl9CSVQiLCJERVBUSF9CVUZGRVJfQklUIiwiY3JlYXRlTWFpbkNoaWxkTm9kZSIsInJlbW92ZU1haW5DaGlsZE5vZGUiLCJub2RlIiwiUHJvZ3JhbSIsImNyZWF0ZU1lc2giLCJjb25maWciLCJtZXNoRW50aXR5IiwibWVzaCIsIm1hdGVyaWFsIiwiY3JlYXRlRGlmZnVzZSIsImNyZWF0ZU1lc2hCeUxvYWRlciIsImNyZWF0ZVRyYW5zZm9ybSIsImNyZWF0ZUxpZ2h0IiwiY3JlYXRlQ2FtZXJhIiwiY3JlYXRlUGFydGljbGUiLCJjcmVhdGVBeGlzIiwiY3JlYXRlR3JpZCIsImNyZWF0ZVNlbGVjdCIsImNyZWF0ZVNlbGVjdG9yIiwiZmlsbFNlbGVjdG9yIiwiY2xlYXJTZWxlY3RvciIsInNlbGVjdCIsImNyZWF0ZUVmZmVjdHMiLCJzZXROb2lzZUVmZmVjdCIsImNyZWF0ZUxpZ2h0QXJyYXkiLCJNYWluQ2FtZXJhIiwic3RhcnRMb2FkZXIiLCJlYWNoU2VyaWVzIiwiYmFja2dyb3VuZCIsInR5cGVTaGFkZXIiLCJBVFRSSUJVVEVTIiwiVU5JRk9STVMiLCJjb25maWd1cmVXaXRoTG9hZGVyIl0sIm1hcHBpbmdzIjoiQUFBQSxHQUFJQSxXQUFhQyxNQUFRQSxLQUFLRCxXQUFjLFNBQVVFLEVBQUdDLEdBRXJELFFBQVNDLEtBQU9ILEtBQUtJLFlBQWNILEVBRG5DLElBQUssR0FBSUksS0FBS0gsR0FBT0EsRUFBRUksZUFBZUQsS0FBSUosRUFBRUksR0FBS0gsRUFBRUcsR0FFbkRKLEdBQUVNLFVBQWtCLE9BQU5MLEVBQWFNLE9BQU9DLE9BQU9QLElBQU1DLEVBQUdJLFVBQVlMLEVBQUVLLFVBQVcsR0FBSUosS0FFL0VPLE9BQ0osU0FBV0EsR0FDUCxHQUFJQyxJQUNKLFNBQVdBLEdBQ1AsUUFBU0MsR0FBYUMsR0FHbEIsSUFBSyxHQUZEQyxHQUFNLEtBQ05DLEdBQVMsUUFBUyxxQkFBc0IsWUFBYSxhQUNoREMsRUFBSSxFQUFHQSxFQUFJRCxFQUFNRSxTQUFVRCxFQUFHLENBQ25DLElBQ0lGLEVBQU1ELEVBQU9LLFdBQVdILEVBQU1DLElBRWxDLE1BQU9HLElBQ1AsR0FBSUwsRUFDQSxNQUdSLE1BQVksUUFBUkEsR0FDQU0sTUFBTSw4QkFDQyxPQUdQTixFQUFJTyxjQUFnQlIsRUFBT1MsTUFDM0JSLEVBQUlTLGVBQWlCVixFQUFPVyxPQUNyQlYsR0FVZixRQUFTVyxHQUFhQyxFQUFJQyxFQUFNQyxFQUFNQyxHQUNsQyxHQUFJQyxHQUFTSixFQUFHRCxjQUVoQixRQURBQyxFQUFHSyxXQUFXTCxFQUFHTSxhQUFjRixHQUN2QkQsR0FDSixJQUFLbEIs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SUFFbEJvVyxFQUFXN2lCLFVBQVU4SyxjQUFnQixTQUFVdkYsR0FDM0N3QyxFQUFNK0MsY0FBY3JMLEtBQUt3aUIsSUFBSzFjLElBRWxDc2QsRUFBVzdpQixVQUFVZ21CLFlBQWMsU0FBVXhiLEdBQ3pDeUssTUFBTWdSLFdBQVd4bUIsS0FBS3VqQixjQUFlLFNBQVVqVCxFQUFNb0YsR0FDakRwRixFQUFLaUYsU0FBUyxXQUNWclIsUUFBUUMsSUFBSW1NLEdBQ1pvRixPQUVMM0ssSUFFUHFZLEVBQVc3aUIsVUFBVWlaLFVBQVksU0FBVTBMLEdBQ3ZDLEdBQUk1VixHQUFPdFAsSUFDWGtsQixHQUFTQSxNQUNUNVYsRUFBS3FVLFlBQVl1QixFQUFPdUIsWUFDeEJuWCxFQUFLMFYsUUFBUUUsRUFBT3dCLFlBQ3BCcGUsRUFBTVksc0JBQXNCb0csRUFBS2dDLEtBQU04UixFQUFXdUQsWUFDbERyZSxFQUFNeUIsb0JBQW9CdUYsRUFBS2dDLEtBQU04UixFQUFXd0QsVUFDaEQ1bUIsS0FBS3NqQixhQUFhM1UsUUFFdEJ5VSxFQUFXN2lCLFVBQVVzbUIsb0JBQXNCLFNBQVU5YixHQUNqRCxHQUFJdUUsR0FBT3RQLElBQ1hzUCxHQUFLa0ssWUFDTGxLLEVBQUtpWCxZQUFZeGIsSUFFckJxWSxFQUFXd0QsVUFDUCxXQUNBLFlBQ0EsV0FDQSxpQkFDQSxrQkFDQSxVQUNBLGdCQUNBLG1CQUNBLGdCQUNBLG1CQUNBLGlCQUNBLG9CQUNBLGFBQ0EsYUFDQSxXQUNBLGFBQ0Esa0JBQ0EsZUFDQSxhQUNBLHNCQUNBLGdCQUNBLFNBRUp4RCxFQUFXdUQsWUFBYyxhQUFjLFdBQVksVUFBVyxvQkFDdkR2RCxHQUNUMVcsRUFDRmhNLEdBQU0waUIsV0FBYUEsR0FDcEIxaUIsUUFBVUEiLCJmaWxlIjoiYmxhemUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59O1xyXG52YXIgQmxhemU7XHJcbihmdW5jdGlvbiAoQmxhemUpIHtcclxuICAgIHZhciBXZWJHTFV0aWxzO1xyXG4gICAgKGZ1bmN0aW9uIChXZWJHTFV0aWxzKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0R0xDb250ZXh0KGNhbnZhcykge1xyXG4gICAgICAgICAgICB2YXIgY3R4ID0gbnVsbDtcclxuICAgICAgICAgICAgdmFyIG5hbWVzID0gW1wid2ViZ2xcIiwgXCJleHBlcmltZW50YWwtd2ViZ2xcIiwgXCJ3ZWJraXQtM2RcIiwgXCJtb3otd2ViZ2xcIl07XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gY2FudmFzLmdldENvbnRleHQobmFtZXNbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGN0eCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjdHggPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KFwiQ291bGQgbm90IGluaXRpYWxpc2UgV2ViR0xcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN0eC52aWV3cG9ydFdpZHRoID0gY2FudmFzLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgY3R4LnZpZXdwb3J0SGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5nZXRHTENvbnRleHQgPSBnZXRHTENvbnRleHQ7XHJcbiAgICAgICAgKGZ1bmN0aW9uIChCVUZGRVJfRFJBVykge1xyXG4gICAgICAgICAgICBCVUZGRVJfRFJBV1tCVUZGRVJfRFJBV1tcIlNUQVRJQ1wiXSA9IDBdID0gXCJTVEFUSUNcIjtcclxuICAgICAgICAgICAgQlVGRkVSX0RSQVdbQlVGRkVSX0RSQVdbXCJTVFJFQU1cIl0gPSAxXSA9IFwiU1RSRUFNXCI7XHJcbiAgICAgICAgICAgIEJVRkZFUl9EUkFXW0JVRkZFUl9EUkFXW1wiRFlOQU1JQ1wiXSA9IDJdID0gXCJEWU5BTUlDXCI7XHJcbiAgICAgICAgfSkoV2ViR0xVdGlscy5CVUZGRVJfRFJBVyB8fCAoV2ViR0xVdGlscy5CVUZGRVJfRFJBVyA9IHt9KSk7XHJcbiAgICAgICAgdmFyIEJVRkZFUl9EUkFXID0gV2ViR0xVdGlscy5CVUZGRVJfRFJBVztcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVCdWZmZXIoZ2wsIGRhdGEsIGlzMkQsIHR5cGVfZHJhdykge1xyXG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBidWZmZXIpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVfZHJhdykge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXLlNUQVRJQzpcclxuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShkYXRhKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXLkRZTkFNSUM6XHJcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoZGF0YSksIGdsLkRZTkFNSUNfRFJBVyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcuU1RSRUFNOlxyXG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KGRhdGEpLCBnbC5TVFJFQU1fRFJBVyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShkYXRhKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgaWYgKGlzMkQpIHtcclxuICAgICAgICAgICAgICAgIGJ1ZmZlci5pdGVtU2l6ZSA9IDI7XHJcbiAgICAgICAgICAgICAgICBidWZmZXIubnVtSXRlbXMgPSBkYXRhLmxlbmd0aCAvIDI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBidWZmZXIuaXRlbVNpemUgPSAzO1xyXG4gICAgICAgICAgICAgICAgYnVmZmVyLm51bUl0ZW1zID0gZGF0YS5sZW5ndGggLyAzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBidWZmZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFdlYkdMVXRpbHMuY3JlYXRlQnVmZmVyID0gY3JlYXRlQnVmZmVyO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUluZGV4QnVmZmVyKGdsLCBkYXRhLCB0eXBlX2RyYXcpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4QnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgaW5kZXhCdWZmZXIpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVfZHJhdykge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXLlNUQVRJQzpcclxuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBuZXcgVWludDE2QXJyYXkoZGF0YSksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgV2ViR0xVdGlscy5CVUZGRVJfRFJBVy5EWU5BTUlDOlxyXG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG5ldyBVaW50MTZBcnJheShkYXRhKSwgZ2wuRFlOQU1JQ19EUkFXKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgV2ViR0xVdGlscy5CVUZGRVJfRFJBVy5TVFJFQU06XHJcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbmV3IFVpbnQxNkFycmF5KGRhdGEpLCBnbC5TVFJFQU1fRFJBVyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBuZXcgVWludDE2QXJyYXkoZGF0YSksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgaW5kZXhCdWZmZXIuaXRlbVNpemUgPSAxO1xyXG4gICAgICAgICAgICBpbmRleEJ1ZmZlci5udW1JdGVtcyA9IGRhdGEubGVuZ3RoO1xyXG4gICAgICAgICAgICByZXR1cm4gaW5kZXhCdWZmZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFdlYkdMVXRpbHMuY3JlYXRlSW5kZXhCdWZmZXIgPSBjcmVhdGVJbmRleEJ1ZmZlcjtcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVUZXh0dXJlKGdsLCBkYXRhKSB7XHJcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xyXG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcclxuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBkYXRhKTtcclxuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLkxJTkVBUik7XHJcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBudWxsKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRleHR1cmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFdlYkdMVXRpbHMuY3JlYXRlVGV4dHVyZSA9IGNyZWF0ZVRleHR1cmU7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlU2hhZGVyKGdsLCB0eXBlLCBzaGFkZXJTb3VyY2UpIHtcclxuICAgICAgICAgICAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcih0eXBlKTtcclxuICAgICAgICAgICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc2hhZGVyU291cmNlKTtcclxuICAgICAgICAgICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xyXG4gICAgICAgICAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzaGFkZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFdlYkdMVXRpbHMuY3JlYXRlU2hhZGVyID0gY3JlYXRlU2hhZGVyO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUZyYWdtZW50U2hhZGVyKGdsLCBzaGFkZXJTb3VyY2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVNoYWRlcihnbCwgZ2wuRlJBR01FTlRfU0hBREVSLCBzaGFkZXJTb3VyY2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBXZWJHTFV0aWxzLmNyZWF0ZUZyYWdtZW50U2hhZGVyID0gY3JlYXRlRnJhZ21lbnRTaGFkZXI7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlVmVydGV4U2hhZGVyKGdsLCBzaGFkZXJTb3VyY2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVNoYWRlcihnbCwgZ2wuVkVSVEVYX1NIQURFUiwgc2hhZGVyU291cmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5jcmVhdGVWZXJ0ZXhTaGFkZXIgPSBjcmVhdGVWZXJ0ZXhTaGFkZXI7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlUHJvZ3JhbShnbCwgc2hhZGVycykge1xyXG4gICAgICAgICAgICB2YXIgZnJhZ21lbnRTaGFkZXIgPSBjcmVhdGVGcmFnbWVudFNoYWRlcihnbCwgc2hhZGVycy5mcmFnbWVudCk7XHJcbiAgICAgICAgICAgIHZhciB2ZXJ0ZXhTaGFkZXIgPSBjcmVhdGVWZXJ0ZXhTaGFkZXIoZ2wsIHNoYWRlcnMudmVydGV4KTtcclxuICAgICAgICAgICAgdmFyIHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XHJcbiAgICAgICAgICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xyXG4gICAgICAgICAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xyXG4gICAgICAgICAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcclxuICAgICAgICAgICAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSlcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pKTtcclxuICAgICAgICAgICAgcmV0dXJuIHByb2dyYW07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFdlYkdMVXRpbHMuY3JlYXRlUHJvZ3JhbSA9IGNyZWF0ZVByb2dyYW07XHJcbiAgICB9KShXZWJHTFV0aWxzID0gQmxhemUuV2ViR0xVdGlscyB8fCAoQmxhemUuV2ViR0xVdGlscyA9IHt9KSk7XHJcbiAgICB2YXIgdXRpbHM7XHJcbiAgICAoZnVuY3Rpb24gKHV0aWxzKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gczQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKCgxICsgTWF0aC5yYW5kb20oKSkgKiAweDEwMDAwKVxyXG4gICAgICAgICAgICAgICAgLnRvU3RyaW5nKDE2KVxyXG4gICAgICAgICAgICAgICAgLnN1YnN0cmluZygxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMuczQgPSBzNDtcclxuICAgICAgICBmdW5jdGlvbiB1dWlkKG5hbWUpIHtcclxuICAgICAgICAgICAgdmFyIGlkID0gczQoKSArIHM0KCk7XHJcbiAgICAgICAgICAgIHJldHVybiBuYW1lID8gbmFtZSArIGlkIDogaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLnV1aWQgPSB1dWlkO1xyXG4gICAgICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZU5hTih2ZWMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZlYy5tYXAoZnVuY3Rpb24gKGEpIHsgaWYgKE51bWJlci5pc05hTihhKSlcclxuICAgICAgICAgICAgICAgIGEgPSAwOyByZXR1cm4gYTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLm5vcm1hbGl6ZU5hTiA9IG5vcm1hbGl6ZU5hTjtcclxuICAgICAgICBmdW5jdGlvbiBsb2FkKHVybCwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgcmVxdWVzdC5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xyXG4gICAgICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXF1ZXN0LnNlbmQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMubG9hZCA9IGxvYWQ7XHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0RXh0ZW5zaW9uKHN0cikge1xyXG4gICAgICAgICAgICB2YXIgZWxlbXMgPSBzdHIuc3BsaXQoXCIuXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZWxlbXNbZWxlbXMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLmdldEV4dGVuc2lvbiA9IGdldEV4dGVuc2lvbjtcclxuICAgICAgICBmdW5jdGlvbiBub3dJbk1pbGxpc2Vjb25kcygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLm5vd0luTWlsbGlzZWNvbmRzID0gbm93SW5NaWxsaXNlY29uZHM7XHJcbiAgICAgICAgZnVuY3Rpb24gZGVnVG9SYWQoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZCAqIE1hdGguUEkgLyAxODA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLmRlZ1RvUmFkID0gZGVnVG9SYWQ7XHJcbiAgICAgICAgZnVuY3Rpb24gY2FsY3VsYXRlTm9ybWFscyh2cywgaW5kKSB7XHJcbiAgICAgICAgICAgIHZhciB4ID0gMDtcclxuICAgICAgICAgICAgdmFyIHkgPSAxO1xyXG4gICAgICAgICAgICB2YXIgeiA9IDI7XHJcbiAgICAgICAgICAgIHZhciBucyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBuc1tpXSA9IDAuMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluZC5sZW5ndGg7IGkgPSBpICsgMykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHYxID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgdjIgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBub3JtYWwgPSBbXTtcclxuICAgICAgICAgICAgICAgIC8vcDEgLSBwMFxyXG4gICAgICAgICAgICAgICAgdjFbeF0gPSB2c1szICogaW5kW2kgKyAxXSArIHhdIC0gdnNbMyAqIGluZFtpXSArIHhdO1xyXG4gICAgICAgICAgICAgICAgdjFbeV0gPSB2c1szICogaW5kW2kgKyAxXSArIHldIC0gdnNbMyAqIGluZFtpXSArIHldO1xyXG4gICAgICAgICAgICAgICAgdjFbel0gPSB2c1szICogaW5kW2kgKyAxXSArIHpdIC0gdnNbMyAqIGluZFtpXSArIHpdO1xyXG4gICAgICAgICAgICAgICAgLy8gcDAgLSBwMVxyXG4gICAgICAgICAgICAgICAgdjJbeF0gPSB2c1szICogaW5kW2kgKyAyXSArIHhdIC0gdnNbMyAqIGluZFtpICsgMV0gKyB4XTtcclxuICAgICAgICAgICAgICAgIHYyW3ldID0gdnNbMyAqIGluZFtpICsgMl0gKyB5XSAtIHZzWzMgKiBpbmRbaSArIDFdICsgeV07XHJcbiAgICAgICAgICAgICAgICB2Mlt6XSA9IHZzWzMgKiBpbmRbaSArIDJdICsgel0gLSB2c1szICogaW5kW2kgKyAxXSArIHpdO1xyXG4gICAgICAgICAgICAgICAgLy9wMiAtIHAxXHJcbiAgICAgICAgICAgICAgICAvLyB2MVt4XSA9IHZzWzMqaW5kW2krMl0reF0gLSB2c1szKmluZFtpKzFdK3hdO1xyXG4gICAgICAgICAgICAgICAgLy8gdjFbeV0gPSB2c1szKmluZFtpKzJdK3ldIC0gdnNbMyppbmRbaSsxXSt5XTtcclxuICAgICAgICAgICAgICAgIC8vIHYxW3pdID0gdnNbMyppbmRbaSsyXSt6XSAtIHZzWzMqaW5kW2krMV0rel07XHJcbiAgICAgICAgICAgICAgICAvLyBwMCAtIHAxXHJcbiAgICAgICAgICAgICAgICAvLyB2Mlt4XSA9IHZzWzMqaW5kW2ldK3hdIC0gdnNbMyppbmRbaSsxXSt4XTtcclxuICAgICAgICAgICAgICAgIC8vIHYyW3ldID0gdnNbMyppbmRbaV0reV0gLSB2c1szKmluZFtpKzFdK3ldO1xyXG4gICAgICAgICAgICAgICAgLy8gdjJbel0gPSB2c1szKmluZFtpXSt6XSAtIHZzWzMqaW5kW2krMV0rel07XHJcbiAgICAgICAgICAgICAgICAvL2Nyb3NzIHByb2R1Y3QgYnkgU2FycnVzIFJ1bGVcclxuICAgICAgICAgICAgICAgIG5vcm1hbFt4XSA9IHYxW3ldICogdjJbel0gLSB2MVt6XSAqIHYyW3ldO1xyXG4gICAgICAgICAgICAgICAgbm9ybWFsW3ldID0gdjFbel0gKiB2Mlt4XSAtIHYxW3hdICogdjJbel07XHJcbiAgICAgICAgICAgICAgICBub3JtYWxbel0gPSB2MVt4XSAqIHYyW3ldIC0gdjFbeV0gKiB2Mlt4XTtcclxuICAgICAgICAgICAgICAgIC8vIG5zWzMqaW5kW2ldK3hdICs9IG5vcm1hbFt4XTtcclxuICAgICAgICAgICAgICAgIC8vIG5zWzMqaW5kW2ldK3ldICs9IG5vcm1hbFt5XTtcclxuICAgICAgICAgICAgICAgIC8vIG5zWzMqaW5kW2ldK3pdICs9IG5vcm1hbFt6XTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMzsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbnNbMyAqIGluZFtpICsgal0gKyB4XSA9IG5zWzMgKiBpbmRbaSArIGpdICsgeF0gKyBub3JtYWxbeF07XHJcbiAgICAgICAgICAgICAgICAgICAgbnNbMyAqIGluZFtpICsgal0gKyB5XSA9IG5zWzMgKiBpbmRbaSArIGpdICsgeV0gKyBub3JtYWxbeV07XHJcbiAgICAgICAgICAgICAgICAgICAgbnNbMyAqIGluZFtpICsgal0gKyB6XSA9IG5zWzMgKiBpbmRbaSArIGpdICsgel0gKyBub3JtYWxbel07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9ub3JtYWxpemUgdGhlIHJlc3VsdFxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZzLmxlbmd0aDsgaSA9IGkgKyAzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbm4gPSBbXTtcclxuICAgICAgICAgICAgICAgIG5uW3hdID0gbnNbaSArIHhdO1xyXG4gICAgICAgICAgICAgICAgbm5beV0gPSBuc1tpICsgeV07XHJcbiAgICAgICAgICAgICAgICBublt6XSA9IG5zW2kgKyB6XTtcclxuICAgICAgICAgICAgICAgIHZhciBsZW4gPSBNYXRoLnNxcnQoKG5uW3hdICogbm5beF0pICsgKG5uW3ldICogbm5beV0pICsgKG5uW3pdICogbm5bel0pKTtcclxuICAgICAgICAgICAgICAgIGlmIChsZW4gPT0gMClcclxuICAgICAgICAgICAgICAgICAgICBsZW4gPSAwLjAwMDAxO1xyXG4gICAgICAgICAgICAgICAgbm5beF0gPSBublt4XSAvIGxlbjtcclxuICAgICAgICAgICAgICAgIG5uW3ldID0gbm5beV0gLyBsZW47XHJcbiAgICAgICAgICAgICAgICBublt6XSA9IG5uW3pdIC8gbGVuO1xyXG4gICAgICAgICAgICAgICAgbnNbaSArIHhdID0gbm5beF07XHJcbiAgICAgICAgICAgICAgICBuc1tpICsgeV0gPSBublt5XTtcclxuICAgICAgICAgICAgICAgIG5zW2kgKyB6XSA9IG5uW3pdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBucztcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMuY2FsY3VsYXRlTm9ybWFscyA9IGNhbGN1bGF0ZU5vcm1hbHM7XHJcbiAgICB9KSh1dGlscyA9IEJsYXplLnV0aWxzIHx8IChCbGF6ZS51dGlscyA9IHt9KSk7XHJcbiAgICAoZnVuY3Rpb24gKENBTUVSQV9UWVBFKSB7XHJcbiAgICAgICAgQ0FNRVJBX1RZUEVbQ0FNRVJBX1RZUEVbXCJPUkJJVElOR1wiXSA9IDBdID0gXCJPUkJJVElOR1wiO1xyXG4gICAgICAgIENBTUVSQV9UWVBFW0NBTUVSQV9UWVBFW1wiVFJBQ0tJTkdcIl0gPSAxXSA9IFwiVFJBQ0tJTkdcIjtcclxuICAgIH0pKEJsYXplLkNBTUVSQV9UWVBFIHx8IChCbGF6ZS5DQU1FUkFfVFlQRSA9IHt9KSk7XHJcbiAgICB2YXIgQ0FNRVJBX1RZUEUgPSBCbGF6ZS5DQU1FUkFfVFlQRTtcclxuICAgIHZhciBLZXRjaCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gS2V0Y2goKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEtldGNoLnNldENhbnZhc1RvQ29udGV4dCA9IGZ1bmN0aW9uIChrZXksIGNhbnZhcykge1xyXG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IFdlYkdMVXRpbHMuZ2V0R0xDb250ZXh0KGNhbnZhcyk7XHJcbiAgICAgICAgICAgIEtldGNoLnNldENvbnRleHQoa2V5LCBjb250ZXh0KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLnNldENvbnRleHQgPSBmdW5jdGlvbiAoa2V5LCBjb250ZXh0KSB7XHJcbiAgICAgICAgICAgIEtldGNoLl92aWV3c1trZXldLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZ2V0Q29udGV4dCA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEtldGNoLl92aWV3c1trZXldLmNvbnRleHQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5jcmVhdGVQcm9ncmFtID0gZnVuY3Rpb24gKGtleSwgc2hhZGVycykge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSBLZXRjaC5nZXRDb250ZXh0KGtleSk7XHJcbiAgICAgICAgICAgIHZhciBwcm9ncmFtID0gV2ViR0xVdGlscy5jcmVhdGVQcm9ncmFtKGdsLCBzaGFkZXJzKTtcclxuICAgICAgICAgICAgS2V0Y2guc2V0UHJvZ3JhbShrZXksIHByb2dyYW0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guc2V0UHJvZ3JhbSA9IGZ1bmN0aW9uIChrZXksIHByb2dyYW0pIHtcclxuICAgICAgICAgICAgS2V0Y2guX3ZpZXdzW2tleV0ucHJvZ3JhbSA9IHByb2dyYW07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5nZXRQcm9ncmFtID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gS2V0Y2guX3ZpZXdzW2tleV0ucHJvZ3JhbTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLnVzZVByb2dyYW0gPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gS2V0Y2guX3ZpZXdzW2tleV07XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHZpZXcuY29udGV4dDtcclxuICAgICAgICAgICAgdmFyIHByZyA9IHZpZXcucHJvZ3JhbTtcclxuICAgICAgICAgICAgZ2wudXNlUHJvZ3JhbShwcmcpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guY3JlYXRlVmlldyA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgS2V0Y2guX3ZpZXdzW2tleV0gPSB7fTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLnNldEF0dHJpYnV0ZUxvY2F0aW9ucyA9IGZ1bmN0aW9uIChrZXksIGF0dHJpYnNfbmFtZXMpIHtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBLZXRjaC5fdmlld3Nba2V5XTtcclxuICAgICAgICAgICAgdmFyIGdsID0gdmlldy5jb250ZXh0O1xyXG4gICAgICAgICAgICB2YXIgcHJnID0gdmlldy5wcm9ncmFtO1xyXG4gICAgICAgICAgICB2aWV3LmF0dHJpYnMgPSBhdHRyaWJzX25hbWVzLnJlZHVjZShmdW5jdGlvbiAocHJldiwgYXR0cikge1xyXG4gICAgICAgICAgICAgICAgcHJldlthdHRyXSA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByZywgYXR0cik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcclxuICAgICAgICAgICAgfSwge30pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZ2V0QXR0cmliID0gZnVuY3Rpb24gKHZpZXdfa2V5LCBhdHRyX2tleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gS2V0Y2guX3ZpZXdzW3ZpZXdfa2V5XS5hdHRyaWJzW2F0dHJfa2V5XTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmdldFVuaWZvcm0gPSBmdW5jdGlvbiAodmlld19rZXksIHVuaWZvcm1fa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBLZXRjaC5fdmlld3Nbdmlld19rZXldLnVuaWZvcm1zW3VuaWZvcm1fa2V5XTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLnNldFVuaWZvcm1Mb2NhdGlvbnMgPSBmdW5jdGlvbiAoa2V5LCB1bmlmb3JtX25hbWVzKSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gS2V0Y2guX3ZpZXdzW2tleV07XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHZpZXcuY29udGV4dDtcclxuICAgICAgICAgICAgdmFyIHByZyA9IHZpZXcucHJvZ3JhbTtcclxuICAgICAgICAgICAgdmlldy51bmlmb3JtcyA9IHVuaWZvcm1fbmFtZXMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBhdHRyKSB7XHJcbiAgICAgICAgICAgICAgICBwcmV2W2F0dHJdID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByZywgYXR0cik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcclxuICAgICAgICAgICAgfSwge30pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZW5hYmxlQXR0cmliID0gZnVuY3Rpb24gKHZpZXdfa2V5LCBhdHRyX2tleSwgcG9pbnRlcikge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBLZXRjaC5nZXRBdHRyaWIodmlld19rZXksIGF0dHJfa2V5KTtcclxuICAgICAgICAgICAgdmFyIGdsID0gS2V0Y2guZ2V0Q29udGV4dCh2aWV3X2tleSk7XHJcbiAgICAgICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGluZGV4KTtcclxuICAgICAgICAgICAgaWYgKHBvaW50ZXIpIHtcclxuICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoaW5kZXgsIHBvaW50ZXIuc2l6ZSB8fCAzLCBnbC5GTE9BVCwgcG9pbnRlci5ub3JtYWxpemVkIHx8IGZhbHNlLCBwb2ludGVyLnN0cmlkZSB8fCAwLCBwb2ludGVyLm9mZnNldCB8fCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoaW5kZXgsIDMsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmRpc2FibGVBdHRyaWIgPSBmdW5jdGlvbiAodmlld19rZXksIGF0dHJfa2V5KSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IEtldGNoLmdldEF0dHJpYih2aWV3X2tleSwgYXR0cl9rZXkpO1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSBLZXRjaC5nZXRDb250ZXh0KHZpZXdfa2V5KTtcclxuICAgICAgICAgICAgZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGluZGV4KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLnJlbmRlckxvb3AgPSBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgc2V0SW50ZXJ2YWwoY2IsIDMwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmFkZFRleHR1cmUgPSBmdW5jdGlvbiAoa2V5LCB0ZXh0dXJlX2lkKSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gS2V0Y2guX3ZpZXdzW2tleV07XHJcbiAgICAgICAgICAgIHZpZXcudGV4dHVyZXMgPSB2aWV3LnRleHR1cmVzIHx8IFtdO1xyXG4gICAgICAgICAgICB2aWV3LnRleHR1cmVzLnB1c2godGV4dHVyZV9pZCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5yZW1vdmVUZXh0dXJlID0gZnVuY3Rpb24gKGtleSwgdGV4dHVyZV9pZCkge1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IEtldGNoLl92aWV3c1trZXldO1xyXG4gICAgICAgICAgICB2aWV3LnRleHR1cmVzID0gdmlldy50ZXh0dXJlcyB8fCBbXTtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdmlldy50ZXh0dXJlcy5pbmRleE9mKHRleHR1cmVfaWQpO1xyXG4gICAgICAgICAgICB2aWV3LnRleHR1cmVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5hY3RpdmVUZXh0dXJlID0gZnVuY3Rpb24gKGtleSwgdGV4dHVyZV9pZCwgdGV4dHVyZSkge1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IEtldGNoLl92aWV3c1trZXldO1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB2aWV3LmNvbnRleHQ7XHJcbiAgICAgICAgICAgIHZhciBwcmcgPSB2aWV3LnByb2dyYW07XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHZpZXcudGV4dHVyZXMuaW5kZXhPZih0ZXh0dXJlX2lkKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoaW5kZXggPT09IDAgPyBnbC5URVhUVVJFMCA6IGdsLlRFWFRVUkUwICsgaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdVNhbXBsZXIgPSBLZXRjaC5nZXRVbmlmb3JtKGtleSwgXCJ1U2FtcGxlclwiKTtcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1U2FtcGxlciwgaW5kZXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5pc09mZlNjcmVlbiA9IGZ1bmN0aW9uICh2aWV3X2tleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gS2V0Y2guX3ZpZXdzW3ZpZXdfa2V5XS5vZmZzY3JlZW47XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5lbmFibGVPZmZTY3JlZW4gPSBmdW5jdGlvbiAodmlld19rZXkpIHtcclxuICAgICAgICAgICAgS2V0Y2guX3ZpZXdzW3ZpZXdfa2V5XS5vZmZzY3JlZW4gPSB0cnVlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZGlzYWJsZU9mZlNjcmVlbiA9IGZ1bmN0aW9uICh2aWV3X2tleSkge1xyXG4gICAgICAgICAgICBLZXRjaC5fdmlld3Nbdmlld19rZXldLm9mZnNjcmVlbiA9IHRydWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5maWxsU2VsZWN0b3JCdWZmZXIgPSBmdW5jdGlvbiAodmlld19rZXksIG9iaikge1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IEtldGNoLl92aWV3c1t2aWV3X2tleV07XHJcbiAgICAgICAgICAgIHZpZXcuc2VsZWN0T2JqZWN0cyA9IHZpZXcuc2VsZWN0T2JqZWN0cyB8fCBbXTtcclxuICAgICAgICAgICAgdmlldy5zZWxlY3RPYmplY3RzLnB1c2gob2JqKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmNsZWFyU2VsZWN0b3JCdWZmZXIgPSBmdW5jdGlvbiAodmlld19rZXkpIHtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBLZXRjaC5fdmlld3Nbdmlld19rZXldO1xyXG4gICAgICAgICAgICB2aWV3LnNlbGVjdE9iamVjdHMgPSBbXTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmdldFNlbGVjdEJ5Q29sb3IgPSBmdW5jdGlvbiAodmlld19rZXksIGNvbG9yKSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gS2V0Y2guX3ZpZXdzW3ZpZXdfa2V5XTtcclxuICAgICAgICAgICAgdmlldy5zZWxlY3RPYmplY3RzID0gdmlldy5zZWxlY3RPYmplY3RzIHx8IFtdO1xyXG4gICAgICAgICAgICByZXR1cm4gXy5maW5kKHZpZXcuc2VsZWN0T2JqZWN0cywgZnVuY3Rpb24gKG8pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfLmlzRXF1YWwoby5jb2xvciwgY29sb3IpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLl92aWV3cyA9IHt9O1xyXG4gICAgICAgIHJldHVybiBLZXRjaDtcclxuICAgIH0oKSk7XHJcbiAgICBCbGF6ZS5LZXRjaCA9IEtldGNoO1xyXG4gICAgdmFyIFJlbmRlcmFibGUgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIFJlbmRlcmFibGUoZ3JhcGhfaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZ3JhcGhfaWQgPSBncmFwaF9pZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlbmRlcmFibGUucHJvdG90eXBlLCBcImdyYXBoSURcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9ncmFwaF9pZDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlbmRlcmFibGUucHJvdG90eXBlLCBcImdsXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gS2V0Y2guZ2V0Q29udGV4dCh0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVuZGVyYWJsZS5wcm90b3R5cGUsIFwicHJvZ3JhbVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEtldGNoLmdldFByb2dyYW0odGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgUmVuZGVyYWJsZS5wcm90b3R5cGUuZ2V0VW5pZm9ybSA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEtldGNoLmdldFVuaWZvcm0odGhpcy5ncmFwaElELCBrZXkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFJlbmRlcmFibGU7XHJcbiAgICB9KCkpO1xyXG4gICAgQmxhemUuUmVuZGVyYWJsZSA9IFJlbmRlcmFibGU7XHJcbiAgICB2YXIgRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIEVudGl0eShncmFwaF9pZCkge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKG1hdHJpeFN0YWNrKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAobWF0cml4U3RhY2spIHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBFbnRpdHk7XHJcbiAgICB9KFJlbmRlcmFibGUpKTtcclxuICAgIEJsYXplLkVudGl0eSA9IEVudGl0eTtcclxuICAgIHZhciBNYXRyaXhTdGFjayA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKE1hdHJpeFN0YWNrLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIE1hdHJpeFN0YWNrKGdyYXBoX2lkKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fc3RhY2sgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5fbXZNYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9wTWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fbk1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY29weSA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIG1hdDQuc2V0KHRoaXMuX212TWF0cml4LCBjb3B5KTtcclxuICAgICAgICAgICAgdGhpcy5fc3RhY2sucHVzaChjb3B5KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGFjay5sZW5ndGggPT0gMClcclxuICAgICAgICAgICAgICAgIHRocm93IFwiaW52YWxpZCBwb3BNYXRyaXhcIjtcclxuICAgICAgICAgICAgdGhpcy5fbXZNYXRyaXggPSB0aGlzLl9zdGFjay5wb3AoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5Nb2RlbFZpZXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYW1lcmEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX212TWF0cml4ID0gdGhpcy5fY2FtZXJhLm1vZGVsVmlldztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG1hdDQuaWRlbnRpdHkodGhpcy5fbXZNYXRyaXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWF0cml4U3RhY2sucHJvdG90eXBlLCBcIm12TWF0cml4XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbXZNYXRyaXg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXhTdGFjay5wcm90b3R5cGUsIFwicE1hdHJpeFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BNYXRyaXg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXhTdGFjay5wcm90b3R5cGUsIFwibk1hdHJpeFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25NYXRyaXg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXhTdGFjay5wcm90b3R5cGUsIFwiTWFpbkNhbWVyYVwiLCB7XHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGNhbWVyYSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FtZXJhID0gY2FtZXJhO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBNYXRyaXhTdGFjay5wcm90b3R5cGUuUGVyc3BlY3RpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIG1hdDQuaWRlbnRpdHkodGhpcy5fcE1hdHJpeCk7XHJcbiAgICAgICAgICAgIG1hdDQucGVyc3BlY3RpdmUoNDUsIGdsLnZpZXdwb3J0V2lkdGggLyBnbC52aWV3cG9ydEhlaWdodCwgMC4xLCAxMDAwLjAsIHRoaXMuX3BNYXRyaXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWF0cml4U3RhY2sucHJvdG90eXBlLk5vcm1hbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbWF0NC5pZGVudGl0eSh0aGlzLl9uTWF0cml4KTtcclxuICAgICAgICAgICAgbWF0NC5zZXQodGhpcy5fbXZNYXRyaXgsIHRoaXMuX25NYXRyaXgpO1xyXG4gICAgICAgICAgICBtYXQ0LmludmVyc2UodGhpcy5fbk1hdHJpeCk7XHJcbiAgICAgICAgICAgIG1hdDQudHJhbnNwb3NlKHRoaXMuX25NYXRyaXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWF0cml4U3RhY2sucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTW9kZWxWaWV3KCk7XHJcbiAgICAgICAgICAgIHRoaXMuUGVyc3BlY3RpdmUoKTtcclxuICAgICAgICAgICAgdGhpcy5Ob3JtYWwoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5zZXRVcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy5Ob3JtYWwoKTtcclxuICAgICAgICAgICAgdmFyIG12TWF0cml4ID0gdGhpcy5nZXRVbmlmb3JtKFwidU1WTWF0cml4XCIpO1xyXG4gICAgICAgICAgICBpZiAobXZNYXRyaXgpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KG12TWF0cml4LCBmYWxzZSwgdGhpcy5fbXZNYXRyaXgpO1xyXG4gICAgICAgICAgICB2YXIgcE1hdHJpeCA9IHRoaXMuZ2V0VW5pZm9ybShcInVQTWF0cml4XCIpO1xyXG4gICAgICAgICAgICBpZiAocE1hdHJpeClcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocE1hdHJpeCwgZmFsc2UsIHRoaXMuX3BNYXRyaXgpO1xyXG4gICAgICAgICAgICB2YXIgbk1hdHJpeCA9IHRoaXMuZ2V0VW5pZm9ybShcInVOTWF0cml4XCIpO1xyXG4gICAgICAgICAgICBpZiAobk1hdHJpeClcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYobk1hdHJpeCwgZmFsc2UsIHRoaXMuX25NYXRyaXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIE1hdHJpeFN0YWNrO1xyXG4gICAgfShSZW5kZXJhYmxlKSk7XHJcbiAgICBCbGF6ZS5NYXRyaXhTdGFjayA9IE1hdHJpeFN0YWNrO1xyXG4gICAgdmFyIFJlc291cmNlcztcclxuICAgIChmdW5jdGlvbiAoUmVzb3VyY2VzKSB7XHJcbiAgICAgICAgdmFyIE1lc2hCdWZmZXJzID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICAgICAgX19leHRlbmRzKE1lc2hCdWZmZXJzLCBfc3VwZXIpO1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBNZXNoQnVmZmVycyhncmFwaF9pZCkge1xyXG4gICAgICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwib25sb2FkXCIsIHtcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25sb2FkID0gY2I7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJzcmNcIiwge1xyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3JjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4dCA9IHV0aWxzLmdldEV4dGVuc2lvbihzcmMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHV0aWxzLmxvYWQoc3JjLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm9ialwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iaiA9IHNlbGYucGFyc2VPQkooZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwianNvblwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iaiA9IHNlbGYucGFyc2VKU09OKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3JlYXRlQnVmZmVycyhvYmopO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX29ubG9hZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9vbmxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBNZXNoQnVmZmVycy5wcm90b3R5cGUucGFyc2VKU09OID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvYmogPSB7fTtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBNZXNoQnVmZmVycy5wcm90b3R5cGUucGFyc2VPQkogPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICB2OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICB2bjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgdnQ6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGl2OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBpbjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgaXQ6IFtdXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdmFyIGxpbmVzID0gZGF0YS5zcGxpdChcIlxcblwiKTtcclxuICAgICAgICAgICAgICAgIHZhciB2ZXJ0ZXggPSBsaW5lcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYVswXSA9PT0gJ3YnO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBsaW5lcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYVswXSA9PT0gJ2YnO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB2ZXJ0ZXguZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtcyA9IGl0ZW0ucmVwbGFjZShcIlxcclwiLCBcIlwiKS5zcGxpdChcIiBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGVsZW1zWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIG9ialtrZXldID0gb2JqW2tleV0uY29uY2F0KGVsZW1zLnNsaWNlKDEpLmZpbHRlcihmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYSAhPT0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wSW5kZXggPSBbXTtcclxuICAgICAgICAgICAgICAgIGluZGV4LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbXMgPSBpdGVtLnJlcGxhY2UoXCJcXHJcIiwgXCJcIikucmVwbGFjZShcImZcIiwgXCJcIikuc3BsaXQoXCIgXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBJbmRleCA9IHRlbXBJbmRleC5jb25jYXQoZWxlbXMuc2xpY2UoMSkuZmlsdGVyKGZ1bmN0aW9uIChhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhICE9PSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGVtcEluZGV4LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbXMgPSBpdGVtLnNwbGl0KFwiL1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBvYmouaXYucHVzaChwYXJzZUludChlbGVtc1swXSkgLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICBvYmouaW4ucHVzaChwYXJzZUludChlbGVtc1sxXSkgLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICBvYmouaXQucHVzaChwYXJzZUludChlbGVtc1syXSkgLSAxKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgTWVzaEJ1ZmZlcnMucHJvdG90eXBlLmNyZWF0ZUJ1ZmZlcnMgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICAgICAgXy5kZWZhdWx0cyhvYmosIHtcclxuICAgICAgICAgICAgICAgICAgICB2OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICB2bjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgdnQ6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGl2OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBpbjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgaXQ6IFtdXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlcihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFdlYkdMVXRpbHMuY3JlYXRlQnVmZmVyKGdsLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvYmoudi5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZibyA9IGNyZWF0ZUJ1ZmZlcihvYmoudik7XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLnYubGVuZ3RoID4gMCAmJiBvYmouaXYubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX25ibyA9IGNyZWF0ZUJ1ZmZlcih1dGlscy5jYWxjdWxhdGVOb3JtYWxzKG9iai52LCBvYmouaXYpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvYmoudnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RibyA9IFdlYkdMVXRpbHMuY3JlYXRlQnVmZmVyKGdsLCBvYmoudnQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlSW5kZXhCdWZmZXIoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBXZWJHTFV0aWxzLmNyZWF0ZUluZGV4QnVmZmVyKGdsLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvYmouaXYubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pdmJvID0gY3JlYXRlSW5kZXhCdWZmZXIob2JqLml2KTtcclxuICAgICAgICAgICAgICAgIGlmIChvYmouaW4ubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbmJvID0gY3JlYXRlSW5kZXhCdWZmZXIob2JqLmluKTtcclxuICAgICAgICAgICAgICAgIGlmIChvYmouaXQubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pdGJvID0gY3JlYXRlSW5kZXhCdWZmZXIob2JqLml0KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJ2Ym9cIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZibztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEJ1ZmZlcnMucHJvdG90eXBlLCBcIm5ib1wiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmJvO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwidGJvXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90Ym87XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJpdmJvXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9pdmJvO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwiaW5ib1wiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faW5ibztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEJ1ZmZlcnMucHJvdG90eXBlLCBcIml0Ym9cIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2l0Ym87XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIE1lc2hCdWZmZXJzO1xyXG4gICAgICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgICAgIFJlc291cmNlcy5NZXNoQnVmZmVycyA9IE1lc2hCdWZmZXJzO1xyXG4gICAgICAgIHZhciBNZXNoVGV4dHVyZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgICAgIF9fZXh0ZW5kcyhNZXNoVGV4dHVyZSwgX3N1cGVyKTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gTWVzaFRleHR1cmUoZ3JhcGhfaWQpIHtcclxuICAgICAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2ltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vaWQgPSB1dGlscy51dWlkKHRoaXMuY29uc3RydWN0b3IubmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hUZXh0dXJlLnByb3RvdHlwZSwgXCJvbmxvYWRcIiwge1xyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbmxvYWQgPSBjYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaFRleHR1cmUucHJvdG90eXBlLCBcInNyY1wiLCB7XHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmaWxlbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltYWdlLm9ubG9hZCA9IHRoaXMubG9hZFRleHR1cmVJbWFnZSh0aGlzLl9vbmxvYWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltYWdlLnNyYyA9IGZpbGVuYW1lO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE1lc2hUZXh0dXJlLnByb3RvdHlwZS5sb2FkVGV4dHVyZUltYWdlID0gZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdGV4dHVyZSA9IFdlYkdMVXRpbHMuY3JlYXRlVGV4dHVyZShzZWxmLmdsLCBzZWxmLl9pbWFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgS2V0Y2guYWRkVGV4dHVyZShzZWxmLmdyYXBoSUQsIHNlbGYuX29pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYigpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hUZXh0dXJlLnByb3RvdHlwZSwgXCJjb250ZW50XCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBNZXNoVGV4dHVyZTtcclxuICAgICAgICB9KFJlbmRlcmFibGUpKTtcclxuICAgICAgICBSZXNvdXJjZXMuTWVzaFRleHR1cmUgPSBNZXNoVGV4dHVyZTtcclxuICAgICAgICB2YXIgTWVzaE1hdGVyaWFsID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICAgICAgX19leHRlbmRzKE1lc2hNYXRlcmlhbCwgX3N1cGVyKTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gTWVzaE1hdGVyaWFsKGdyYXBoX2lkLCBhbWJpZW50LCBkaWZmdXNlLCBzcGVjdWxhciwgc2hpbmluZXNzKSB7XHJcbiAgICAgICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hbWJpZW50ID0gYW1iaWVudCA/IHZlYzQuY3JlYXRlKGFtYmllbnQpIDogdmVjNC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RpZmZ1c2UgPSBkaWZmdXNlID8gdmVjNC5jcmVhdGUoZGlmZnVzZSkgOiB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zcGVjdWxhciA9IHNwZWN1bGFyID8gdmVjNC5jcmVhdGUoc3BlY3VsYXIpIDogdmVjNC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NoaW5pbmVzcyA9IHNoaW5pbmVzcyB8fCAyMDAuMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJvbmxvYWRcIiwge1xyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbmxvYWQgPSBjYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJzcmNcIiwge1xyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3JjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbHMubG9hZChzcmMsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gc2VsZi5wYXJzZShkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2FtYmllbnQgPSB0ZW1wLkthO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZGlmZnVzZSA9IHRlbXAuS2Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zcGVjdWxhciA9IHRlbXAuS3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNoaW5pbmVzcyA9IHRlbXAuTnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fb25sb2FkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX29ubG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE1lc2hNYXRlcmlhbC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleXMgPSBbXCJLYVwiLCBcIktkXCIsIFwiS3NcIiwgXCJOc1wiXTtcclxuICAgICAgICAgICAgICAgIHZhciBsaW5lcyA9IGRhdGEuc3BsaXQoXCJcXG5cIik7XHJcbiAgICAgICAgICAgICAgICBsaW5lcy5mb3JFYWNoKGZ1bmN0aW9uIChsaW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1zID0gbGluZS5zcGxpdChcIiBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGVsZW1zWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXlzLmluZGV4T2Yoa2V5KSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTnNcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpbXCJOc1wiXSA9IE51bWJlcihlbGVtc1sxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBlbGVtcy5zbGljZSgxKS5tYXAoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIE51bWJlcihhKTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKDEuMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqW2tleV0gPSB0ZW1wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJhbWJpZW50XCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbWJpZW50O1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGFtYmllbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hbWJpZW50ID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzQuY3JlYXRlKGFtYmllbnQpKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJkaWZmdXNlXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kaWZmdXNlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGRpZmZ1c2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaWZmdXNlID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzQuY3JlYXRlKGRpZmZ1c2UpKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJzcGVjdWxhclwiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3BlY3VsYXI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3BlY3VsYXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zcGVjdWxhciA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWM0LmNyZWF0ZShzcGVjdWxhcikpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcInNoaW5pbmVzc1wiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc2hpbmluZXNzO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaGluaW5lc3MgPSB2O1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBNZXNoTWF0ZXJpYWw7XHJcbiAgICAgICAgfShSZW5kZXJhYmxlKSk7XHJcbiAgICAgICAgUmVzb3VyY2VzLk1lc2hNYXRlcmlhbCA9IE1lc2hNYXRlcmlhbDtcclxuICAgIH0pKFJlc291cmNlcyA9IEJsYXplLlJlc291cmNlcyB8fCAoQmxhemUuUmVzb3VyY2VzID0ge30pKTtcclxuICAgIHZhciBTaGFkZXJzO1xyXG4gICAgKGZ1bmN0aW9uIChTaGFkZXJzKSB7XHJcbiAgICAgICAgdmFyIEZyYWdtZW50ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gRnJhZ21lbnQoKSB7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgRnJhZ21lbnQuQWxsX2VmZmVjdCA9IFwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2VuZGlmXFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBmbG9hdCB1VGltZTtcXG51bmlmb3JtIHNhbXBsZXIyRCB1Tm9pc2VTYW1wbGVyO1xcbnVuaWZvcm0gdmVjMiB1SW52ZXJzZVRleHR1cmVTaXplO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbmNvbnN0IGZsb2F0IHNwZWVkID0gMTUuMDtcXG5jb25zdCBmbG9hdCBtYWduaXR1ZGUgPSAwLjAxNTtcXG5cXG5jb25zdCBmbG9hdCBncmFpbkludGVuc2l0eSA9IDAuMTtcXG5jb25zdCBmbG9hdCBzY3JvbGxTcGVlZCA9IDQwMDAuMDtcXG5cXG52ZWM0IG9mZnNldExvb2t1cChmbG9hdCB4T2ZmLCBmbG9hdCB5T2ZmKSB7XFxuICAgIHJldHVybiB0ZXh0dXJlMkQodVNhbXBsZXIsIHZlYzIodlRleHR1cmVDb29yZC54ICsgeE9mZip1SW52ZXJzZVRleHR1cmVTaXplLngsIHZUZXh0dXJlQ29vcmQueSArIHlPZmYqdUludmVyc2VUZXh0dXJlU2l6ZS55KSk7XFxufVxcblxcbnZvaWQgbWFpbigpe1xcblxcbiAgICAgdmVjNCBmcmFtZUNvbG9yID0gb2Zmc2V0TG9va3VwKC00LjAsIDAuMCkgKiAwLjA1O1xcbiAgICBmcmFtZUNvbG9yICs9IG9mZnNldExvb2t1cCgtMy4wLCAwLjApICogMC4wOTtcXG4gICAgZnJhbWVDb2xvciArPSBvZmZzZXRMb29rdXAoLTIuMCwgMC4wKSAqIDAuMTI7XFxuICAgIGZyYW1lQ29sb3IgKz0gb2Zmc2V0TG9va3VwKC0xLjAsIDAuMCkgKiAwLjE1O1xcbiAgICBmcmFtZUNvbG9yICs9IG9mZnNldExvb2t1cCgwLjAsIDAuMCkgKiAwLjE2O1xcbiAgICBmcmFtZUNvbG9yICs9IG9mZnNldExvb2t1cCgxLjAsIDAuMCkgKiAwLjE1O1xcbiAgICBmcmFtZUNvbG9yICs9IG9mZnNldExvb2t1cCgyLjAsIDAuMCkgKiAwLjEyO1xcbiAgICBmcmFtZUNvbG9yICs9IG9mZnNldExvb2t1cCgzLjAsIDAuMCkgKiAwLjA5O1xcbiAgICBmcmFtZUNvbG9yICs9IG9mZnNldExvb2t1cCg0LjAsIDAuMCkgKiAwLjA1O1xcbiAgICBcXG4gICAgdmVjNCBncmFpbj10ZXh0dXJlMkQodU5vaXNlU2FtcGxlciwgdlRleHR1cmVDb29yZCoyLjArdVRpbWUqc2Nyb2xsU3BlZWQqdUludmVyc2VUZXh0dXJlU2l6ZSk7XFxuICAgICBcXG4gICAgICBmcmFtZUNvbG9yICs9dGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKS0oZ3JhaW4qZ3JhaW5JbnRlbnNpdHkpO1xcbiAgICAgICAgICB2ZWMyIHdhdnlDb29yZDtcXG4gICAgd2F2eUNvb3JkLnM9dlRleHR1cmVDb29yZC5zKyhzaW4odVRpbWUrdlRleHR1cmVDb29yZC50KnNwZWVkKSptYWduaXR1ZGUpO1xcbiAgICB3YXZ5Q29vcmQudD12VGV4dHVyZUNvb3JkLnQrKHNpbih1VGltZSt2VGV4dHVyZUNvb3JkLnMqc3BlZWQpKm1hZ25pdHVkZSk7XFxuICAgIFxcbiAgICBmcmFtZUNvbG9yKz10ZXh0dXJlMkQodVNhbXBsZXIsIHdhdnlDb29yZCk7XFxuICAgIGdsX0ZyYWdDb2xvcj1mcmFtZUNvbG9yO1xcbn1cIjtcclxuICAgICAgICAgICAgRnJhZ21lbnQuQmx1cl9lZmZlY3QgPSBcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbmRpZlxcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gdmVjMiB1SW52ZXJzZVRleHR1cmVTaXplO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZlYzQgb2Zmc2V0TG9va3VwKGZsb2F0IHhPZmYsIGZsb2F0IHlPZmYpIHtcXG4gICAgcmV0dXJuIHRleHR1cmUyRCh1U2FtcGxlciwgdmVjMih2VGV4dHVyZUNvb3JkLnggKyB4T2ZmKnVJbnZlcnNlVGV4dHVyZVNpemUueCwgdlRleHR1cmVDb29yZC55ICsgeU9mZip1SW52ZXJzZVRleHR1cmVTaXplLnkpKTtcXG59XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICB2ZWM0IGZyYW1lQ29sb3IgPSBvZmZzZXRMb29rdXAoLTQuMCwgMC4wKSAqIDAuMDU7XFxuICAgIGZyYW1lQ29sb3IgKz0gb2Zmc2V0TG9va3VwKC0zLjAsIDAuMCkgKiAwLjA5O1xcbiAgICBmcmFtZUNvbG9yICs9IG9mZnNldExvb2t1cCgtMi4wLCAwLjApICogMC4xMjtcXG4gICAgZnJhbWVDb2xvciArPSBvZmZzZXRMb29rdXAoLTEuMCwgMC4wKSAqIDAuMTU7XFxuICAgIGZyYW1lQ29sb3IgKz0gb2Zmc2V0TG9va3VwKDAuMCwgMC4wKSAqIDAuMTY7XFxuICAgIGZyYW1lQ29sb3IgKz0gb2Zmc2V0TG9va3VwKDEuMCwgMC4wKSAqIDAuMTU7XFxuICAgIGZyYW1lQ29sb3IgKz0gb2Zmc2V0TG9va3VwKDIuMCwgMC4wKSAqIDAuMTI7XFxuICAgIGZyYW1lQ29sb3IgKz0gb2Zmc2V0TG9va3VwKDMuMCwgMC4wKSAqIDAuMDk7XFxuICAgIGZyYW1lQ29sb3IgKz0gb2Zmc2V0TG9va3VwKDQuMCwgMC4wKSAqIDAuMDU7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IGZyYW1lQ29sb3I7XFxufVwiO1xyXG4gICAgICAgICAgICBGcmFnbWVudC5GaWxtX2VmZmVjdCA9IFwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2VuZGlmXFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBzYW1wbGVyMkQgdU5vaXNlU2FtcGxlcjtcXG51bmlmb3JtIHZlYzIgdUludmVyc2VUZXh0dXJlU2l6ZTtcXG51bmlmb3JtIGZsb2F0IHVUaW1lO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbmNvbnN0IGZsb2F0IGdyYWluSW50ZW5zaXR5ID0gMC4xO1xcbmNvbnN0IGZsb2F0IHNjcm9sbFNwZWVkID0gNDAwMC4wO1xcblxcblxcbnZvaWQgbWFpbigpXFxue1xcbiAgICB2ZWM0IGZyYW1lQ29sb3I9dGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG4gICAgdmVjNCBncmFpbj10ZXh0dXJlMkQodU5vaXNlU2FtcGxlciwgdlRleHR1cmVDb29yZCoyLjArdVRpbWUqc2Nyb2xsU3BlZWQqdUludmVyc2VUZXh0dXJlU2l6ZSk7XFxuICAgIGdsX0ZyYWdDb2xvcj1mcmFtZUNvbG9yLShncmFpbipncmFpbkludGVuc2l0eSk7XFxuXFxufVwiO1xyXG4gICAgICAgICAgICBGcmFnbWVudC5HcmV5X2VmZmVjdCA9IFwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2VuZGlmXFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICB2ZWM0IGZyYW1lQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICBmbG9hdCBsdW1pbmFuY2UgPSBmcmFtZUNvbG9yLnIgKiAwLjMgKyBmcmFtZUNvbG9yLmcgKiAwLjU5ICsgZnJhbWVDb2xvci5iICogMC4xMTtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChsdW1pbmFuY2UsIGx1bWluYW5jZSwgbHVtaW5hbmNlLCBmcmFtZUNvbG9yLmEpO1xcbn1cIjtcclxuICAgICAgICAgICAgRnJhZ21lbnQuSW52ZXJ0X2VmZmVjdCA9IFwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2VuZGlmXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICB2ZWM0IGZyYW1lQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDEuMC1mcmFtZUNvbG9yLnIsIDEuMC1mcmFtZUNvbG9yLmcsIDEuMC1mcmFtZUNvbG9yLmIsIGZyYW1lQ29sb3IuYSk7XFxufVwiO1xyXG4gICAgICAgICAgICBGcmFnbWVudC5Ob19lZmZlY3QgPSBcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbmRpZlxcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbigpe1xcbiAgICB2ZWM0IGZyYW1lQ29sb3I9dGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG4gICAgXFxuICAgIGdsX0ZyYWdDb2xvcj1mcmFtZUNvbG9yO1xcblxcbn1cXG5cIjtcclxuICAgICAgICAgICAgRnJhZ21lbnQuUGFydGljbGUgPSBcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbmRpZlxcbnVuaWZvcm0gYm9vbCB1V2lyZWZyYW1lO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxuXFxuYm9vbCBpc0JsYWNrKHZlYzQgY29sb3Ipe1xcbnJldHVybiBjb2xvci5yPT0wLjAgJiZjb2xvci5nPT0wLjAmJmNvbG9yLmI9PTAuMDtcXG59XFxudm9pZCBtYWluKHZvaWQpIHsgXFxuICAgICBpZih1V2lyZWZyYW1lKXtcXG4gICAgICAgICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7XFxuICAgICAgICB9ZWxzZXtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBnbF9Qb2ludENvb3JkKTtcXG4gICAgaWYoZ2xfRnJhZ0NvbG9yLmEgPCAwLjUgfHwgaXNCbGFjayhnbF9GcmFnQ29sb3IpKSBkaXNjYXJkO1xcbiAgICB9XFxufVwiO1xyXG4gICAgICAgICAgICBGcmFnbWVudC5QaG9uZyA9IFwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2VuZGlmXFxudW5pZm9ybSBmbG9hdCB1U2hpbmluZXNzO1xcbnVuaWZvcm0gdmVjMyB1TGlnaHREaXJlY3Rpb247XFxuXFxudW5pZm9ybSB2ZWM0IHVMaWdodEFtYmllbnQ7XFxudW5pZm9ybSB2ZWM0IHVMaWdodERpZmZ1c2U7XFxudW5pZm9ybSB2ZWM0IHVMaWdodFNwZWN1bGFyO1xcblxcbnVuaWZvcm0gYm9vbCB1V2lyZWZyYW1lO1xcblxcbnVuaWZvcm0gYm9vbCB1T2Zmc2NyZWVuO1xcbnVuaWZvcm0gdmVjNCB1U2VsZWN0Q29sb3I7XFxuXFxudW5pZm9ybSB2ZWM0IHVNYXRlcmlhbEFtYmllbnQ7XFxudW5pZm9ybSB2ZWM0IHVNYXRlcmlhbERpZmZ1c2U7XFxudW5pZm9ybSB2ZWM0IHVNYXRlcmlhbFNwZWN1bGFyO1xcblxcbnZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcbnZhcnlpbmcgdmVjMyB2RXllVmVjO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudm9pZCBtYWluKCl7XFxuXFxuICAgICAgICBpZih1V2lyZWZyYW1lKXtcXG4gICAgICAgICAgICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7XFxuICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgfVxcbiAgICAgIFxcblxcbiAgICAgICAgaWYodU9mZnNjcmVlbil7XFxuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yPXVTZWxlY3RDb2xvcjtcXG4gICAgICAgICAgICByZXR1cm47XFxuICAgICAgICB9XFxuXFxuICAgICAgIFxcbiAgICAgICAgdmVjMyBMPSBub3JtYWxpemUodUxpZ2h0RGlyZWN0aW9uKTtcXG4gICAgICAgIHZlYzMgTj0gbm9ybWFsaXplKHZOb3JtYWwpO1xcbiAgICAgICAgZmxvYXQgbGFtYmVydFRlcm09ZG90KE4sIC1MKTtcXG4gICAgICAgIFxcbiAgICAgICAgdmVjNCBJYT0gdUxpZ2h0QW1iaWVudCp1TWF0ZXJpYWxBbWJpZW50O1xcbiAgICAgICAgXFxuICAgICAgICB2ZWM0IElkPXZlYzQoMC4wLDAuMCwwLjAsMS4wKTtcXG4gICAgICAgIFxcbiAgICAgICAgdmVjNCBJcz12ZWM0KDAuMCwwLjAsMC4wLDEuMCk7XFxuICAgICAgICBcXG4gICAgICAgIGlmKGxhbWJlcnRUZXJtPjAuMClcXG4gICAgICAgIHtcXG4gICAgICAgICAgICBJZD11TGlnaHREaWZmdXNlKnVNYXRlcmlhbERpZmZ1c2UqbGFtYmVydFRlcm07XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgdmVjMyBFPSBub3JtYWxpemUodkV5ZVZlYyk7XFxuICAgICAgICAgICAgdmVjMyBSPSByZWZsZWN0KEwsIE4pO1xcbiAgICAgICAgICAgIGZsb2F0IHNwZWN1bGFyPXBvdyhtYXgoZG90KFIsRSksMC4wKSwgdVNoaW5pbmVzcyk7XFxuICAgICAgICAgICAgSXM9dUxpZ2h0U3BlY3VsYXIqdU1hdGVyaWFsU3BlY3VsYXIqc3BlY3VsYXI7XFxuICAgICAgICB9XFxuICAgICAgICBcXG4gICAgICAgIHZlYzQgZmluYWxDb2xvcj1JYStJZCtJcztcXG4gICAgICAgIGZpbmFsQ29sb3IuYT0xLjA7XFxuICAgIFxcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID1maW5hbENvbG9yO1xcbiAgICAgICAgXFxuICAgICAgICBcXG59XFxuXFxuXFxuXCI7XHJcbiAgICAgICAgICAgIEZyYWdtZW50LlBob25nX2xpZ2h0cyA9IFwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2VuZGlmXFxuXFxuY29uc3QgaW50IE51bUxpZ2h0cz0xNjtcXG5cXG51bmlmb3JtIGZsb2F0IHVTaGluaW5lc3M7XFxudW5pZm9ybSB2ZWMzIHVMaWdodERpcmVjdGlvbltOdW1MaWdodHNdO1xcbnVuaWZvcm0gZmxvYXQgdUN1dE9mZltOdW1MaWdodHNdO1xcblxcbnVuaWZvcm0gdmVjNCB1TGlnaHRBbWJpZW50W051bUxpZ2h0c107XFxudW5pZm9ybSB2ZWM0IHVMaWdodERpZmZ1c2VbTnVtTGlnaHRzXTtcXG51bmlmb3JtIHZlYzQgdUxpZ2h0U3BlY3VsYXJbTnVtTGlnaHRzXTtcXG5cXG51bmlmb3JtIGJvb2wgdVdpcmVmcmFtZTtcXG5cXG51bmlmb3JtIGJvb2wgdU9mZnNjcmVlbjtcXG51bmlmb3JtIHZlYzQgdVNlbGVjdENvbG9yO1xcblxcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxBbWJpZW50O1xcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxEaWZmdXNlO1xcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxTcGVjdWxhcjtcXG5cXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG52YXJ5aW5nIHZlYzMgdkV5ZVZlYztcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnZvaWQgbWFpbigpe1xcblxcbiAgICAgICAgaWYodVdpcmVmcmFtZSl7XFxuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yO1xcbiAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgIH1cXG4gICAgICBcXG5cXG4gICAgICAgIGlmKHVPZmZzY3JlZW4pe1xcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvcj11U2VsZWN0Q29sb3I7XFxuICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgdmVjNCBmaW5hbENvbG9yPXZlYzQoMC4wLDAuMCwwLjAsMS4wKTtcXG4gICAgICAgIGZvcihpbnQgaT0wOyBpPE51bUxpZ2h0cztpKyspe1xcbiAgICAgICAgXFxuICAgICAgICB2ZWMzIEw9IG5vcm1hbGl6ZSh1TGlnaHREaXJlY3Rpb25baV0pO1xcbiAgICAgICAgdmVjMyBOPSBub3JtYWxpemUodk5vcm1hbCk7XFxuICAgICAgICBmbG9hdCBsYW1iZXJ0VGVybT1kb3QoTiwgLUwpO1xcbiAgICAgICAgXFxuICAgICAgICB2ZWM0IElhPSB1TGlnaHRBbWJpZW50W2ldKnVNYXRlcmlhbEFtYmllbnQ7XFxuICAgICAgICBcXG4gICAgICAgIHZlYzQgSWQ9dmVjNCgwLjAsMC4wLDAuMCwxLjApO1xcbiAgICAgICAgXFxuICAgICAgICB2ZWM0IElzPXZlYzQoMC4wLDAuMCwwLjAsMS4wKTtcXG4gICAgICAgIFxcbiAgICAgICAgaWYobGFtYmVydFRlcm0+dUN1dE9mZltpXSlcXG4gICAgICAgIHtcXG4gICAgICAgICAgICBJZD11TGlnaHREaWZmdXNlW2ldKnVNYXRlcmlhbERpZmZ1c2UqbGFtYmVydFRlcm07XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgdmVjMyBFPSBub3JtYWxpemUodkV5ZVZlYyk7XFxuICAgICAgICAgICAgdmVjMyBSPSByZWZsZWN0KEwsIE4pO1xcbiAgICAgICAgICAgIGZsb2F0IHNwZWN1bGFyPXBvdyhtYXgoZG90KFIsRSksMC4wKSwgdVNoaW5pbmVzcyk7XFxuICAgICAgICAgICAgSXM9dUxpZ2h0U3BlY3VsYXJbaV0qdU1hdGVyaWFsU3BlY3VsYXIqc3BlY3VsYXI7XFxuICAgICAgICB9XFxuICAgICAgICBcXG4gICAgICAgIGZpbmFsQ29sb3IrPUlhK0lkK0lzO1xcbiAgICAgICAgXFxuICAgICAgICB9XFxuICAgICAgICBmaW5hbENvbG9yLmE9MS4wO1xcbiAgICBcXG4gICAgICAgIGdsX0ZyYWdDb2xvciA9ZmluYWxDb2xvcjtcXG4gICAgICAgIFxcbiAgICAgICAgXFxufVxcblxcblxcblwiO1xyXG4gICAgICAgICAgICBGcmFnbWVudC5QaG9uZ19wb3NpdGlvbmFsID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG5cXG51bmlmb3JtIGZsb2F0IHVTaGluaW5lc3M7XFxuXFxudW5pZm9ybSB2ZWM0IHVMaWdodEFtYmllbnQ7XFxudW5pZm9ybSB2ZWM0IHVMaWdodERpZmZ1c2U7XFxuXFxuXFxudW5pZm9ybSBib29sIHVXaXJlZnJhbWU7XFxuXFxudW5pZm9ybSBib29sIHVPZmZzY3JlZW47XFxudW5pZm9ybSB2ZWM0IHVTZWxlY3RDb2xvcjtcXG5cXG5cXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsRGlmZnVzZTtcXG5cXG5cXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG52YXJ5aW5nIHZlYzMgdkV5ZVZlYztcXG52YXJ5aW5nIHZlYzMgdkxpZ2h0RGlyO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudm9pZCBtYWluKCl7XFxuXFxuICAgICAgICBpZih1V2lyZWZyYW1lKXtcXG4gICAgICAgICAgICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7XFxuICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgfVxcbiAgICAgIFxcblxcbiAgICAgICAgaWYodU9mZnNjcmVlbil7XFxuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yPXVTZWxlY3RDb2xvcjtcXG4gICAgICAgICAgICByZXR1cm47XFxuICAgICAgICB9XFxuXFxuICAgICAgIFxcbiAgICAgICAgdmVjMyBMPSBub3JtYWxpemUodkxpZ2h0RGlyKTtcXG4gICAgICAgIHZlYzMgTj0gbm9ybWFsaXplKHZOb3JtYWwpO1xcbiAgICAgICAgZmxvYXQgbGFtYmVydFRlcm09ZG90KE4sIC1MKTtcXG4gICAgICAgIFxcbiAgICAgICAgdmVjNCBJYT0gdUxpZ2h0QW1iaWVudDtcXG4gICAgICAgIFxcbiAgICAgICAgdmVjNCBJZD12ZWM0KDAuMCwwLjAsMC4wLDEuMCk7XFxuICAgICAgICBcXG4gICAgICAgIHZlYzQgSXM9dmVjNCgwLjAsMC4wLDAuMCwxLjApO1xcbiAgICAgICAgXFxuICAgICAgICBpZihsYW1iZXJ0VGVybT4wLjApXFxuICAgICAgICB7XFxuICAgICAgICAgICAgSWQ9dU1hdGVyaWFsRGlmZnVzZSpsYW1iZXJ0VGVybTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICB2ZWMzIEU9IG5vcm1hbGl6ZSh2RXllVmVjKTtcXG4gICAgICAgICAgICB2ZWMzIFI9IHJlZmxlY3QoTCwgTik7XFxuICAgICAgICAgICAgZmxvYXQgc3BlY3VsYXI9cG93KG1heChkb3QoUixFKSwwLjApLCB1U2hpbmluZXNzKTtcXG4gICAgICAgICAgICBJcz11TGlnaHREaWZmdXNlKnNwZWN1bGFyO1xcbiAgICAgICAgfVxcbiAgICAgICAgXFxuICAgICAgICB2ZWM0IGZpbmFsQ29sb3I9SWErSWQrSXM7XFxuICAgICAgICBmaW5hbENvbG9yLmE9MS4wO1xcbiAgICBcXG4gICAgICAgIGdsX0ZyYWdDb2xvciA9ZmluYWxDb2xvcjtcXG4gICAgICAgIFxcbiAgICAgICAgXFxufVxcblxcblxcblwiO1xyXG4gICAgICAgICAgICBGcmFnbWVudC5Ub29uID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG5cXG51bmlmb3JtIGZsb2F0IHVTaGluaW5lc3M7XFxudW5pZm9ybSB2ZWMzIHVMaWdodERpcmVjdGlvbjtcXG5cXG51bmlmb3JtIG1hdDQgdU1WTWF0cml4O1xcblxcbnVuaWZvcm0gdmVjNCB1TGlnaHRBbWJpZW50O1xcbnVuaWZvcm0gdmVjNCB1TGlnaHREaWZmdXNlO1xcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxEaWZmdXNlO1xcblxcbnVuaWZvcm0gYm9vbCB1V2lyZWZyYW1lO1xcblxcbnVuaWZvcm0gYm9vbCB1T2Zmc2NyZWVuO1xcbnVuaWZvcm0gdmVjNCB1U2VsZWN0Q29sb3I7XFxuXFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG52YXJ5aW5nIHZlYzMgdlZlcnRleDtcXG5cXG52b2lkIG1haW4oKXtcXG5cXG4gICAgICAgaWYodVdpcmVmcmFtZSl7XFxuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yO1xcbiAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgIH1cXG4gICAgICBcXG5cXG4gICAgICAgIGlmKHVPZmZzY3JlZW4pe1xcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvcj11U2VsZWN0Q29sb3I7XFxuICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgdmVjNCBjb2xvcjA9dmVjNCh1TWF0ZXJpYWxEaWZmdXNlLnJnYiwxLjApO1xcbiAgICAgICAgdmVjNCBjb2xvcjE9dmVjNCgwLjAsMC4wLDAuMCwgMS4wKTtcXG4gICAgICAgIHZlYzQgY29sb3IyPXZlYzQodU1hdGVyaWFsRGlmZnVzZS5yZ2IsIDEuMCk7XFxuICAgICAgICBcXG4gICAgICAgIHZlYzMgTj0gdk5vcm1hbDtcXG4gICAgICAgIHZlYzMgTCA9IG5vcm1hbGl6ZSh1TGlnaHREaXJlY3Rpb24pO1xcbiAgICAgICAgXFxuICAgICAgICB2ZWM0IGV5ZVBvcz0gdU1WTWF0cml4KnZlYzQoMC4wLDAuMCwwLjAsMS4wKTtcXG4gICAgICAgIFxcbiAgICAgICAgdmVjMyBFeWVWZXJ0ID0gbm9ybWFsaXplKC1leWVQb3MueHl6KTtcXG4gICAgICAgIFxcbiAgICAgICAgdmVjMyBFeWVMaWdodD1ub3JtYWxpemUoTCtFeWVWZXJ0KTtcXG4gICAgICAgIFxcbiAgICAgICAgZmxvYXQgc2lsPSBtYXgoZG90KE4sIEV5ZVZlcnQpLCAwLjApO1xcbiAgICAgICAgXFxuICAgICAgICBpZiggc2lsPDAuNCl7XFxuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yPWNvbG9yMTtcXG4gICAgICAgIH1lbHNle1xcbiAgICAgICAgICAgICBnbF9GcmFnQ29sb3I9Y29sb3IwO1xcbiAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgZmxvYXQgc3BlYz1wb3cobWF4KGRvdChOLCBFeWVMaWdodCksIDAuMCksIHVTaGluaW5lc3MpO1xcbiAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgaWYoc3BlYzwwLjIpIGdsX0ZyYWdDb2xvcio9MC44O1xcbiAgICAgICAgICAgICBlbHNlIGdsX0ZyYWdDb2xvcj1jb2xvcjI7XFxuICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICBmbG9hdCBkaWZmdXNlPW1heChkb3QoTiwgTCksIDAuMCk7XFxuICAgICAgICAgICAgIGlmKGRpZmZ1c2U8MC41KWdsX0ZyYWdDb2xvcio9MC44O1xcbiAgICAgICAgfVxcblxcblxcblxcblxcblxcbn1cXG5cXG5cXG5cXG5cIjtcclxuICAgICAgICAgICAgRnJhZ21lbnQuV2F2eV9lZmZlY3QgPSBcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbmRpZlxcblxcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gZmxvYXQgdVRpbWU7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxuY29uc3QgZmxvYXQgc3BlZWQgPSAxNS4wO1xcbmNvbnN0IGZsb2F0IG1hZ25pdHVkZSA9IDAuMDE1O1xcblxcbnZvaWQgbWFpbigpe1xcbiAgICBcXG4gICAgdmVjMiB3YXZ5Q29vcmQ7XFxuICAgIHdhdnlDb29yZC5zPXZUZXh0dXJlQ29vcmQucysoc2luKHVUaW1lK3ZUZXh0dXJlQ29vcmQudCpzcGVlZCkqbWFnbml0dWRlKTtcXG4gICAgd2F2eUNvb3JkLnQ9dlRleHR1cmVDb29yZC50KyhzaW4odVRpbWUrdlRleHR1cmVDb29yZC5zKnNwZWVkKSptYWduaXR1ZGUpO1xcbiAgICBcXG4gICAgdmVjNCBmcmFtZUNvbG9yPXRleHR1cmUyRCh1U2FtcGxlciwgd2F2eUNvb3JkKTtcXG4gICAgZ2xfRnJhZ0NvbG9yPWZyYW1lQ29sb3I7XFxuXFxuXFxufVwiO1xyXG4gICAgICAgICAgICByZXR1cm4gRnJhZ21lbnQ7XHJcbiAgICAgICAgfSgpKTtcclxuICAgICAgICBTaGFkZXJzLkZyYWdtZW50ID0gRnJhZ21lbnQ7XHJcbiAgICAgICAgdmFyIFZlcnRleCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFZlcnRleCgpIHtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBWZXJ0ZXguRWZmZWN0ID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG5cXG5hdHRyaWJ1dGUgdmVjMiBhX3Bvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFfdGV4dHVyZV9jb29yZHM7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKCl7XFxuICAgIHZUZXh0dXJlQ29vcmQ9YV90ZXh0dXJlX2Nvb3JkcztcXG5cXG4gICAgZ2xfUG9zaXRpb249dmVjNChhX3Bvc2l0aW9uLCAwLjAsMS4wKTtcXG4gICAgXFxufVwiO1xyXG4gICAgICAgICAgICBWZXJ0ZXguUGFydGljbGUgPSBcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbmRpZlxcbmF0dHJpYnV0ZSB2ZWMzIGFfcG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzQgYV9jb2xvcjtcXG5cXG51bmlmb3JtIG1hdDQgdU1WTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1UE1hdHJpeDtcXG51bmlmb3JtIGZsb2F0IHVQb2ludFNpemU7XFxuXFxudW5pZm9ybSBib29sIHVXaXJlZnJhbWU7XFxudW5pZm9ybSBib29sIHVQZXJWZXJ0ZXhDb2xvcjtcXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsRGlmZnVzZTtcXG5cXG5cXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuXFxuIGlmKHVXaXJlZnJhbWUpe1xcblxcdCBcXG5cXHQgXFx0aWYodVBlclZlcnRleENvbG9yKXtcXG5cXHQgXFx0XFx0IHZDb2xvcj1hX2NvbG9yO1xcblxcdCBcXHR9ZWxzZXtcXG5cXHQgXFx0XFx0dkNvbG9yPXVNYXRlcmlhbERpZmZ1c2U7XFxuXFx0IFxcdH1cXG5cXHQgXFxuXFx0XFxuXFx0IH1cXG4gICAgXFxuICAgIGdsX1Bvc2l0aW9uID0gdVBNYXRyaXggKiB1TVZNYXRyaXggKiB2ZWM0KGFfcG9zaXRpb24ueHl6LCAxLjApO1xcbiAgICBnbF9Qb2ludFNpemUgPSB1UG9pbnRTaXplO1xcbn1cIjtcclxuICAgICAgICAgICAgVmVydGV4LlBob25nID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG5cXG5hdHRyaWJ1dGUgdmVjMyBhX3Bvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMzIGFfbm9ybWFsO1xcbmF0dHJpYnV0ZSB2ZWM0IGFfY29sb3I7XFxuXFxudW5pZm9ybSBtYXQ0IHVNVk1hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVBNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVOTWF0cml4O1xcblxcbnVuaWZvcm0gYm9vbCB1V2lyZWZyYW1lO1xcbnVuaWZvcm0gYm9vbCB1UGVyVmVydGV4Q29sb3I7XFxudW5pZm9ybSB2ZWM0IHVNYXRlcmlhbERpZmZ1c2U7XFxuXFxudmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxudmFyeWluZyB2ZWMzIHZFeWVWZWM7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG52b2lkIG1haW4oKXtcXG5cXG4gICAgdmVjNCB2ZXJ0ZXggPSB1TVZNYXRyaXggKiB2ZWM0KGFfcG9zaXRpb24sIDEuMCk7XFxuXFx0XFxuXFx0XFxuXFx0IGlmKHVXaXJlZnJhbWUpe1xcblxcdCBcXG5cXHQgXFx0aWYodVBlclZlcnRleENvbG9yKXtcXG5cXHQgXFx0XFx0IHZDb2xvcj1hX2NvbG9yO1xcblxcdCBcXHR9ZWxzZXtcXG5cXHQgXFx0XFx0dkNvbG9yPXVNYXRlcmlhbERpZmZ1c2U7XFxuXFx0IFxcdH1cXG5cXHQgXFxuXFx0XFxuXFx0IH1lbHNle1xcblxcdFxcblxcdHZOb3JtYWwgPSB2ZWMzKHVOTWF0cml4ICogdmVjNChhX25vcm1hbCwgMS4wKSk7XFxuXFx0dkV5ZVZlYz0tdmVjMyh2ZXJ0ZXgueHl6KTsgIFxcblxcdFxcblxcdH1cXG5cXHQgXFxuXFx0Z2xfUG9zaXRpb24gPXVQTWF0cml4ICogdmVydGV4O1xcblxcbn1cXG5cXG5cXG5cIjtcclxuICAgICAgICAgICAgVmVydGV4LlBob25nX2xpZ2h0cyA9IFwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2VuZGlmXFxuXFxuYXR0cmlidXRlIHZlYzMgYV9wb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMyBhX25vcm1hbDtcXG5hdHRyaWJ1dGUgdmVjNCBhX2NvbG9yO1xcblxcbnVuaWZvcm0gbWF0NCB1TVZNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVQTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1Tk1hdHJpeDtcXG5cXG51bmlmb3JtIGJvb2wgdVdpcmVmcmFtZTtcXG51bmlmb3JtIGJvb2wgdVBlclZlcnRleENvbG9yO1xcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxEaWZmdXNlO1xcblxcbnZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcbnZhcnlpbmcgdmVjMyB2RXllVmVjO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudm9pZCBtYWluKCl7XFxuXFxuICAgIHZlYzQgdmVydGV4ID0gdU1WTWF0cml4ICogdmVjNChhX3Bvc2l0aW9uLCAxLjApO1xcblxcdFxcblxcdFxcblxcdCBpZih1V2lyZWZyYW1lKXtcXG5cXHQgXFxuXFx0IFxcdGlmKHVQZXJWZXJ0ZXhDb2xvcil7XFxuXFx0IFxcdFxcdCB2Q29sb3I9YV9jb2xvcjtcXG5cXHQgXFx0fWVsc2V7XFxuXFx0IFxcdFxcdHZDb2xvcj11TWF0ZXJpYWxEaWZmdXNlO1xcblxcdCBcXHR9XFxuXFx0IFxcblxcdFxcblxcdCB9ZWxzZXtcXG5cXHRcXG5cXHR2Tm9ybWFsID0gdmVjMyh1Tk1hdHJpeCAqIHZlYzQoYV9ub3JtYWwsIDEuMCkpO1xcblxcdHZFeWVWZWM9LXZlYzModmVydGV4Lnh5eik7ICBcXG5cXHRcXG5cXHR9XFxuXFx0IFxcblxcdGdsX1Bvc2l0aW9uID11UE1hdHJpeCAqIHZlcnRleDtcXG5cXG59XFxuXFxuXFxuXCI7XHJcbiAgICAgICAgICAgIFZlcnRleC5QaG9uZ19wb3NpdGlvbmFsID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG5cXG5hdHRyaWJ1dGUgdmVjMyBhX3Bvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMzIGFfbm9ybWFsO1xcbmF0dHJpYnV0ZSB2ZWM0IGFfY29sb3I7XFxuXFxudW5pZm9ybSBtYXQ0IHVNVk1hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVBNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVOTWF0cml4O1xcblxcbnVuaWZvcm0gdmVjMyB1TGlnaHRQb3NpdGlvbjtcXG5cXG51bmlmb3JtIGJvb2wgdVdpcmVmcmFtZTtcXG51bmlmb3JtIGJvb2wgdVBlclZlcnRleENvbG9yO1xcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxEaWZmdXNlO1xcblxcbnZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcbnZhcnlpbmcgdmVjMyB2RXllVmVjO1xcbnZhcnlpbmcgdmVjMyB2TGlnaHREaXI7XFxuXFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG52b2lkIG1haW4oKXtcXG5cXG4gICAgdmVjNCB2ZXJ0ZXggPSB1TVZNYXRyaXggKiB2ZWM0KGFfcG9zaXRpb24sIDEuMCk7XFxuXFx0XFxuXFx0XFxuXFx0IGlmKHVXaXJlZnJhbWUpe1xcblxcdCBcXG5cXHQgXFx0aWYodVBlclZlcnRleENvbG9yKXtcXG5cXHQgXFx0XFx0IHZDb2xvcj1hX2NvbG9yO1xcblxcdCBcXHR9ZWxzZXtcXG5cXHQgXFx0XFx0dkNvbG9yPXVNYXRlcmlhbERpZmZ1c2U7XFxuXFx0IFxcdH1cXG5cXHQgXFxuXFx0XFxuXFx0IH1lbHNle1xcblxcdFxcblxcdHZOb3JtYWwgPSB2ZWMzKHVOTWF0cml4ICogdmVjNChhX25vcm1hbCwgMS4wKSk7XFxuICAgIHZMaWdodERpcj12ZXJ0ZXgueHl6LXVMaWdodFBvc2l0aW9uOyAgXFxuXFx0dkV5ZVZlYz0tdmVjMyh2ZXJ0ZXgueHl6KTsgIFxcblxcdFxcblxcdH1cXG5cXHQgXFxuXFx0Z2xfUG9zaXRpb24gPXVQTWF0cml4ICogdmVydGV4O1xcblxcbn1cXG5cXG5cXG5cIjtcclxuICAgICAgICAgICAgVmVydGV4LlRvb24gPSBcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbmRpZlxcblxcbmF0dHJpYnV0ZSB2ZWMzIGFfcG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzMgYV9ub3JtYWw7XFxuYXR0cmlidXRlIHZlYzQgYV9jb2xvcjtcXG5cXG51bmlmb3JtIG1hdDQgdU1WTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1UE1hdHJpeDtcXG51bmlmb3JtIG1hdDQgdU5NYXRyaXg7XFxuXFxudW5pZm9ybSBib29sIHVXaXJlZnJhbWU7XFxudW5pZm9ybSBib29sIHVQZXJWZXJ0ZXhDb2xvcjtcXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsRGlmZnVzZTtcXG5cXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG52YXJ5aW5nIHZlYzMgdlZlcnRleDtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnZvaWQgbWFpbigpe1xcbiAgICBcXG4gICAgdmVjNCBub3JtYWw9IHVOTWF0cml4ICogdmVjNChhX25vcm1hbCwxLjApO1xcbiAgICBcXG4gICAgIGlmKHVXaXJlZnJhbWUpe1xcblxcdCBcXG5cXHQgXFx0aWYodVBlclZlcnRleENvbG9yKXtcXG5cXHQgXFx0XFx0IHZDb2xvcj1hX2NvbG9yO1xcblxcdCBcXHR9ZWxzZXtcXG5cXHQgXFx0XFx0dkNvbG9yPXVNYXRlcmlhbERpZmZ1c2U7XFxuXFx0IFxcdH1cXG5cXHQgXFxuXFx0XFxuXFx0IH1lbHNle1xcbiAgICBcXG4gICAgdk5vcm1hbD1ub3JtYWwueHl6O1xcbiAgICB2VmVydGV4PWFfcG9zaXRpb247XFxuICAgIH1cXG4gICAgXFxuICAgIGdsX1Bvc2l0aW9uPXVQTWF0cml4KnVNVk1hdHJpeCp2ZWM0KGFfcG9zaXRpb24sIDEuMCk7XFxuICAgIFxcbiAgICBcXG4gICAgXFxuICAgIFxcblxcbn1cIjtcclxuICAgICAgICAgICAgcmV0dXJuIFZlcnRleDtcclxuICAgICAgICB9KCkpO1xyXG4gICAgICAgIFNoYWRlcnMuVmVydGV4ID0gVmVydGV4O1xyXG4gICAgfSkoU2hhZGVycyA9IEJsYXplLlNoYWRlcnMgfHwgKEJsYXplLlNoYWRlcnMgPSB7fSkpO1xyXG4gICAgdmFyIEFuaW1hdGlvbkVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKEFuaW1hdGlvbkVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBBbmltYXRpb25FbnRpdHkoZ3JhcGhfaWQsIGZyZXF1ZW5jeSwgdGltZXMsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fZnJlcXVlbmN5ID0gZnJlcXVlbmN5O1xyXG4gICAgICAgICAgICB0aGlzLl9pbnRlcnZhbF9pZCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEFuaW1hdGlvbkVudGl0eS5wcm90b3R5cGUub25GcmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgQW5pbWF0aW9uRW50aXR5LkVsYXBzZVRpbWUgPSB1dGlscy5ub3dJbk1pbGxpc2Vjb25kcygpO1xyXG4gICAgICAgICAgICBpZiAoQW5pbWF0aW9uRW50aXR5LkVsYXBzZVRpbWUgPCA1KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB2YXIgc3RlcHMgPSBNYXRoLmZsb29yKEFuaW1hdGlvbkVudGl0eS5FbGFwc2VUaW1lIC8gdGhpcy5fZnJlcXVlbmN5KTtcclxuICAgICAgICAgICAgd2hpbGUgKChzdGVwcyA+IDApICYmIChBbmltYXRpb25FbnRpdHkuQ291bnQgIT0gdGhpcy5fdGltZXMpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWxsYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgc3RlcHMtLTtcclxuICAgICAgICAgICAgICAgIEFuaW1hdGlvbkVudGl0eS5Db3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChBbmltYXRpb25FbnRpdHkuQ291bnQgPT09IHRoaXMuX3RpbWVzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgQW5pbWF0aW9uRW50aXR5LnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5faW50aW1lID0gdXRpbHMubm93SW5NaWxsaXNlY29uZHMoKTtcclxuICAgICAgICAgICAgdGhpcy5faW50ZXJ2YWxfaWQgPSBzZXRJbnRlcnZhbCh0aGlzLm9uRnJhbWUsIHRoaXMuX2ZyZXF1ZW5jeSAvIDEwMDApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQW5pbWF0aW9uRW50aXR5LnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5faW50ZXJ2YWxfaWQpXHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuX2ludGVydmFsX2lkKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEFuaW1hdGlvbkVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQW5pbWF0aW9uRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQW5pbWF0aW9uRW50aXR5LkNvdW50ID0gMDtcclxuICAgICAgICByZXR1cm4gQW5pbWF0aW9uRW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLkFuaW1hdGlvbkVudGl0eSA9IEFuaW1hdGlvbkVudGl0eTtcclxuICAgIHZhciBNZXNoRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoTWVzaEVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBNZXNoRW50aXR5KGdyYXBoX2lkLCBtZXNoZmlsZSwgbWF0ZXJpYWxmaWxlLCB0ZXh0dXJlZmlsZSkge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9tZXNoZmlsZSA9IG1lc2hmaWxlIHx8IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsZmlsZSA9IG1hdGVyaWFsZmlsZSB8fCBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlZmlsZSA9IHRleHR1cmVmaWxlIHx8IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmxvYWRCdWZmZXJzID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBjYikge1xyXG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzID0gbmV3IFJlc291cmNlcy5NZXNoQnVmZmVycyh0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzLm9ubG9hZCA9IGNiO1xyXG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzLnNyYyA9IGZpbGVuYW1lO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUubG9hZFRleHR1cmUgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIGNiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUgPSBuZXcgUmVzb3VyY2VzLk1lc2hUZXh0dXJlKHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUub25sb2FkID0gY2I7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUuc3JjID0gZmlsZW5hbWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEVudGl0eS5wcm90b3R5cGUsIFwibWF0ZXJpYWxcIiwge1xyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRlcmlhbCA9IHY7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmxvYWRNYXRlcmlhbCA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgY2IpIHtcclxuICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwgPSBuZXcgUmVzb3VyY2VzLk1lc2hNYXRlcmlhbCh0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbC5vbmxvYWQgPSBjYjtcclxuICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwuc3JjID0gZmlsZW5hbWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5sb2FkTWVzaCA9IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIGFzeW5jLndhdGVyZmFsbChbXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAobmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VsZi5fbWVzaGZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkaW5nIEJ1ZmZlcnNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2FkQnVmZmVycyhzZWxmLl9tZXNoZmlsZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRlZCBCdWZmZXJzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKG5leHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLl90ZXh0dXJlZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRpbmcgVGV4dHVyZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmxvYWRUZXh0dXJlKHNlbGYuX3RleHR1cmVmaWxlLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGVkIFRleHR1cmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAobmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VsZi5fbWF0ZXJpYWxmaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGluZyBNYXRlcmlhbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmxvYWRNYXRlcmlhbChzZWxmLl9tYXRlcmlhbGZpbGUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkZWQgTWF0ZXJpYWxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXSwgZnVuY3Rpb24gKGVycikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycilcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgICAgIGlmIChjYilcclxuICAgICAgICAgICAgICAgICAgICBjYigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmxvYWRNZXNoQnlPYmplY3QgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBuZXcgUmVzb3VyY2VzLk1lc2hCdWZmZXJzKHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMuY3JlYXRlQnVmZmVycyhvYmopO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUubG9hZE1hdGVyaWFsQnlPYmplY3QgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsID0gbmV3IFJlc291cmNlcy5NZXNoTWF0ZXJpYWwodGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgaWYgKG9iai5hbWJpZW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRlcmlhbC5hbWJpZW50ID0gb2JqLmFtYmllbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9iai5zcGVjdWxhcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwuc3BlY3VsYXIgPSBvYmouc3BlY3VsYXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9iai5kaWZmdXNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRlcmlhbC5kaWZmdXNlID0gb2JqLmRpZmZ1c2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9iai5zaGluaW5lc3MpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLnNoaW5pbmVzcyA9IG9iai5zaGluaW5lc3M7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLnNldE1hdGVyaWFsVW5pZm9ybXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9tYXRlcmlhbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tYXRlcmlhbC5hbWJpZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVNYXRlcmlhbEFtYmllbnQgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TWF0ZXJpYWxBbWJpZW50XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1TWF0ZXJpYWxBbWJpZW50KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVNYXRlcmlhbEFtYmllbnQsIHRoaXMuX21hdGVyaWFsLmFtYmllbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21hdGVyaWFsLmRpZmZ1c2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdU1hdGVyaWFsRGlmZnVzZSA9IHRoaXMuZ2V0VW5pZm9ybShcInVNYXRlcmlhbERpZmZ1c2VcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVNYXRlcmlhbERpZmZ1c2UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodU1hdGVyaWFsRGlmZnVzZSwgdGhpcy5fbWF0ZXJpYWwuZGlmZnVzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbWF0ZXJpYWwuc3BlY3VsYXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdU1hdGVyaWFsU3BlY3VsYXIgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TWF0ZXJpYWxTcGVjdWxhclwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodU1hdGVyaWFsU3BlY3VsYXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodU1hdGVyaWFsU3BlY3VsYXIsIHRoaXMuX21hdGVyaWFsLnNwZWN1bGFyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tYXRlcmlhbC5zaGluaW5lc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdVNoaW5pbmVzcyA9IHRoaXMuZ2V0VW5pZm9ybShcInVTaGluaW5lc3NcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVTaGluaW5lc3MpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xZih1U2hpbmluZXNzLCB0aGlzLl9tYXRlcmlhbC5zaGluaW5lc3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0TWF0ZXJpYWxVbmlmb3JtcygpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fYnVmZmVycy52Ym8pO1xyXG4gICAgICAgICAgICBLZXRjaC5lbmFibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfcG9zaXRpb25cIik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl9idWZmZXJzLm5ibyk7XHJcbiAgICAgICAgICAgIEtldGNoLmVuYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9ub3JtYWxcIik7XHJcbiAgICAgICAgICAgIHZhciBpdmJvID0gdGhpcy5fYnVmZmVycy5pdmJvO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBpdmJvKTtcclxuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdsLlRSSUFOR0xFUywgaXZiby5udW1JdGVtcywgZ2wuVU5TSUdORURfU0hPUlQsIDApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgS2V0Y2guZGlzYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9wb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgS2V0Y2guZGlzYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9ub3JtYWxcIik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gTWVzaEVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5NZXNoRW50aXR5ID0gTWVzaEVudGl0eTtcclxuICAgIHZhciBUcmFuc2Zvcm1FbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhUcmFuc2Zvcm1FbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gVHJhbnNmb3JtRW50aXR5KGdyYXBoX2lkLCBwb3NpdGlvbiwgc2l6ZSwgcm90YXRpb24pIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHBvc2l0aW9uIHx8IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NpemUgPSBzaXplIHx8IHZlYzMuY3JlYXRlKFsxLCAxLCAxXSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uID0gcm90YXRpb24gfHwgeyBhbmdsZTogMCwgYXhpczogdmVjMy5jcmVhdGUoKSB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLmlkZW50aXR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBtYXQ0LmlkZW50aXR5KHRoaXMuX21hdHJpeCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnNldE1hdHJpeCA9IGZ1bmN0aW9uIChuZXdfbWF0cml4KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdHJpeCA9IG5ld19tYXRyaXg7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnRyYW5zcG9zZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbWF0NC50cmFuc3Bvc2UodGhpcy5fbWF0cml4LCB0aGlzLl9tYXRyaXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUsIFwicG9zaXRpb25cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2V0QWJzb2x1dGVQb3NpdGlvbiA9IGZ1bmN0aW9uICh4LCB5LCB6KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gW3gsIHksIHpdO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS50cmFuc2xhdGUgPSBmdW5jdGlvbiAoeCwgeSwgeikge1xyXG4gICAgICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XHJcbiAgICAgICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cclxuICAgICAgICAgICAgaWYgKHogPT09IHZvaWQgMCkgeyB6ID0gMDsgfVxyXG4gICAgICAgICAgICB2YXIgb3BlcmFuZDEgPSB0aGlzLl9wb3NpdGlvbjtcclxuICAgICAgICAgICAgdmFyIG9wZXJhbmQyID0gdmVjMy5jcmVhdGUoW3gsIHksIHpdKTtcclxuICAgICAgICAgICAgdmVjMy5hZGQob3BlcmFuZDEsIG9wZXJhbmQyLCB0aGlzLl9wb3NpdGlvbik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZSwgXCJzaXplXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoc2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2l6ZSA9IHNpemU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2V0U2l6ZSA9IGZ1bmN0aW9uICh4LCB5LCB6KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NpemUgPSBbeCwgeSwgel07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnNjYWxlID0gZnVuY3Rpb24gKHgsIHksIHopIHtcclxuICAgICAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxyXG4gICAgICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XHJcbiAgICAgICAgICAgIGlmICh6ID09PSB2b2lkIDApIHsgeiA9IDA7IH1cclxuICAgICAgICAgICAgdmFyIG9wZXJhbmQxID0gdGhpcy5fc2l6ZTtcclxuICAgICAgICAgICAgdmFyIG9wZXJhbmQyID0gdmVjMy5jcmVhdGUoW3gsIHksIHpdKTtcclxuICAgICAgICAgICAgdmVjMy5hZGQob3BlcmFuZDEsIG9wZXJhbmQyLCB0aGlzLl9zaXplKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLCBcInJvdGF0aW9uXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHJvdGF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yb3RhdGlvbiA9IHJvdGF0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnNldFJvdGF0aW9uID0gZnVuY3Rpb24gKGFuZ2xlLCBheGlzKSB7XHJcbiAgICAgICAgICAgIGlmIChhbmdsZSlcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uLmFuZ2xlID0gYW5nbGU7XHJcbiAgICAgICAgICAgIGlmIChheGlzKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcm90YXRpb24uYXhpcyA9IGF4aXM7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnNldEFuZ2xlID0gZnVuY3Rpb24gKGFuZ2xlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uLmFuZ2xlID0gYW5nbGU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnNldEF4aXMgPSBmdW5jdGlvbiAoYXhpcykge1xyXG4gICAgICAgICAgICB0aGlzLl9yb3RhdGlvbi5heGlzID0gYXhpcztcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUucm90YXRlQW5nbGUgPSBmdW5jdGlvbiAoYW5nbGUpIHtcclxuICAgICAgICAgICAgaWYgKGFuZ2xlID09PSB2b2lkIDApIHsgYW5nbGUgPSAwOyB9XHJcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uLmFuZ2xlICs9IGFuZ2xlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5tb3ZlQXhpcyA9IGZ1bmN0aW9uICh4LCB5LCB6KSB7XHJcbiAgICAgICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cclxuICAgICAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxyXG4gICAgICAgICAgICBpZiAoeiA9PT0gdm9pZCAwKSB7IHogPSAwOyB9XHJcbiAgICAgICAgICAgIHZhciBvcGVyYW5kMSA9IHRoaXMuX3JvdGF0aW9uLmF4aXM7XHJcbiAgICAgICAgICAgIHZhciBvcGVyYW5kMiA9IHZlYzMuY3JlYXRlKFt4LCB5LCB6XSk7XHJcbiAgICAgICAgICAgIHZlYzMuYWRkKG9wZXJhbmQxLCBvcGVyYW5kMiwgdGhpcy5fcm90YXRpb24uYXhpcyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uIChtYXRyaXhTdGFjaykge1xyXG4gICAgICAgICAgICBtYXRyaXhTdGFjay5wdXNoKCk7XHJcbiAgICAgICAgICAgIG1hdHJpeFN0YWNrLk1vZGVsVmlldygpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRyaXggPSBtYXRyaXhTdGFjay5tdk1hdHJpeDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3Bvc2l0aW9uICE9IHZvaWQgMClcclxuICAgICAgICAgICAgICAgIG1hdDQudHJhbnNsYXRlKHRoaXMuX21hdHJpeCwgdGhpcy5fcG9zaXRpb24pO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fc2l6ZSAhPSB2b2lkIDApXHJcbiAgICAgICAgICAgICAgICBtYXQ0LnNjYWxlKHRoaXMuX21hdHJpeCwgdGhpcy5fc2l6ZSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9yb3RhdGlvbiAhPSB2b2lkIDApIHtcclxuICAgICAgICAgICAgICAgIHZhciByYWQgPSB0aGlzLl9yb3RhdGlvbi5hbmdsZSAqIE1hdGguUEkgLyAxODA7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LnJvdGF0ZSh0aGlzLl9tYXRyaXgsIHJhZCwgdGhpcy5fcm90YXRpb24uYXhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWF0cml4U3RhY2suc2V0VXAoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uIChtYXRyaXhTdGFjaykge1xyXG4gICAgICAgICAgICBtYXRyaXhTdGFjay5wb3AoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBUcmFuc2Zvcm1FbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuVHJhbnNmb3JtRW50aXR5ID0gVHJhbnNmb3JtRW50aXR5O1xyXG4gICAgdmFyIExpZ2h0RW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoTGlnaHRFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gTGlnaHRFbnRpdHkoZ3JhcGhfaWQsIGFtYmllbnQsIGRpZmZ1c2UsIHBvc2l0aW9uLCBzcGVjdWxhciwgZGlyZWN0aW9uLCBjdXRvZmYpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9hbWJpZW50ID0gYW1iaWVudCA/IHZlYzQuY3JlYXRlKGFtYmllbnQpIDogbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fZGlmZnVzZSA9IGRpZmZ1c2UgPyB2ZWM0LmNyZWF0ZShkaWZmdXNlKSA6IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gcG9zaXRpb24gPyB2ZWMzLmNyZWF0ZShwb3NpdGlvbikgOiBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9zcGVjdWxhciA9IHNwZWN1bGFyID8gdmVjNC5jcmVhdGUoc3BlY3VsYXIpIDogbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fZGlyZWN0aW9uID0gZGlyZWN0aW9uID8gdmVjMy5jcmVhdGUoZGlyZWN0aW9uKSA6IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX2N1dG9mZiA9IGN1dG9mZiB8fCAwLjA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaWdodEVudGl0eS5wcm90b3R5cGUsIFwiYW1iaWVudFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FtYmllbnQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGFtYmllbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2FtYmllbnQgPSB1dGlscy5ub3JtYWxpemVOYU4odmVjNC5jcmVhdGUoYW1iaWVudCkpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlnaHRFbnRpdHkucHJvdG90eXBlLCBcImRpZmZ1c2VcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kaWZmdXNlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkaWZmdXNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaWZmdXNlID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzQuY3JlYXRlKGRpZmZ1c2UpKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpZ2h0RW50aXR5LnByb3RvdHlwZSwgXCJzcGVjdWxhclwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NwZWN1bGFyO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzcGVjdWxhcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3BlY3VsYXIgPSB1dGlscy5ub3JtYWxpemVOYU4odmVjNC5jcmVhdGUoc3BlY3VsYXIpKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpZ2h0RW50aXR5LnByb3RvdHlwZSwgXCJwb3NpdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RpZmZ1c2U7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWMzLmNyZWF0ZShwb3NpdGlvbikpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlnaHRFbnRpdHkucHJvdG90eXBlLCBcImRpcmVjdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RpcmVjdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXJlY3Rpb24gPSB1dGlscy5ub3JtYWxpemVOYU4odmVjMy5jcmVhdGUoZGlyZWN0aW9uKSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaWdodEVudGl0eS5wcm90b3R5cGUsIFwiY3V0T2ZmXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY3V0b2ZmO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChjdXRvZmYpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2N1dG9mZiA9IGN1dG9mZjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgTGlnaHRFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2FtYmllbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciB1TGlnaHRBbWJpZW50ID0gdGhpcy5nZXRVbmlmb3JtKFwidUxpZ2h0QW1iaWVudFwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh1TGlnaHRBbWJpZW50KVxyXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodUxpZ2h0QW1iaWVudCwgdGhpcy5fYW1iaWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2RpZmZ1c2UpIHtcclxuICAgICAgICAgICAgICAgIHZhciB1TGlnaHREaWZmdXNlID0gdGhpcy5nZXRVbmlmb3JtKFwidUxpZ2h0RGlmZnVzZVwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh1TGlnaHREaWZmdXNlKVxyXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodUxpZ2h0RGlmZnVzZSwgdGhpcy5fZGlmZnVzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuX3NwZWN1bGFyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdUxpZ2h0U3BlY3VsYXIgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TGlnaHRTcGVjdWxhclwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh1TGlnaHRTcGVjdWxhcilcclxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVMaWdodFNwZWN1bGFyLCB0aGlzLl9zcGVjdWxhcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuX3Bvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdUxpZ2h0UG9zaXRpb24gPSB0aGlzLmdldFVuaWZvcm0oXCJ1TGlnaHRQb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh1TGlnaHRQb3NpdGlvbilcclxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtM2Z2KHVMaWdodFBvc2l0aW9uLCB0aGlzLl9wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2RpcmVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVEaXJlY3Rpb24gPSB0aGlzLmdldFVuaWZvcm0oXCJ1TGlnaHREaXJlY3Rpb25cIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodURpcmVjdGlvbilcclxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtM2Z2KHVEaXJlY3Rpb24sIHRoaXMuX2RpcmVjdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2N1dG9mZikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVDdXRPZmYgPSB0aGlzLmdldFVuaWZvcm0oXCJ1Q3V0T2ZmXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVDdXRPZmYpXHJcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHVDdXRPZmYsIHRoaXMuX2N1dG9mZik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIExpZ2h0RW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIExpZ2h0RW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLkxpZ2h0RW50aXR5ID0gTGlnaHRFbnRpdHk7XHJcbiAgICB2YXIgRGlmZnVzZUVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKERpZmZ1c2VFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gRGlmZnVzZUVudGl0eShncmFwaF9pZCwgdikge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdjtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpZmZ1c2VFbnRpdHkucHJvdG90eXBlLCBcInZhbHVlXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgRGlmZnVzZUVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB2YXIgdU1hdGVyaWFsRGlmZnVzZSA9IHRoaXMuZ2V0VW5pZm9ybShcInVNYXRlcmlhbERpZmZ1c2VcIik7XHJcbiAgICAgICAgICAgIGlmICh1TWF0ZXJpYWxEaWZmdXNlKVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TWF0ZXJpYWxEaWZmdXNlLCB0aGlzLl92YWx1ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBEaWZmdXNlRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIERpZmZ1c2VFbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuRGlmZnVzZUVudGl0eSA9IERpZmZ1c2VFbnRpdHk7XHJcbiAgICB2YXIgUGFydGljbGVFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhQYXJ0aWNsZUVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBQYXJ0aWNsZUVudGl0eShncmFwaF9pZCwgcG9pbnRTaXplKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fcG9pbnRTaXplID0gcG9pbnRTaXplIHx8IDE7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlciA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVfaWQgPSBcIlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBQYXJ0aWNsZUVudGl0eS5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKGRhdGFfbWVzaCwgZGF0YV90ZXh0dXJlKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fYnVmZmVyKTtcclxuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoZGF0YV9tZXNoKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIHRoaXMuX251bUl0ZW1zID0gZGF0YV9tZXNoLmxlbmd0aDtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZV9pZCA9IHV0aWxzLnV1aWQoXCJUZXh0dXJlXCIpO1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gV2ViR0xVdGlscy5jcmVhdGVUZXh0dXJlKGdsLCBkYXRhX3RleHR1cmUpO1xyXG4gICAgICAgICAgICBLZXRjaC5hZGRUZXh0dXJlKHRoaXMuZ3JhcGhJRCwgdGhpcy5fdGV4dHVyZV9pZCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBQYXJ0aWNsZUVudGl0eS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX2J1ZmZlcik7XHJcbiAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KGRhdGEpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgdGhpcy5fbnVtSXRlbXMgPSBkYXRhLmxlbmd0aDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQYXJ0aWNsZUVudGl0eS5wcm90b3R5cGUsIFwidGV4dHVyZUlEXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZV9pZDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBhcnRpY2xlRW50aXR5LnByb3RvdHlwZSwgXCJwb2ludFNpemVcIiwge1xyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wb2ludFNpemUgPSB2O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBQYXJ0aWNsZUVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB2YXIgdVBvaW50U2l6ZSA9IHRoaXMuZ2V0VW5pZm9ybShcInVQb2ludFNpemVcIik7XHJcbiAgICAgICAgICAgIGlmICh1UG9pbnRTaXplKVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHVQb2ludFNpemUsIHRoaXMuX3BvaW50U2l6ZSk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl9idWZmZXIpO1xyXG4gICAgICAgICAgICBLZXRjaC5lbmFibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfcG9zaXRpb25cIik7XHJcbiAgICAgICAgICAgIEtldGNoLmFjdGl2ZVRleHR1cmUodGhpcy5ncmFwaElELCB0aGlzLl90ZXh0dXJlX2lkLCB0aGlzLl90ZXh0dXJlKTtcclxuICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5QT0lOVFMsIDAsIHRoaXMuX251bUl0ZW1zIC8gMyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBQYXJ0aWNsZUVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgS2V0Y2guZGlzYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9wb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFBhcnRpY2xlRW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLlBhcnRpY2xlRW50aXR5ID0gUGFydGljbGVFbnRpdHk7XHJcbiAgICB2YXIgTGlnaHRBcnJheUVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKExpZ2h0QXJyYXlFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gTGlnaHRBcnJheUVudGl0eShncmFwaF9pZCkge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpZ2h0cyA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBMaWdodEFycmF5RW50aXR5LnByb3RvdHlwZS5hZGRMaWdodCA9IGZ1bmN0aW9uIChsaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLl9saWdodHMucHVzaChsaWdodCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBMaWdodEFycmF5RW50aXR5LnByb3RvdHlwZS5yZW1vdmVMaWdodHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpZ2h0cyA9IFtdO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTGlnaHRBcnJheUVudGl0eS5wcm90b3R5cGUuZ2V0QXJyYXlzT2JqZWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGlnaHRzLnJlZHVjZShmdW5jdGlvbiAocHJldiwgaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFtYmllbnQgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChpdGVtLmFtYmllbnQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpZmZ1c2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChpdGVtLmRpZmZ1c2UpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNwZWN1bGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaXRlbS5zcGVjdWxhcik7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaXRlbS5kaXJlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgcHJldi5hbWJpZW50ID0gcHJldi5hbWJpZW50LmNvbmNhdChhbWJpZW50KTtcclxuICAgICAgICAgICAgICAgIHByZXYuZGlmZnVzZSA9IHByZXYuZGlmZnVzZS5jb25jYXQoZGlmZnVzZSk7XHJcbiAgICAgICAgICAgICAgICBwcmV2LnNwZWN1bGFyID0gcHJldi5zcGVjdWxhci5jb25jYXQoc3BlY3VsYXIpO1xyXG4gICAgICAgICAgICAgICAgcHJldi5kaXJlY3Rpb24gPSBwcmV2LmRpcmVjdGlvbi5jb25jYXQoZGlyZWN0aW9uKTtcclxuICAgICAgICAgICAgICAgIHByZXYuY3V0b2ZmID0gcHJldi5jdXRvZmYuY29uY2F0KGl0ZW0uY3V0b2ZmKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICBhbWJpZW50OiBbXSxcclxuICAgICAgICAgICAgICAgIGRpZmZ1c2U6IFtdLFxyXG4gICAgICAgICAgICAgICAgc3BlY3VsYXI6IFtdLFxyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uOiBbXSxcclxuICAgICAgICAgICAgICAgIGN1dG9mZjogW11cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBMaWdodEFycmF5RW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9saWdodHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxpZ2h0cyA9IHRoaXMuZ2V0QXJyYXlzT2JqZWN0KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAobGlnaHRzLmFtYmllbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdUxpZ2h0QW1iaWVudCA9IHRoaXMuZ2V0VW5pZm9ybShcInVMaWdodEFtYmllbnRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVMaWdodEFtYmllbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodUxpZ2h0QW1iaWVudCwgbGlnaHRzLmFtYmllbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGxpZ2h0cy5kaWZmdXNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVMaWdodERpZmZ1c2UgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TGlnaHREaWZmdXNlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1TGlnaHREaWZmdXNlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVMaWdodERpZmZ1c2UsIGxpZ2h0cy5kaWZmdXNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChsaWdodHMuc3BlY3VsYXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdUxpZ2h0U3BlY3VsYXIgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TGlnaHRTcGVjdWxhclwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodUxpZ2h0U3BlY3VsYXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodUxpZ2h0U3BlY3VsYXIsIGxpZ2h0cy5zcGVjdWxhcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobGlnaHRzLmRpcmVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1RGlyZWN0aW9uID0gdGhpcy5nZXRVbmlmb3JtKFwidUxpZ2h0RGlyZWN0aW9uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1RGlyZWN0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtM2Z2KHVEaXJlY3Rpb24sIGxpZ2h0cy5kaXJlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGxpZ2h0cy5jdXRvZmYpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdUN1dE9mZiA9IHRoaXMuZ2V0VW5pZm9ybShcInVDdXRPZmZcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVDdXRPZmYpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xZih1Q3V0T2ZmLCBsaWdodHMuY3V0b2ZmKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIExpZ2h0QXJyYXlFbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuTGlnaHRBcnJheUVudGl0eSA9IExpZ2h0QXJyYXlFbnRpdHk7XHJcbiAgICB2YXIgQ2FtZXJhRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoQ2FtZXJhRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIENhbWVyYUVudGl0eShncmFwaF9pZCwgdHlwZSkge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlIHx8IENBTUVSQV9UWVBFLk9SQklUSU5HO1xyXG4gICAgICAgICAgICB0aGlzLl9jbWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgbWF0NC5pZGVudGl0eSh0aGlzLl9jbWF0cml4KTtcclxuICAgICAgICAgICAgdGhpcy5fdXAgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9yaWdodCA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX25vcm1hbCA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fYXppbXV0aCA9IDAuMDtcclxuICAgICAgICAgICAgdGhpcy5fZWxldmF0aW9uID0gMC4wO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGVwcyA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW1lcmFFbnRpdHkucHJvdG90eXBlLCBcInR5cGVcIiwge1xyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90eXBlID0gdHlwZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbWVyYUVudGl0eS5wcm90b3R5cGUsIFwicG9zaXRpb25cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAocG9zKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHBvcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbWVyYUVudGl0eS5wcm90b3R5cGUsIFwiYXppbXV0aFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F6aW11dGg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGF6KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcF9heiA9IGF6IC0gdGhpcy5fYXppbXV0aDtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlQXppbXV0aCh0ZW1wX2F6KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgQ2FtZXJhRW50aXR5LnByb3RvdHlwZS5jaGFuZ2VBemltdXRoID0gZnVuY3Rpb24gKGF6KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2F6aW11dGggKz0gYXo7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9hemltdXRoID4gMzYwIHx8IHRoaXMuX2F6aW11dGggPCAtMzYwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hemltdXRoID0gdGhpcy5fYXppbXV0aCAlIDM2MDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbWVyYUVudGl0eS5wcm90b3R5cGUsIFwiZWxldmF0aW9uXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZWxldmF0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXBfZWwgPSBlbCAtIHRoaXMuX2VsZXZhdGlvbjtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlRWxldmF0aW9uKHRlbXBfZWwpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBDYW1lcmFFbnRpdHkucHJvdG90eXBlLmNoYW5nZUVsZXZhdGlvbiA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9lbGV2YXRpb24gKz0gZWw7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9lbGV2YXRpb24gPiAzNjAgfHwgdGhpcy5fZWxldmF0aW9uIDwgLTM2MCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxldmF0aW9uID0gdGhpcy5fZWxldmF0aW9uICUgMzYwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FtZXJhRW50aXR5LnByb3RvdHlwZSwgXCJ6b29tXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RlcHM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKG9mZnNldCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHAgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG4gPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgcCA9IHRoaXMucG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RlcCA9IG9mZnNldCAtIHRoaXMuX3N0ZXBzO1xyXG4gICAgICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUodGhpcy5fbm9ybWFsLCBuKTtcclxuICAgICAgICAgICAgICAgIHZhciBuZXdfcG9zaXRpb24gPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3R5cGUgPT09IENBTUVSQV9UWVBFLlRSQUNLSU5HKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3X3Bvc2l0aW9uWzBdID0gcFswXSAtIHN0ZXAgKiBuWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld19wb3NpdGlvblsxXSA9IHBbMV0gLSBzdGVwICogblsxXTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdfcG9zaXRpb25bMl0gPSBwWzJdIC0gc3RlcCAqIG5bMl07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdfcG9zaXRpb25bMF0gPSBwWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld19wb3NpdGlvblsxXSA9IHBbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3X3Bvc2l0aW9uWzJdID0gcFsyXSAtIHN0ZXA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gbmV3X3Bvc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3RlcHMgPSBvZmZzZXQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIENhbWVyYUVudGl0eS5wcm90b3R5cGUuY2FsY3VsYXRlT3JpZW50YXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBtID0gdGhpcy5fY21hdHJpeDtcclxuICAgICAgICAgICAgbWF0NC5tdWx0aXBseVZlYzQobSwgWzEsIDAsIDAsIDBdLCB0aGlzLl9yaWdodCk7XHJcbiAgICAgICAgICAgIG1hdDQubXVsdGlwbHlWZWM0KG0sIFswLCAxLCAwLCAwXSwgdGhpcy5fdXApO1xyXG4gICAgICAgICAgICBtYXQ0Lm11bHRpcGx5VmVjNChtLCBbMCwgMCwgMSwgMF0sIHRoaXMuX25vcm1hbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYW1lcmFFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbWF0NC5pZGVudGl0eSh0aGlzLl9jbWF0cml4KTtcclxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVPcmllbnRhdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fdHlwZSA9PT0gQ0FNRVJBX1RZUEUuVFJBQ0tJTkcpIHtcclxuICAgICAgICAgICAgICAgIG1hdDQudHJhbnNsYXRlKHRoaXMuX2NtYXRyaXgsIHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgIG1hdDQucm90YXRlWSh0aGlzLl9jbWF0cml4LCB0aGlzLl9hemltdXRoICogTWF0aC5QSSAvIDE4MCk7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LnJvdGF0ZVgodGhpcy5fY21hdHJpeCwgdGhpcy5fZWxldmF0aW9uICogTWF0aC5QSSAvIDE4MCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LnJvdGF0ZVkodGhpcy5fY21hdHJpeCwgdGhpcy5fYXppbXV0aCAqIE1hdGguUEkgLyAxODApO1xyXG4gICAgICAgICAgICAgICAgbWF0NC5yb3RhdGVYKHRoaXMuX2NtYXRyaXgsIHRoaXMuX2VsZXZhdGlvbiAqIE1hdGguUEkgLyAxODApO1xyXG4gICAgICAgICAgICAgICAgbWF0NC50cmFuc2xhdGUodGhpcy5fY21hdHJpeCwgdGhpcy5fcG9zaXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlT3JpZW50YXRpb24oKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3R5cGUgPT09IENBTUVSQV9UWVBFLlRSQUNLSU5HKSB7XHJcbiAgICAgICAgICAgICAgICBtYXQ0Lm11bHRpcGx5VmVjNCh0aGlzLl9jbWF0cml4LCBbMCwgMCwgMCwgMV0sIHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbWVyYUVudGl0eS5wcm90b3R5cGUsIFwibW9kZWxWaWV3XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbSA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LmludmVyc2UodGhpcy5fY21hdHJpeCwgbSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgQ2FtZXJhRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIENhbWVyYUVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5DYW1lcmFFbnRpdHkgPSBDYW1lcmFFbnRpdHk7XHJcbiAgICB2YXIgQXhpc0VudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKEF4aXNFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gQXhpc0VudGl0eShncmFwaF9pZCwgZCkge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIGQgPSBkIHx8IDEwMDtcclxuICAgICAgICAgICAgdGhpcy5fdmVydGljZXMgPSBbMC4wLCAwLjAsIDAuMCwgZCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgZCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgZF07XHJcbiAgICAgICAgICAgIHRoaXMuX2luZGljZXMgPSBbMCwgMSwgMiwgMywgNCwgNV07XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbG9ycyA9IFsxLCAxLCAwLCAxLCAxLCAxLCAwLCAxLCAwLCAxLCAwLCAxLCAwLCAxLCAwLCAxLCAwLCAwLCAxLCAxLCAwLCAwLCAxLCAxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgQXhpc0VudGl0eS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy5fdmJvID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl92Ym8pO1xyXG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheSh0aGlzLl92ZXJ0aWNlcyksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgdGhpcy5faWJvID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuX2libyk7XHJcbiAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG5ldyBVaW50MTZBcnJheSh0aGlzLl9pbmRpY2VzKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICB0aGlzLl9jYm8gPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX2Nibyk7XHJcbiAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KHRoaXMuX2NvbG9ycyksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEF4aXNFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdmFyIHVXaXJlZnJhbWUgPSB0aGlzLmdldFVuaWZvcm0oXCJ1V2lyZWZyYW1lXCIpO1xyXG4gICAgICAgICAgICBpZiAodVdpcmVmcmFtZSlcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1V2lyZWZyYW1lLCB0cnVlKTtcclxuICAgICAgICAgICAgdmFyIHVQZXJWZXJ0ZXhDb2xvciA9IHRoaXMuZ2V0VW5pZm9ybShcInVQZXJWZXJ0ZXhDb2xvclwiKTtcclxuICAgICAgICAgICAgaWYgKHVQZXJWZXJ0ZXhDb2xvcilcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1UGVyVmVydGV4Q29sb3IsIHRydWUpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fdmJvKTtcclxuICAgICAgICAgICAgS2V0Y2guZW5hYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX3Bvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fY2JvKTtcclxuICAgICAgICAgICAgS2V0Y2guZW5hYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX2NvbG9yXCIsIHsgc2l6ZTogNCB9KTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5faWJvKTtcclxuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdsLkxJTkVTLCB0aGlzLl9pbmRpY2VzLmxlbmd0aCwgZ2wuVU5TSUdORURfU0hPUlQsIDApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQXhpc0VudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdmFyIHVXaXJlZnJhbWUgPSB0aGlzLmdldFVuaWZvcm0oXCJ1V2lyZWZyYW1lXCIpO1xyXG4gICAgICAgICAgICBpZiAodVdpcmVmcmFtZSlcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1V2lyZWZyYW1lLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHZhciB1UGVyVmVydGV4Q29sb3IgPSB0aGlzLmdldFVuaWZvcm0oXCJ1UGVyVmVydGV4Q29sb3JcIik7XHJcbiAgICAgICAgICAgIGlmICh1UGVyVmVydGV4Q29sb3IpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkodVBlclZlcnRleENvbG9yLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIEtldGNoLmRpc2FibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfcG9zaXRpb25cIik7XHJcbiAgICAgICAgICAgIEtldGNoLmRpc2FibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfY29sb3JcIik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gQXhpc0VudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5BeGlzRW50aXR5ID0gQXhpc0VudGl0eTtcclxuICAgIHZhciBHcmlkRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoR3JpZEVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBHcmlkRW50aXR5KGdyYXBoX2lkLCBkLCBlKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fZGltZXNpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgZGltOiBkIHx8IDUwLCBsaW5lczogZSB8fCA1MFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBHcmlkRW50aXR5LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZibyA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fdmJvKTtcclxuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkodGhpcy5fdmVydGljZXMpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIHRoaXMuX2libyA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLl9pYm8pO1xyXG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBuZXcgVWludDE2QXJyYXkodGhpcy5faW5kaWNlcyksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEdyaWRFbnRpdHkucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgaW5jID0gMiAqIHRoaXMuX2RpbWVzaW9ucy5kaW0gLyB0aGlzLl9kaW1lc2lvbnMubGluZXM7XHJcbiAgICAgICAgICAgIHZhciB2ID0gW107XHJcbiAgICAgICAgICAgIHZhciBpID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGwgPSAwOyBsIDw9IHRoaXMuX2RpbWVzaW9ucy5saW5lczsgbCsrKSB7XHJcbiAgICAgICAgICAgICAgICB2WzYgKiBsXSA9IC10aGlzLl9kaW1lc2lvbnMuZGltO1xyXG4gICAgICAgICAgICAgICAgdls2ICogbCArIDFdID0gLTAuNTtcclxuICAgICAgICAgICAgICAgIHZbNiAqIGwgKyAyXSA9IC10aGlzLl9kaW1lc2lvbnMuZGltICsgKGwgKiBpbmMpO1xyXG4gICAgICAgICAgICAgICAgdls2ICogbCArIDNdID0gdGhpcy5fZGltZXNpb25zLmRpbTtcclxuICAgICAgICAgICAgICAgIHZbNiAqIGwgKyA0XSA9IC0wLjU7XHJcbiAgICAgICAgICAgICAgICB2WzYgKiBsICsgNV0gPSAtdGhpcy5fZGltZXNpb25zLmRpbSArIChsICogaW5jKTtcclxuICAgICAgICAgICAgICAgIHZbNiAqICh0aGlzLl9kaW1lc2lvbnMubGluZXMgKyAxKSArIDYgKiBsXSA9IC10aGlzLl9kaW1lc2lvbnMuZGltICsgKGwgKiBpbmMpO1xyXG4gICAgICAgICAgICAgICAgdls2ICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgNiAqIGwgKyAxXSA9IC0wLjU7XHJcbiAgICAgICAgICAgICAgICB2WzYgKiAodGhpcy5fZGltZXNpb25zLmxpbmVzICsgMSkgKyA2ICogbCArIDJdID0gLXRoaXMuX2RpbWVzaW9ucy5kaW07XHJcbiAgICAgICAgICAgICAgICB2WzYgKiAodGhpcy5fZGltZXNpb25zLmxpbmVzICsgMSkgKyA2ICogbCArIDNdID0gLXRoaXMuX2RpbWVzaW9ucy5kaW0gKyAobCAqIGluYyk7XHJcbiAgICAgICAgICAgICAgICB2WzYgKiAodGhpcy5fZGltZXNpb25zLmxpbmVzICsgMSkgKyA2ICogbCArIDRdID0gLTAuNTtcclxuICAgICAgICAgICAgICAgIHZbNiAqICh0aGlzLl9kaW1lc2lvbnMubGluZXMgKyAxKSArIDYgKiBsICsgNV0gPSB0aGlzLl9kaW1lc2lvbnMuZGltO1xyXG4gICAgICAgICAgICAgICAgaVsyICogbF0gPSAyICogbDtcclxuICAgICAgICAgICAgICAgIGlbMiAqIGwgKyAxXSA9IDIgKiBsICsgMTtcclxuICAgICAgICAgICAgICAgIGlbMiAqICh0aGlzLl9kaW1lc2lvbnMubGluZXMgKyAxKSArIDIgKiBsXSA9IDIgKiAodGhpcy5fZGltZXNpb25zLmxpbmVzICsgMSkgKyAyICogbDtcclxuICAgICAgICAgICAgICAgIGlbMiAqICh0aGlzLl9kaW1lc2lvbnMubGluZXMgKyAxKSArIDIgKiBsICsgMV0gPSAyICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgMiAqIGwgKyAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3ZlcnRpY2VzID0gdjtcclxuICAgICAgICAgICAgdGhpcy5faW5kaWNlcyA9IGk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBHcmlkRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHZhciB1V2lyZWZyYW1lID0gdGhpcy5nZXRVbmlmb3JtKFwidVdpcmVmcmFtZVwiKTtcclxuICAgICAgICAgICAgaWYgKHVXaXJlZnJhbWUpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkodVdpcmVmcmFtZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHZhciB1TWF0ZXJpYWxEaWZmdXNlID0gdGhpcy5nZXRVbmlmb3JtKFwidU1hdGVyaWFsRGlmZnVzZVwiKTtcclxuICAgICAgICAgICAgaWYgKHVNYXRlcmlhbERpZmZ1c2UpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVNYXRlcmlhbERpZmZ1c2UsIFswLjcsIDAuNywgMC43LCAxXSk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl92Ym8pO1xyXG4gICAgICAgICAgICBLZXRjaC5lbmFibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfcG9zaXRpb25cIik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuX2libyk7XHJcbiAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50cyhnbC5MSU5FUywgdGhpcy5faW5kaWNlcy5sZW5ndGgsIGdsLlVOU0lHTkVEX1NIT1JULCAwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEdyaWRFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHZhciB1V2lyZWZyYW1lID0gdGhpcy5nZXRVbmlmb3JtKFwidVdpcmVmcmFtZVwiKTtcclxuICAgICAgICAgICAgaWYgKHVXaXJlZnJhbWUpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkodVdpcmVmcmFtZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICBLZXRjaC5kaXNhYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX3Bvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIEdyaWRFbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuR3JpZEVudGl0eSA9IEdyaWRFbnRpdHk7XHJcbiAgICB2YXIgU2VsZWN0RW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoU2VsZWN0RW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIFNlbGVjdEVudGl0eShncmFwaF9pZCwgZGF0YSkge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbG9yID0gdGhpcy5nZW5lcmF0ZVVuaXF1ZUNvbG9yKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2VsZWN0RW50aXR5LnByb3RvdHlwZSwgXCJkYXRhXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGF0YTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlbGVjdEVudGl0eS5wcm90b3R5cGUsIFwiY29sb3JcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb2xvcjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgU2VsZWN0RW50aXR5LnByb3RvdHlwZS5nZW5lcmF0ZVVuaXF1ZUNvbG9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY29sb3I7XHJcbiAgICAgICAgICAgIHZhciBjb250YWlucyA9IChmdW5jdGlvbiAoY29sb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBLZXRjaC5nZXRTZWxlY3RCeUNvbG9yKHRoaXMuZ3JhcGhJRCwgY29sb3IpICE9IHZvaWQgMDtcclxuICAgICAgICAgICAgfSkuYmluZCh0aGlzKTtcclxuICAgICAgICAgICAgdmFyIGZvdW5kID0gdHJ1ZTtcclxuICAgICAgICAgICAgd2hpbGUgKGZvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICBjb2xvciA9IFtOdW1iZXIoTWF0aC5yYW5kb20oKS50b0ZpeGVkKDIpKSwgTnVtYmVyKE1hdGgucmFuZG9tKCkudG9GaXhlZCgyKSksIE51bWJlcihNYXRoLnJhbmRvbSgpLnRvRml4ZWQoMikpLCAxLjBdO1xyXG4gICAgICAgICAgICAgICAgZm91bmQgPSBjb250YWlucyhjb2xvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvbG9yO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2VsZWN0RW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChLZXRjaC5pc09mZlNjcmVlbih0aGlzLmdyYXBoSUQpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICAgICAgdmFyIHVTZWxlY3RDb2xvciA9IHRoaXMuZ2V0VW5pZm9ybShcInVTZWxlY3RDb2xvclwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh1U2VsZWN0Q29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1U2VsZWN0Q29sb3IsIHRoaXMuX2NvbG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2VsZWN0RW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFNlbGVjdEVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5TZWxlY3RFbnRpdHkgPSBTZWxlY3RFbnRpdHk7XHJcbiAgICB2YXIgU2VsZWN0b3IgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhTZWxlY3RvciwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBTZWxlY3RvcihncmFwaF9pZCwgZGltZW5zaW9ucykge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2RpbWVuc2lvbnMgPSBkaW1lbnNpb25zO1xyXG4gICAgICAgICAgICB0aGlzLl9mcmFtZWJ1ZmZlciA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmJ1ZmZlciA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBTZWxlY3Rvci5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xyXG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLl90ZXh0dXJlKTtcclxuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCB0aGlzLl9kaW1lbnNpb25zLndpZHRoLCB0aGlzLl9kaW1lbnNpb25zLmhlaWdodCwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbnVsbCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmJ1ZmZlciA9IGdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgdGhpcy5fcmVuZGVyYnVmZmVyKTtcclxuICAgICAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX0NPTVBPTkVOVDE2LCB0aGlzLl9kaW1lbnNpb25zLndpZHRoLCB0aGlzLl9kaW1lbnNpb25zLmhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lYnVmZmVyID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCB0aGlzLl9mcmFtZWJ1ZmZlcik7XHJcbiAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgdGhpcy5fdGV4dHVyZSwgMCk7XHJcbiAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBnbC5ERVBUSF9BVFRBQ0hNRU5ULCBnbC5SRU5ERVJCVUZGRVIsIHRoaXMuX3JlbmRlcmJ1ZmZlcik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIG51bGwpO1xyXG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTZWxlY3Rvci5wcm90b3R5cGUuZmlsbCA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgS2V0Y2guZmlsbFNlbGVjdG9yQnVmZmVyKHRoaXMuZ3JhcGhJRCwgb2JqKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNlbGVjdG9yLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgS2V0Y2guY2xlYXJTZWxlY3RvckJ1ZmZlcih0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2VsZWN0b3IucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbiAocG9zKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHZhciByZWFkb3V0ID0gbmV3IFVpbnQ4QXJyYXkoMSAqIDEgKiA0KTtcclxuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCB0aGlzLl9mcmFtZWJ1ZmZlcik7XHJcbiAgICAgICAgICAgIGdsLnJlYWRQaXhlbHMocG9zLngsIHBvcy55LCAxLCAxLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCByZWFkb3V0KTtcclxuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgdmFyIGZpeGVkID0gW10uc2xpY2UuY2FsbChyZWFkb3V0KS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KChpdGVtIC8gMjU1KS50b0ZpeGVkKDIpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBvYmogPSBLZXRjaC5nZXRTZWxlY3RCeUNvbG9yKHRoaXMuZ3JhcGhJRCwgZml4ZWQpO1xyXG4gICAgICAgICAgICByZXR1cm4gb2JqID8gb2JqLmRhdGEgOiB2b2lkIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTZWxlY3Rvci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKGRyYXcpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCB0aGlzLl9mcmFtZWJ1ZmZlcik7XHJcbiAgICAgICAgICAgIHZhciB1T2Zmc2NyZWVuID0gdGhpcy5nZXRVbmlmb3JtKFwidU9mZnNjcmVlblwiKTtcclxuICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVPZmZzY3JlZW4sIHRydWUpO1xyXG4gICAgICAgICAgICBLZXRjaC5lbmFibGVPZmZTY3JlZW4odGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgZHJhdygpO1xyXG4gICAgICAgICAgICBnbC51bmlmb3JtMWkodU9mZnNjcmVlbiwgZmFsc2UpO1xyXG4gICAgICAgICAgICBLZXRjaC5kaXNhYmxlT2ZmU2NyZWVuKHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gU2VsZWN0b3I7XHJcbiAgICB9KFJlbmRlcmFibGUpKTtcclxuICAgIEJsYXplLlNlbGVjdG9yID0gU2VsZWN0b3I7XHJcbiAgICA7XHJcbiAgICB2YXIgRWZmZWN0cyA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKEVmZmVjdHMsIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gRWZmZWN0cyhncmFwaF9pZCwgY2FudmFzLCB0eXBlKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lYnVmZmVyID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyYnVmZmVyID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fdmJvID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fdGJvID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fc2hhZGVyID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fdW5pZm9ybXMgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9hdHRyaWJzID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fbm9pc2V0ZXh0dXJlID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fc3RhcnQgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XHJcbiAgICAgICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlIHx8IFwibm9cIjtcclxuICAgICAgICAgICAgdGhpcy5jb25maWd1cmUoKTtcclxuICAgICAgICAgICAgdGhpcy5HZW9tZXRyeSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNldEVmZmVjdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBFZmZlY3RzLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuX2NhbnZhcy53aWR0aDtcclxuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuX2NhbnZhcy5oZWlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuX3RleHR1cmUpO1xyXG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTkVBUkVTVCk7XHJcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5ORUFSRVNUKTtcclxuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuQ0xBTVBfVE9fRURHRSk7XHJcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLkNMQU1QX1RPX0VER0UpO1xyXG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIHdpZHRoLCBoZWlnaHQsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG51bGwpO1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJidWZmZXIgPSBnbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIHRoaXMuX3JlbmRlcmJ1ZmZlcik7XHJcbiAgICAgICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9DT01QT05FTlQxNiwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lYnVmZmVyID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCB0aGlzLl9mcmFtZWJ1ZmZlcik7XHJcbiAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgdGhpcy5fdGV4dHVyZSwgMCk7XHJcbiAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBnbC5ERVBUSF9BVFRBQ0hNRU5ULCBnbC5SRU5ERVJCVUZGRVIsIHRoaXMuX3JlbmRlcmJ1ZmZlcik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIG51bGwpO1xyXG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBFZmZlY3RzLnByb3RvdHlwZS5HZW9tZXRyeSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdmFyIHZlcnRpY2VzID0gW1xyXG4gICAgICAgICAgICAgICAgLTEuMCwgLTEuMCxcclxuICAgICAgICAgICAgICAgIDEuMCwgLTEuMCxcclxuICAgICAgICAgICAgICAgIC0xLjAsIDEuMCxcclxuICAgICAgICAgICAgICAgIC0xLjAsIDEuMCxcclxuICAgICAgICAgICAgICAgIDEuMCwgLTEuMCxcclxuICAgICAgICAgICAgICAgIDEuMCwgMS4wXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlQ29vcmRzID0gW1xyXG4gICAgICAgICAgICAgICAgMC4wLCAwLjAsXHJcbiAgICAgICAgICAgICAgICAxLjAsIDAuMCxcclxuICAgICAgICAgICAgICAgIDAuMCwgMS4wLFxyXG4gICAgICAgICAgICAgICAgMC4wLCAxLjAsXHJcbiAgICAgICAgICAgICAgICAxLjAsIDAuMCxcclxuICAgICAgICAgICAgICAgIDEuMCwgMS4wXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIHRoaXMuX3ZibyA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fdmJvKTtcclxuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkodmVydGljZXMpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIHRoaXMuX3RibyA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fdGJvKTtcclxuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkodGV4dHVyZUNvb3JkcyksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVmZmVjdHMucHJvdG90eXBlLCBcInR5cGVcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90eXBlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBFZmZlY3RzLnByb3RvdHlwZS5zZXRFZmZlY3QgPSBmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgICAgICAgICB0aGlzLl90eXBlID0gdHlwZSB8fCB0aGlzLl90eXBlO1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB2YXIgc291cmNlID0ge307XHJcbiAgICAgICAgICAgIHNvdXJjZS52ZXJ0ZXggPSBTaGFkZXJzLlZlcnRleFtcIkVmZmVjdFwiXTtcclxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLl90eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiYWxsXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLmZyYWdtZW50ID0gU2hhZGVycy5GcmFnbWVudFtcIkFsbF9lZmZlY3RcIl07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiaW52ZXJ0XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLmZyYWdtZW50ID0gU2hhZGVycy5GcmFnbWVudFtcIkludmVydF9lZmZlY3RcIl07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZ3JleVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZS5mcmFnbWVudCA9IFNoYWRlcnMuRnJhZ21lbnRbXCJHcmV5X2VmZmVjdFwiXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJibHVyXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLmZyYWdtZW50ID0gU2hhZGVycy5GcmFnbWVudFtcIkJsdXJfZWZmZWN0XCJdO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImZpbG1cIjpcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2UuZnJhZ21lbnQgPSBTaGFkZXJzLkZyYWdtZW50W1wiRmlsbV9lZmZlY3RcIl07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwid2F2eVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZS5mcmFnbWVudCA9IFNoYWRlcnMuRnJhZ21lbnRbXCJXYXZ5X2VmZmVjdFwiXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJub1wiOlxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2UuZnJhZ21lbnQgPSBTaGFkZXJzLkZyYWdtZW50W1wiTm9fZWZmZWN0XCJdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zaGFkZXIpIHtcclxuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVByb2dyYW0odGhpcy5fc2hhZGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9zaGFkZXIgPSBXZWJHTFV0aWxzLmNyZWF0ZVByb2dyYW0oZ2wsIHNvdXJjZSk7XHJcbiAgICAgICAgICAgIHZhciBjb3VudDtcclxuICAgICAgICAgICAgdGhpcy5fYXR0cmlicyA9IHt9O1xyXG4gICAgICAgICAgICBjb3VudCA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5fc2hhZGVyLCBnbC5BQ1RJVkVfQVRUUklCVVRFUyk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGF0dHJpYiA9IGdsLmdldEFjdGl2ZUF0dHJpYih0aGlzLl9zaGFkZXIsIGkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYXR0cmlic1thdHRyaWIubmFtZV0gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLl9zaGFkZXIsIGF0dHJpYi5uYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl91bmlmb3JtcyA9IHt9O1xyXG4gICAgICAgICAgICBjb3VudCA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5fc2hhZGVyLCBnbC5BQ1RJVkVfVU5JRk9STVMpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciB1bmlmb3JtID0gZ2wuZ2V0QWN0aXZlVW5pZm9ybSh0aGlzLl9zaGFkZXIsIGkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdW5pZm9ybXNbdW5pZm9ybS5uYW1lXSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLl9zaGFkZXIsIHVuaWZvcm0ubmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIEVmZmVjdHMucHJvdG90eXBlLlNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuX2NhbnZhcy53aWR0aDtcclxuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuX2NhbnZhcy5oZWlnaHQ7XHJcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuX3RleHR1cmUpO1xyXG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIHdpZHRoLCBoZWlnaHQsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG51bGwpO1xyXG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgdGhpcy5fcmVuZGVyYnVmZmVyKTtcclxuICAgICAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX0NPTVBPTkVOVDE2LCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgbnVsbCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEVmZmVjdHMucHJvdG90eXBlLnNldE5vaXNlVGV4dHVyZSA9IGZ1bmN0aW9uIChkYXRhX3RleHR1cmUpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy5fbm9pc2V0ZXh0dXJlID0gV2ViR0xVdGlscy5jcmVhdGVUZXh0dXJlKGdsLCBkYXRhX3RleHR1cmUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgRWZmZWN0cy5wcm90b3R5cGUuQmluZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5fY2FudmFzLndpZHRoO1xyXG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5fY2FudmFzLmhlaWdodDtcclxuICAgICAgICAgICAgZ2wudXNlUHJvZ3JhbSh0aGlzLl9zaGFkZXIpO1xyXG4gICAgICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLl9hdHRyaWJzLmFfcG9zaXRpb24pO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fdmJvKTtcclxuICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLl9hdHRyaWJzLmFfcG9zaXRpb24sIDIsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XHJcbiAgICAgICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMuX2F0dHJpYnMuYV90ZXh0dXJlX2Nvb3Jkcyk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl90Ym8pO1xyXG4gICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMuX2F0dHJpYnMuYV90ZXh0dXJlX2Nvb3JkcywgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcclxuICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuX3RleHR1cmUpO1xyXG4gICAgICAgICAgICBnbC51bmlmb3JtMWkodGhpcy5fdW5pZm9ybXMudVNhbXBsZXIsIDApO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fdW5pZm9ybXMudVRpbWUpIHtcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xZih0aGlzLl91bmlmb3Jtcy51VGltZSwgKERhdGUubm93KCkgLSB0aGlzLl9zdGFydCkgLyAxMDAwLjApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl91bmlmb3Jtcy51SW52ZXJzZVRleHR1cmVTaXplKSB7XHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMmYodGhpcy5fdW5pZm9ybXMudUludmVyc2VUZXh0dXJlU2l6ZSwgMS4wIC8gd2lkdGgsIDEuMCAvIGhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuX3VuaWZvcm1zLnVOb2lzZVNhbXBsZXIgJiYgdGhpcy5fbm9pc2V0ZXh0dXJlKSB7XHJcbiAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUxKTtcclxuICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuX25vaXNldGV4dHVyZSk7XHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkodGhpcy5fdW5pZm9ybXMudU5vaXNlU2FtcGxlciwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIEVmZmVjdHMucHJvdG90eXBlLmJpbmRGcmFtZUJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCB0aGlzLl9mcmFtZWJ1ZmZlcik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBFZmZlY3RzLnByb3RvdHlwZS51bmJpbmRGcmFtZUJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEVmZmVjdHMucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVTLCAwLCA2KTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBnbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy5fYXR0cmlicy5hX3Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMuX2F0dHJpYnMuYV90ZXh0dXJlX2Nvb3Jkcyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gRWZmZWN0cztcclxuICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgQmxhemUuRWZmZWN0cyA9IEVmZmVjdHM7XHJcbiAgICB2YXIgTm9kZUVsZW1lbnQgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIE5vZGVFbGVtZW50KHBhcmVudCwgdHlwZSwgZW50aXR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudE5vZGUgPSBwYXJlbnQ7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9wYXJlbnROb2RlKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcGFyZW50Tm9kZS5hZGRDaGlsZE5vZGUodGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkTm9kZXMgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGU7XHJcbiAgICAgICAgICAgIHRoaXMuX29pZCA9IHV0aWxzLnV1aWQodGhpcy5fdHlwZSB8fCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUpO1xyXG4gICAgICAgICAgICB0aGlzLl9lbnRpdHkgPSBlbnRpdHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlRWxlbWVudC5wcm90b3R5cGUsIFwib2lkXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fb2lkO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9kZUVsZW1lbnQucHJvdG90eXBlLCBcInBhcmVudFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudE5vZGU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlRWxlbWVudC5wcm90b3R5cGUsIFwiZW50aXR5XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZW50aXR5O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChlbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VudGl0eSA9IGVudGl0eTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGVFbGVtZW50LnByb3RvdHlwZSwgXCJjaGlsZE5vZGVzXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY2hpbGROb2RlcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmFkZENoaWxkTm9kZSA9IGZ1bmN0aW9uIChjaGlsZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jaGlsZE5vZGVzLnB1c2goY2hpbGQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUNoaWxkTm9kZSA9IGZ1bmN0aW9uIChjaGlsZCkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4T2YoY2hpbGQpO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPiAtMSlcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NoaWxkTm9kZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5nZXRDaGlsZE5vZGVCeUluZGV4ID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGlsZE5vZGVzW2luZGV4XSB8fCB2b2lkIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuZXhpc3RzQ2hpbGROb2RlID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGlsZE5vZGVzW2luZGV4XSAhPT0gdm9pZCAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGFyZW50Tm9kZS5yZW1vdmVDaGlsZE5vZGUodGhpcyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlQ2hpbGROb2RlID0gZnVuY3Rpb24gKHR5cGUsIGVudGl0eSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IE5vZGVFbGVtZW50KHRoaXMsIHR5cGUsIGVudGl0eSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuaXNSb290ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50Tm9kZSA9PT0gdm9pZCAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiAoY2hpbGQpIHtcclxuICAgICAgICAgICAgdmFyIG9pZCA9IGNoaWxkLm9pZDtcclxuICAgICAgICAgICAgcmV0dXJuIF8uZmluZEluZGV4KHRoaXMuX2NoaWxkTm9kZXMsIGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLm9pZCA9PT0gb2lkOyB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5pbmRleEluUGFyZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSAtMTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzUm9vdCgpKVxyXG4gICAgICAgICAgICAgICAgaW5kZXggPSB0aGlzLl9wYXJlbnROb2RlLmluZGV4T2YodGhpcyk7XHJcbiAgICAgICAgICAgIHJldHVybiBpbmRleDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5oYXNTaWJsaW5nID0gZnVuY3Rpb24gKHByZXYpIHtcclxuICAgICAgICAgICAgdmFyIF9oYXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1Jvb3QoKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fcGFyZW50Tm9kZS5pbmRleE9mKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJldikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcGFyZW50Tm9kZS5nZXRDaGlsZE5vZGVCeUluZGV4KGluZGV4IC0gMSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaGF2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcGFyZW50Tm9kZS5nZXRDaGlsZE5vZGVCeUluZGV4KGluZGV4ICsgMSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaGF2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBfaGF2ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5uZXh0U2libGluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHNpYmxpbmcgPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNSb290KCkgJiYgdGhpcy5oYXNTaWJsaW5nKCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX3BhcmVudE5vZGUuaW5kZXhPZih0aGlzKTtcclxuICAgICAgICAgICAgICAgIHNpYmxpbmcgPSB0aGlzLl9wYXJlbnROb2RlLmdldENoaWxkTm9kZUJ5SW5kZXgoaW5kZXggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc2libGluZztcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5wcmV2aW91c1NpYmxpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzaWJsaW5nID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzUm9vdCgpICYmIHRoaXMuaGFzU2libGluZyh0cnVlKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fcGFyZW50Tm9kZS5pbmRleE9mKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgc2libGluZyA9IHRoaXMuX3BhcmVudE5vZGUuZ2V0Q2hpbGROb2RlQnlJbmRleChpbmRleCAtIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzaWJsaW5nO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmZpcnN0Q2hpbGQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENoaWxkTm9kZUJ5SW5kZXgoMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUubGFzdENoaWxkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGlsZE5vZGVCeUluZGV4KHRoaXMuX2NoaWxkTm9kZXMubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlQ2hpbGROb2RlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2hpbGROb2RlcyA9IFtdO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAobWF0cml4U3RhY2spIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2VudGl0eSlcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VudGl0eS5iZWdpbkRyYXcobWF0cml4U3RhY2spO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2NoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuX2NoaWxkTm9kZXNbaV07XHJcbiAgICAgICAgICAgICAgICBjaGlsZC5kcmF3KG1hdHJpeFN0YWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fZW50aXR5KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZW50aXR5LmVuZERyYXcobWF0cml4U3RhY2spO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIE5vZGVFbGVtZW50O1xyXG4gICAgfSgpKTtcclxuICAgIEJsYXplLk5vZGVFbGVtZW50ID0gTm9kZUVsZW1lbnQ7XHJcbiAgICB2YXIgU2NlbmVHcmFwaCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKFNjZW5lR3JhcGgsIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gU2NlbmVHcmFwaCgpIHtcclxuICAgICAgICAgICAgdmFyIG9pZCA9IHV0aWxzLnV1aWQoKTtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgb2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fb2lkID0gb2lkO1xyXG4gICAgICAgICAgICB0aGlzLl9zY2VuZSA9IG5ldyBOb2RlRWxlbWVudCh2b2lkIDAsIFwiU2NlbmVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdHJpeFN0YWNrID0gbmV3IE1hdHJpeFN0YWNrKHRoaXMuX29pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2xvYWRlckJ1ZmZlciA9IFtdO1xyXG4gICAgICAgICAgICBLZXRjaC5jcmVhdGVWaWV3KHRoaXMuX29pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdG9yID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fZWZmZWN0cyA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3VzZVNlbGVjdG9yID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTY2VuZUdyYXBoLnByb3RvdHlwZSwgXCJzY2VuZVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NjZW5lO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5FbnZpcm9ubWVudCA9IGZ1bmN0aW9uIChiKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIGIgPSBiIHx8IFtdO1xyXG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuREVQVEhfVEVTVCk7XHJcbiAgICAgICAgICAgIGdsLmRlcHRoRnVuYyhnbC5MRVFVQUwpO1xyXG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuQkxFTkQpO1xyXG4gICAgICAgICAgICBnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcclxuICAgICAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGdsLmNsZWFyQ29sb3IoYlswXSB8fCAwLCBiWzFdIHx8IDAsIGJbMl0gfHwgMCwgMSk7XHJcbiAgICAgICAgICAgIGdsLmNsZWFyRGVwdGgoMS4wKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2VmZmVjdHMgJiYgdGhpcy5fZWZmZWN0cy50eXBlICE9PSBcIm5vXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1dpdGhFZmZlY3RzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdTY2VuZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5kcmF3U2NlbmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHRoaXMudXNlUHJvZ3JhbSgpO1xyXG4gICAgICAgICAgICB2YXIgZHJhdyA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCBnbC52aWV3cG9ydFdpZHRoLCBnbC52aWV3cG9ydEhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUIHwgZ2wuREVQVEhfQlVGRkVSX0JJVCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zY2VuZS5kcmF3KHRoaXMuX21hdHJpeFN0YWNrKTtcclxuICAgICAgICAgICAgfSkuYmluZCh0aGlzKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3NlbGVjdG9yICYmIHRoaXMuX3VzZVNlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3Rvci5yZW5kZXIoZHJhdyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZHJhdygpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuZHJhd1dpdGhFZmZlY3RzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9lZmZlY3RzLlNpemUoKTtcclxuICAgICAgICAgICAgdGhpcy5fZWZmZWN0cy5iaW5kRnJhbWVCdWZmZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5kcmF3U2NlbmUoKTtcclxuICAgICAgICAgICAgdGhpcy5fZWZmZWN0cy51bmJpbmRGcmFtZUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICB0aGlzLl9lZmZlY3RzLkJpbmQoKTtcclxuICAgICAgICAgICAgdGhpcy5fZWZmZWN0cy5kcmF3KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS51c2VQcm9ncmFtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBLZXRjaC51c2VQcm9ncmFtKHRoaXMub2lkKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZU1haW5DaGlsZE5vZGUgPSBmdW5jdGlvbiAodHlwZSwgZW50aXR5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY2VuZS5jcmVhdGVDaGlsZE5vZGUodHlwZSwgZW50aXR5KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLnJlbW92ZU1haW5DaGlsZE5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zY2VuZS5yZW1vdmVDaGlsZE5vZGUobm9kZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2NlbmVHcmFwaC5wcm90b3R5cGUsIFwib2lkXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fb2lkO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5zZXRDb250ZXh0ID0gZnVuY3Rpb24gKGNhbnZhcykge1xyXG4gICAgICAgICAgICBLZXRjaC5zZXRDYW52YXNUb0NvbnRleHQodGhpcy5vaWQsIGNhbnZhcyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5Qcm9ncmFtID0gZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgdHlwZSA9IHR5cGUgfHwgXCJQaG9uZ1wiO1xyXG4gICAgICAgICAgICBLZXRjaC5jcmVhdGVQcm9ncmFtKHRoaXMuX29pZCwge1xyXG4gICAgICAgICAgICAgICAgZnJhZ21lbnQ6IFNoYWRlcnMuRnJhZ21lbnRbdHlwZV0gfHwgU2hhZGVycy5GcmFnbWVudFtcIlBob25nXCJdLFxyXG4gICAgICAgICAgICAgICAgdmVydGV4OiBTaGFkZXJzLlZlcnRleFt0eXBlXSB8fCBTaGFkZXJzLlZlcnRleFtcIlBob25nXCJdXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlTWVzaCA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICAgICAgdmFyIG1lc2hFbnRpdHkgPSBuZXcgTWVzaEVudGl0eSh0aGlzLm9pZCk7XHJcbiAgICAgICAgICAgIGlmIChjb25maWcubWVzaCkge1xyXG4gICAgICAgICAgICAgICAgbWVzaEVudGl0eS5sb2FkTWVzaEJ5T2JqZWN0KGNvbmZpZy5tZXNoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY29uZmlnLm1hdGVyaWFsKSB7XHJcbiAgICAgICAgICAgICAgICBtZXNoRW50aXR5LmxvYWRNYXRlcmlhbEJ5T2JqZWN0KGNvbmZpZy5tYXRlcmlhbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG1lc2hFbnRpdHk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVEaWZmdXNlID0gZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEaWZmdXNlRW50aXR5KHRoaXMub2lkLCB2KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZU1lc2hCeUxvYWRlciA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICAgICAgdmFyIG1lc2ggPSBuZXcgTWVzaEVudGl0eSh0aGlzLm9pZCwgY29uZmlnLm1lc2gsIGNvbmZpZy5tYXRlcmlhbCwgY29uZmlnLnRleHR1cmUpO1xyXG4gICAgICAgICAgICB0aGlzLl9sb2FkZXJCdWZmZXIucHVzaChtZXNoKTtcclxuICAgICAgICAgICAgcmV0dXJuIG1lc2g7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAocG9zaXRpb24sIHNpemUsIHJvdGF0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgVHJhbnNmb3JtRW50aXR5KHRoaXMub2lkLCBwb3NpdGlvbiwgc2l6ZSwgcm90YXRpb24pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlTGlnaHQgPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTGlnaHRFbnRpdHkodGhpcy5vaWQsIGNvbmZpZy5hbWJpZW50LCBjb25maWcuZGlmZnVzZSwgY29uZmlnLnBvc2l0aW9uLCBjb25maWcuc3BlY3VsYXIsIGNvbmZpZy5kaXJlY3Rpb24sIGNvbmZpZy5jdXRvZmYpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlQ2FtZXJhID0gZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDYW1lcmFFbnRpdHkodGhpcy5vaWQsIHR5cGUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlUGFydGljbGUgPSBmdW5jdGlvbiAocG9pbnRTaXplKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGFydGljbGVFbnRpdHkodGhpcy5vaWQsIHBvaW50U2l6ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVBeGlzID0gZnVuY3Rpb24gKGxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEF4aXNFbnRpdHkodGhpcy5vaWQsIGxlbmd0aCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVHcmlkID0gZnVuY3Rpb24gKGRpbSwgbGluZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBHcmlkRW50aXR5KHRoaXMub2lkLCBkaW0sIGxpbmVzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZVNlbGVjdCA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2VsZWN0RW50aXR5KHRoaXMub2lkLCBkYXRhKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZVNlbGVjdG9yID0gZnVuY3Rpb24gKGRpbWVuc2lvbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2VsZWN0b3IgPSBuZXcgU2VsZWN0b3IodGhpcy5vaWQsIGRpbWVuc2lvbnMpO1xyXG4gICAgICAgICAgICB0aGlzLl91c2VTZWxlY3RvciA9IHRydWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2NlbmVHcmFwaC5wcm90b3R5cGUsIFwidXNlU2VsZWN0b3JcIiwge1xyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl91c2VTZWxlY3RvciA9IHY7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmZpbGxTZWxlY3RvciA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3NlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3Rvci5maWxsKG9iaik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNsZWFyU2VsZWN0b3IgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zZWxlY3Rvcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0b3IuY2xlYXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuc2VsZWN0ID0gZnVuY3Rpb24gKHBvcykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fc2VsZWN0b3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZWxlY3Rvci5maW5kKHBvcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZUVmZmVjdHMgPSBmdW5jdGlvbiAoY2FudmFzLCB0eXBlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VmZmVjdHMgPSBuZXcgRWZmZWN0cyh0aGlzLm9pZCwgY2FudmFzLCB0eXBlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLnNldE5vaXNlRWZmZWN0ID0gZnVuY3Rpb24gKHRleHR1cmUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2VmZmVjdHMpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lZmZlY3RzLnNldE5vaXNlVGV4dHVyZSh0ZXh0dXJlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLnNldEVmZmVjdCA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9lZmZlY3RzKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWZmZWN0cy5zZXRFZmZlY3QodHlwZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVMaWdodEFycmF5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IExpZ2h0QXJyYXlFbnRpdHkodGhpcy5vaWQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNjZW5lR3JhcGgucHJvdG90eXBlLCBcIk1haW5DYW1lcmFcIiwge1xyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChjYW1lcmEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21hdHJpeFN0YWNrLk1haW5DYW1lcmEgPSBjYW1lcmE7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLnJlbW92ZVRleHR1cmUgPSBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICAgICAgS2V0Y2gucmVtb3ZlVGV4dHVyZSh0aGlzLm9pZCwgaWQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuc3RhcnRMb2FkZXIgPSBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgYXN5bmMuZWFjaFNlcmllcyh0aGlzLl9sb2FkZXJCdWZmZXIsIGZ1bmN0aW9uIChpdGVtLCBuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmxvYWRNZXNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSwgY2IpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKGNvbmZpZykge1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZyB8fCB7fTtcclxuICAgICAgICAgICAgc2VsZi5FbnZpcm9ubWVudChjb25maWcuYmFja2dyb3VuZCk7XHJcbiAgICAgICAgICAgIHNlbGYuUHJvZ3JhbShjb25maWcudHlwZVNoYWRlcik7XHJcbiAgICAgICAgICAgIEtldGNoLnNldEF0dHJpYnV0ZUxvY2F0aW9ucyhzZWxmLl9vaWQsIFNjZW5lR3JhcGguQVRUUklCVVRFUyk7XHJcbiAgICAgICAgICAgIEtldGNoLnNldFVuaWZvcm1Mb2NhdGlvbnMoc2VsZi5fb2lkLCBTY2VuZUdyYXBoLlVOSUZPUk1TKTtcclxuICAgICAgICAgICAgdGhpcy5fbWF0cml4U3RhY2suaW5pdCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY29uZmlndXJlV2l0aExvYWRlciA9IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIHNlbGYuY29uZmlndXJlKCk7XHJcbiAgICAgICAgICAgIHNlbGYuc3RhcnRMb2FkZXIoY2IpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5VTklGT1JNUyA9IFtcclxuICAgICAgICAgICAgJ3VQTWF0cml4JyxcclxuICAgICAgICAgICAgJ3VNVk1hdHJpeCcsXHJcbiAgICAgICAgICAgICd1Tk1hdHJpeCcsXHJcbiAgICAgICAgICAgIFwidUxpZ2h0UG9zaXRpb25cIixcclxuICAgICAgICAgICAgJ3VMaWdodERpcmVjdGlvbicsXHJcbiAgICAgICAgICAgIFwidUN1dE9mZlwiLFxyXG4gICAgICAgICAgICAndUxpZ2h0QW1iaWVudCcsXHJcbiAgICAgICAgICAgICd1TWF0ZXJpYWxBbWJpZW50JyxcclxuICAgICAgICAgICAgJ3VMaWdodERpZmZ1c2UnLFxyXG4gICAgICAgICAgICAndU1hdGVyaWFsRGlmZnVzZScsXHJcbiAgICAgICAgICAgICd1TGlnaHRTcGVjdWxhcicsXHJcbiAgICAgICAgICAgICd1TWF0ZXJpYWxTcGVjdWxhcicsXHJcbiAgICAgICAgICAgICd1U2hpbmluZXNzJyxcclxuICAgICAgICAgICAgJ3VQb2ludFNpemUnLFxyXG4gICAgICAgICAgICBcInVTYW1wbGVyXCIsXHJcbiAgICAgICAgICAgIFwidVdpcmVmcmFtZVwiLFxyXG4gICAgICAgICAgICBcInVQZXJWZXJ0ZXhDb2xvclwiLFxyXG4gICAgICAgICAgICBcInVTZWxlY3RDb2xvclwiLFxyXG4gICAgICAgICAgICBcInVPZmZzY3JlZW5cIixcclxuICAgICAgICAgICAgXCJ1SW52ZXJzZVRleHR1cmVTaXplXCIsXHJcbiAgICAgICAgICAgIFwidU5vaXNlU2FtcGxlclwiLFxyXG4gICAgICAgICAgICBcInVUaW1lXCJcclxuICAgICAgICBdO1xyXG4gICAgICAgIFNjZW5lR3JhcGguQVRUUklCVVRFUyA9IFsnYV9wb3NpdGlvbicsICdhX25vcm1hbCcsIFwiYV9jb2xvclwiLCBcImFfdGV4dHVyZV9jb29yZHNcIl07XHJcbiAgICAgICAgcmV0dXJuIFNjZW5lR3JhcGg7XHJcbiAgICB9KFJlbmRlcmFibGUpKTtcclxuICAgIEJsYXplLlNjZW5lR3JhcGggPSBTY2VuZUdyYXBoO1xyXG59KShCbGF6ZSB8fCAoQmxhemUgPSB7fSkpO1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
